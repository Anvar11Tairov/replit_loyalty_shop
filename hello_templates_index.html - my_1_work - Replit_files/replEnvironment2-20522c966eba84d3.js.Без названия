(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9460,4924,6808,7669],{60937:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/replEnvironment2",function(){return t(34392)}])},67669:function(e,n,t){"use strict";var r,i,o,a,l,c,u,s,d,p,f,h,v,m,g,Z,y,b,w,x,R,T,E,C,k,I,S,P,D,_,U,A,B,G,N,O,M,L,X,F,z,W,j,H,V,q,Y,$,K,Q,J,ee,ne,te,re,ie,oe,ae,le,ce,ue,se,de,pe,fe,he,ve,me,ge,Ze,ye,be,we,xe,Re,Te,Ee,Ce,ke,Ie,Se,Pe,De,_e,Ue,Ae,Be,Ge,Ne,Oe,Me,Le,Xe,Fe,ze,We,je,He,Ve,qe,Ye,$e,Ke;t.d(n,{HN:function(){return fe},Ys:function(){return ve},bN:function(){return Q},cK:function(){return he},dD:function(){return I},l6:function(){return K},pO:function(){return R}}),function(e){e.Hacker_1mo="hacker_1mo",e.Hacker_12mo="hacker_12mo",e.HackerGhStudentDevPack_1mo="hacker_gh_student_dev_pack_1mo",e.HackerVoucher_1mo="hacker_voucher_1mo",e.TeamsProBetaPerSeat_1moUsd="teams_pro_beta_per_seat_1mo_usd"}(r||(r={})),function(e){e.Coupon="coupon",e.PromotionCode="promotion_code"}(i||(i={})),function(e){e.Bounty="bounty",e.BountyApplications="bountyApplications",e.CustomThemes="customThemes",e.Escalated="escalated",e.Repl="repl",e.ReplComment="replComment",e.ReportedUser="reportedUser"}(o||(o={})),function(e){e.Boost_2cpu_2ram="boost_2cpu_2ram",e.Boost_4cpu_4ram="boost_4cpu_4ram",e.Boost_8cpu_8ram="boost_8cpu_8ram",e.Boost_16cpu_16ram="boost_16cpu_16ram",e.Off="off"}(a||(a={})),function(e){e.Boost_2cpu_2ram="boost_2cpu_2ram",e.Boost_4cpu_4ram="boost_4cpu_4ram",e.Boost_8cpu_8ram="boost_8cpu_8ram",e.Boost_16cpu_16ram="boost_16cpu_16ram",e.Off="off"}(l||(l={})),function(e){e.ApplicationDateAscending="applicationDateAscending",e.ApplicationDateDescending="applicationDateDescending",e.CompletedBountiesDescending="completedBountiesDescending",e.Recommended="recommended"}(c||(c={})),function(e){e.Accepted="accepted",e.All="all",e.NotReviewed="notReviewed",e.Rejected="rejected",e.RejectedAndNotReviewed="rejectedAndNotReviewed"}(u||(u={})),function(e){e.Discord="discord",e.Email="email",e.Other="other"}(s||(s={})),function(e){e.ApplicationCountAscending="applicationCountAscending",e.CreationDateDescending="creationDateDescending",e.CyclesDescending="cyclesDescending",e.Recommended="recommended"}(d||(d={})),function(e){e.All="all",e.Closed="closed",e.InProgress="inProgress",e.Open="open"}(p||(p={})),function(e){e.Annual="annual",e.Monthly="monthly"}(f||(f={})),function(e){e.TeamsPro="teams_pro"}(h||(h={})),function(e){e.Adjustments="adjustments",e.Credits="credits",e.Earnings="earnings",e.Marketplace="marketplace",e.PowerUps="power_ups",e.Uncategorized="uncategorized"}(v||(v={})),function(e){e.AlwaysOn="always_on",e.Boost="boost",e.Bounty="bounty",e.CashedOut="cashed_out",e.FeeCharged="fee_charged",e.Ghostwriter="ghostwriter",e.Gpu="gpu",e.Granted="granted",e.PrivateRepl="private_repl",e.Purchased="purchased",e.Redeemed="redeemed",e.Retired="retired",e.Tips="tips",e.Transferred="transferred",e.Uncategorized="uncategorized"}(m||(m={})),function(e){e.Explanation="explanation",e.Generation="generation",e.Search="search",e.Transformation="transformation"}(g||(g={})),function(e){e.No="no",e.Yes="yes"}(Z||(Z={})),function(e){e.Draft="draft",e.InReview="in_review",e.Published="published"}(y||(y={})),function(e){e.Dark="dark",e.Light="light"}(b||(b={})),function(e){e.Deleted="deleted",e.Hidden="hidden",e.Public="public"}(w||(w={})),function(e){e.Ghostwriter="ghostwriter"}(x||(x={})),function(e){e.OneTime="oneTime",e.RecurringChargeNow="recurringChargeNow"}(R||(R={})),function(e){e.Bounties="bounties",e.CyclesPage="cyclesPage",e.NewReplModal="newReplModal",e.PatronConfirmation="patronConfirmation",e.PaymentFailure="paymentFailure",e.Profile="profile",e.Workspace="workspace"}(T||(T={})),function(e){e.CashedOut="cashed_out",e.Earned="earned",e.FeeCharged="fee_charged",e.Granted="granted",e.Purchased="purchased",e.Redeemed="redeemed",e.Retired="retired",e.Transferred="transferred"}(E||(E={})),function(e){e.Accepted="ACCEPTED",e.Denied="DENIED",e.Pending="PENDING"}(C||(C={})),function(e){e.Dir="dir",e.File="file"}(k||(k={})),function(e){e.Deploy="deploy",e.Fail="fail",e.Rollback="rollback"}(I||(I={})),function(e){e.Building="building",e.Failed="failed",e.Success="success"}(S||(S={})),function(e){e.Failed="failed",e.Passed="passed"}(P||(P={})),function(e){e.IntentBusiness="INTENT_BUSINESS",e.IntentPersonal="INTENT_PERSONAL",e.IntentStudent="INTENT_STUDENT",e.IntentTeacher="INTENT_TEACHER"}(D||(D={})),function(e){e.Bounties="bounties",e.ExternalTransactions="external_transactions",e.ReplOrder="repl_order",e.UserOrder="user_order"}(_||(_={})),function(e){e.WebPostgres="web_postgres"}(U||(U={})),function(e){e.Create="CREATE",e.Delete="DELETE",e.Update="UPDATE"}(A||(A={})),function(e){e.BannedBoardUsers="bannedBoardUsers",e.BoardReports="boardReports",e.Boards="boards",e.BountyApplications="bountyApplications",e.Comments="comments",e.CustomThemes="customThemes",e.Notifications="notifications",e.Posts="posts",e.Repls="repls",e.Warning="warning"}(B||(B={})),function(e){e.Newest="newest",e.Oldest="oldest"}(G||(G={})),function(e){e.Create="create",e.Delete="delete",e.Update="update"}(N||(N={})),function(e){e.BannedBoardUsers="BannedBoardUsers",e.BoardReports="BoardReports",e.Comments="Comments",e.Posts="Posts",e.Warning="Warning"}(O||(O={})),function(e){e.Newest="NEWEST",e.Oldest="OLDEST"}(M||(M={})),function(e){e.Annotation="annotation",e.Board="board",e.Classroom="classroom",e.Multiplayer="multiplayer",e.Team="team"}(L||(L={})),function(e){e.ReplitDark="replitDark",e.ReplitLight="replitLight",e.ReplitSpooky="replitSpooky"}(X||(X={})),function(e){e.OnboardingExperienceHigh="ONBOARDING_EXPERIENCE_HIGH",e.OnboardingExperienceLow="ONBOARDING_EXPERIENCE_LOW",e.OnboardingExperienceMedium="ONBOARDING_EXPERIENCE_MEDIUM",e.OnboardingExperienceNone="ONBOARDING_EXPERIENCE_NONE"}(F||(F={})),function(e){e.Disabled="disabled",e.Enabled="enabled"}(z||(z={})),function(e){e.Activate="ACTIVATE",e.Activated="ACTIVATED",e.ActivateAlreadyTrialed="ACTIVATE_ALREADY_TRIALED",e.TrialExpired="TRIAL_EXPIRED",e.TrialOngoing="TRIAL_ONGOING"}(W||(W={})),function(e){e.ActivateExistingOrder="ACTIVATE_EXISTING_ORDER",e.IncludedInExistingOrder="INCLUDED_IN_EXISTING_ORDER",e.IncludedInSubscription="INCLUDED_IN_SUBSCRIPTION",e.NeedsCycles="NEEDS_CYCLES",e.NeedsSubscription="NEEDS_SUBSCRIPTION",e.SpendCycles="SPEND_CYCLES"}(j||(j={})),function(e){e.Cycles="CYCLES",e.Invalid="INVALID",e.Subscription="SUBSCRIPTION"}(H||(H={})),function(e){e.Cycles="CYCLES",e.Subscription="SUBSCRIPTION"}(V||(V={})),function(e){e.Ghostwriter="ghostwriter"}(q||(q={})),function(e){e.Https="HTTPS",e.Wss="WSS"}(Y||(Y={})),function(e){e.App="App",e.RegularRepl="RegularRepl",e.Template="Template"}($||($={})),function(e){e.LatestActivity="latestActivity",e.StatusDescending="statusDescending"}(K||(K={})),function(e){e.AlwaysOn="alwaysOn",e.Asleep="asleep",e.Awake="awake",e.Limited="limited"}(Q||(Q={})),function(e){e.Allowed="Allowed",e.Disallowed="Disallowed",e.SubscriptionRequired="SubscriptionRequired"}(J||(J={})),function(e){e.Allowed="Allowed",e.Disallowed="Disallowed",e.SubscriptionRequired="SubscriptionRequired"}(ee||(ee={})),function(e){e.DeletedFile="DeletedFile",e.ModfiedFile="ModfiedFile",e.NewFile="NewFile"}(ne||(ne={})),function(e){e.AllTeams="ALL_TEAMS",e.AlwaysOn="ALWAYS_ON",e.Boosts="BOOSTS",e.Default="DEFAULT",e.Multiplayer="MULTIPLAYER",e.Team="TEAM",e.Virtual="VIRTUAL"}(te||(te={})),function(e){e.Hot="Hot",e.New="New",e.Top="Top"}(re||(re={})),function(e){e.AlwaysOn="alwaysOn",e.Boost="boost",e.Gpu="gpu"}(ie||(ie={})),function(e){e.Compatibility="compatibility",e.Exact="exact",e.Match="match",e.Regex="regex"}(oe||(oe={})),function(e){e.Failed="FAILED",e.None="NONE",e.Passed="PASSED"}(ae||(ae={})),function(e){e.ReplFile="repl_file",e.ReplImage="repl_image"}(le||(le={})),function(e){e.Auth="Auth",e.CreateTemplate="CreateTemplate",e.EditTemplate="EditTemplate",e.PublishTemplate="PublishTemplate",e.Resubmit="Resubmit",e.ReviewSubmission="ReviewSubmission",e.Share="Share",e.ShareUpgrade="ShareUpgrade",e.Submit="Submit",e.UpdateModelSolution="UpdateModelSolution"}(ce||(ce={})),function(e){e.Private="PRIVATE",e.Public="PUBLIC"}(ue||(ue={})),function(e){e.Accepted="accepted",e.NotReviewed="notReviewed",e.Rejected="rejected"}(se||(se={})),function(e){e.Boosted_1="boosted_1",e.Boosted_2="boosted_2",e.Boosted_3="boosted_3",e.Boosted_4="boosted_4",e.Standard="standard"}(de||(de={})),function(e){e.Docs="Docs",e.Files="Files",e.Posts="Posts",e.Repls="Repls",e.Tags="Tags",e.Templates="Templates",e.Users="Users"}(pe||(pe={})),function(e){e.RecentlyModified="RecentlyModified",e.Relevant="Relevant"}(fe||(fe={})),function(e){e.MostComments="MostComments",e.MostVotes="MostVotes",e.RecentlyCreated="RecentlyCreated",e.Relevant="Relevant",e.Trending="Trending"}(he||(he={})),function(e){e.MostForks="MostForks",e.MostLikes="MostLikes",e.MostRuns="MostRuns",e.RecentlyCreated="RecentlyCreated",e.RecentlyModified="RecentlyModified",e.Relevant="Relevant",e.Trending="Trending"}(ve||(ve={})),function(e){e.All="All",e.Community="Community",e.Official="Official"}(me||(me={})),function(e){e.ChargeAutomatically="charge_automatically",e.SendInvoice="send_invoice"}(ge||(ge={})),function(e){e.Canceled="canceled",e.Chargeable="chargeable",e.Consumed="consumed",e.Errored="errored",e.Failed="failed",e.New="new",e.Pending="pending",e.Validated="validated",e.VerificationFailed="verificationFailed",e.Verified="verified"}(Ze||(Ze={})),function(e){e.Active="active",e.Canceled="canceled",e.Incomplete="incomplete",e.IncompleteExpired="incompleteExpired",e.PastDue="pastDue",e.Trialing="trialing",e.Unpaid="unpaid"}(ye||(ye={})),function(e){e.Admin="ADMIN",e.Owner="OWNER"}(be||(be={})),function(e){e.Month="MONTH",e.Year="YEAR"}(we||(we={})),function(e){e.Education="EDUCATION",e.Pro="PRO"}(xe||(xe={})),function(e){e.Admin="admin",e.BillingAdmin="billing_admin",e.Member="member",e.Owner="owner"}(Re||(Re={})),function(e){e.Education="EDUCATION",e.Pro="PRO"}(Te||(Te={})),function(e){e.Forks="forks",e.Recent="recent",e.SearchRelevancy="searchRelevancy"}(Ee||(Ee={})),function(e){e.All="all",e.NotPromoted="notPromoted",e.Promoted="promoted"}(Ce||(Ce={})),function(e){e.All="all",e.Codealong="codealong",e.Highlighted="highlighted",e.Remix="remix"}(ke||(ke={})),function(e){e.Apple="APPLE",e.Facebook="FACEBOOK",e.Github="GITHUB",e.Google="GOOGLE"}(Ie||(Ie={})),function(e){e.Ghostwriter="ghostwriter",e.Private="private"}(Se||(Se={})),function(e){e.Never="never",e.WhenOnline="when_online",e.WhereOnline="where_online"}(Pe||(Pe={})),function(e){e.Admin="ADMIN",e.Business="BUSINESS",e.ContentCreator="CONTENT_CREATOR",e.DaysOfCode="DAYS_OF_CODE",e.Detective="DETECTIVE",e.Developer="DEVELOPER",e.Explorer="EXPLORER",e.Featured="FEATURED",e.GithubClassroomUser="GITHUB_CLASSROOM_USER",e.IntentBusiness="INTENT_BUSINESS",e.IntentPersonal="INTENT_PERSONAL",e.IntentStudent="INTENT_STUDENT",e.IntentTeacher="INTENT_TEACHER",e.LanguageJammer="LANGUAGE_JAMMER",e.Moderator="MODERATOR",e.OnboardingExperienceHigh="ONBOARDING_EXPERIENCE_HIGH",e.OnboardingExperienceLow="ONBOARDING_EXPERIENCE_LOW",e.OnboardingExperienceMedium="ONBOARDING_EXPERIENCE_MEDIUM",e.OnboardingExperienceNone="ONBOARDING_EXPERIENCE_NONE",e.Patron="PATRON",e.PrivacyLimitedAccess="PRIVACY_LIMITED_ACCESS",e.ReplitIdentityTesting="REPLIT_IDENTITY_TESTING",e.ReplitRep="REPLIT_REP",e.ReplitRepEdu="REPLIT_REP_EDU",e.ReplitStaff="REPLIT_STAFF",e.SelfLearner="SELF_LEARNER",e.Student="STUDENT",e.TaskProgramMember="TASK_PROGRAM_MEMBER",e.Teacher="TEACHER",e.TeacherRejected="TEACHER_REJECTED",e.TeacherUnverified="TEACHER_UNVERIFIED",e.TemplateDeveloper="TEMPLATE_DEVELOPER",e.Tester="TESTER"}(De||(De={})),function(e){e.Discord="discord",e.Facebook="facebook",e.Github="github",e.Linkedin="linkedin",e.Twitch="twitch",e.Twitter="twitter",e.Website="website",e.Youtube="youtube"}(_e||(_e={})),function(e){e.Low="low"}(Ue||(Ue={})),function(e){e.Email="EMAIL",e.Username="USERNAME"}(Ae||(Ae={})),function(e){e.Reject="reject",e.Verify="verify"}(Be||(Be={})),function(e){e.Closed="closed",e.InProgress="in_progress",e.Open="open"}(Ge||(Ge={})),function(e){e.Accepted="accepted",e.NotReviewed="not_reviewed",e.Rejected="rejected"}(Ne||(Ne={})),function(e){e.ApplicationReviewed="application_reviewed",e.ApplicationSubmitted="application_submitted",e.BountyAbandoned="bounty_abandoned",e.BountyCanceled="bounty_canceled",e.BountyStateChange="bounty_state_change",e.BountyUpdated="bounty_updated",e.WorkReviewed="work_reviewed",e.WorkSubmitted="work_submitted"}(Oe||(Oe={})),function(e){e.Bank="bank",e.Card="card",e.Check="check"}(Me||(Me={})),function(e){e.BannedBoardUsers="BannedBoardUsers",e.BoardReports="BoardReports",e.Boards="Boards",e.BountyApplications="BountyApplications",e.Comments="Comments",e.CustomThemes="CustomThemes",e.Notifications="Notifications",e.Posts="Posts",e.Repls="Repls",e.Warning="Warning"}(Le||(Le={})),function(e){e.Create="create",e.Delete="delete",e.Update="update"}(Xe||(Xe={})),function(e){e.R="r",e.Rw="rw"}(Fe||(Fe={})),function(e){e.R="r",e.Rw="rw"}(ze||(ze={})),function(e){e.Eyes="eyes",e.Fire="fire",e.Heart="heart",e.OpenMouth="open_mouth",e.Rocket="rocket"}(We||(We={})),function(e){e.ReplFile="repl_file",e.ReplImage="repl_image"}(je||(je={})),function(e){e.Admin="admin",e.Owner="owner",e.Team="team"}(He||(He={})),function(e){e.Active="active",e.Canceled="canceled",e.Incomplete="incomplete",e.IncompleteExpired="incomplete_expired",e.PastDue="past_due",e.Trialing="trialing",e.Unpaid="unpaid"}(Ve||(Ve={})),function(e){e.CreateReaction="create_reaction",e.PublishPost="publish_post",e.PublishTemplate="publish_template",e.UpdatePost="update_post",e.UpdateTemplate="update_template",e.UserComment="user_comment",e.UserFollowing="user_following"}(qe||(qe={})),function(e){e.Discord="discord",e.Facebook="facebook",e.Github="github",e.Linkedin="linkedin",e.Twitch="twitch",e.Twitter="twitter",e.Website="website",e.Youtube="youtube"}(Ye||(Ye={})),function(e){e.Bank="bank",e.Card="card",e.Check="check"}($e||($e={})),function(e){e.Active="active",e.Canceled="canceled",e.Incomplete="incomplete",e.IncompleteExpired="incomplete_expired",e.PastDue="past_due",e.Trialing="trialing",e.Unpaid="unpaid"}(Ke||(Ke={}))},7243:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(35944),i=(t(67294),t(69346)),o=t(81255);function a(e){var n=e.gap,t=e.inset,a=e.children,l=e.className;return(0,r.tZ)(i.Z,{className:l,css:[{overflowX:"auto",overflowY:"hidden","::-webkit-scrollbar":[o.l0.display.none]}],children:(0,r.tZ)(i.Z,{css:[o.l0.px(t),o.l0.rowWithGap(n),{width:"fit-content"}],children:a})})}},42699:function(e,n,t){"use strict";t.d(n,{l:function(){return o},x:function(){return i}});var r=t(60977),i=function(e){(0,r.j)(r.U3.COURSE_ACTION,e)},o=function(e){(0,r.j)(r.U3.LESSON_ACTION,e)}},21767:function(e,n,t){"use strict";t.d(n,{Y:function(){return o}});var r=t(7297);function i(){var e=(0,r.Z)(["\n  fragment ReplLinkRepl on Repl {\n    id\n    url\n    nextPagePathname\n  }\n"]);return i=function(){return e},e}var o=(0,t(31230).Ps)(i())},35923:function(e,n,t){"use strict";t.d(n,{V:function(){return v},Q:function(){return w}});var r=t(82670),i=t(26042),o=t(53144),a=t(51438),l=.5*(Math.sqrt(3)-1),c=(3-Math.sqrt(3))/6,u=new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),s=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random;(0,a.Z)(this,e);var t="function"===typeof n?n:p(n);this.p=d(t),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var r=0;r<512;r++)this.perm[r]=this.p[255&r],this.permMod12[r]=this.perm[r]%12}return e.prototype.noise2D=function(e,n){var t,r,i=this.permMod12,o=this.perm,a=0,s=0,d=0,p=(e+n)*l,f=Math.floor(e+p),h=Math.floor(n+p),v=(f+h)*c,m=e-(f-v),g=n-(h-v);m>g?(t=1,r=0):(t=0,r=1);var Z=m-t+c,y=g-r+c,b=m-1+2*c,w=g-1+2*c,x=255&f,R=255&h,T=.5-m*m-g*g;if(T>=0){var E=3*i[x+o[R]];a=(T*=T)*T*(u[E]*m+u[E+1]*g)}var C=.5-Z*Z-y*y;if(C>=0){var k=3*i[x+t+o[R+r]];s=(C*=C)*C*(u[k]*Z+u[k+1]*y)}var I=.5-b*b-w*w;if(I>=0){var S=3*i[x+1+o[R+1]];d=(I*=I)*I*(u[S]*b+u[S+1]*w)}return 70*(a+s+d)},e}();function d(e){for(var n=new Uint8Array(256),t=0;t<256;t++)n[t]=t;for(var r=0;r<255;r++){var i=r+~~(e()*(256-r)),o=n[r];n[r]=n[i],n[i]=o}return n}function p(e){var n=0,t=0,r=0,i=1,o=function(){var e=4022871197;return function(n){n=n.toString();for(var t=0;t<n.length;t++){var r=.02519603282416938*(e+=n.charCodeAt(t));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();return n=o(" "),t=o(" "),r=o(" "),(n-=o(e))<0&&(n+=1),(t-=o(e))<0&&(t+=1),(r-=o(e))<0&&(r+=1),function(){var e=2091639*n+2.3283064365386963e-10*i;return n=t,t=r,r=e-(i=0|e)}}var f=new s;var h=t(25108);function v(e){var n=!1,t=0,r=0,i=null,o=function(l){if(n){var c=l-t;r+=c,t=l,i=window.requestAnimationFrame(o),e({elapsedTime:r,deltaTime:c,stop:a})}},a=function(){n&&(n=!1,i&&window.cancelAnimationFrame(i))};return{start:function(){n||(r=0,t=performance.now(),n=!0,i=window.requestAnimationFrame(o))},stop:a}}var m=function(){return(0,o.hd)(600,1200)},g=function(){return(0,o.hd)(1,3)},Z=function(){return{width:(0,o.hd)(5,20),height:(0,o.hd)(5,20)}},y=function(){return(0,o.vF)()};function b(e){return Array.isArray(e)?(0,o.DQ)(e):(0,r.Z)(e,Function)?e():e}function w(){var e=!1,n=null,t=null,r=[],a=null,l={},c=function(e){var n=!0,t=!1,r=void 0;try{for(var i,o=function(){var e=i.value;if(l[e])return"continue";var n=new Image;n.src=e,n.onerror=function(){h.error('Failed to load particle image "'.concat(e,'"'))},l[e]=n},a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)o()}catch(c){t=!0,r=c}finally{try{n||null==a.return||a.return()}finally{if(t)throw r}}};return{getIsInstalled:function(){return e},addParticles:function(e){for(var n=e.x,t=e.y,u=e.numParticles,s=void 0===u?150:u,d=e.spread,p=void 0===d?60:d,f=e.heading,h=void 0===f?90:f,v=e.airDrag,w=void 0===v?.9:v,x=e.color,R=void 0===x?y:x,T=e.gravity,E=void 0===T?800:T,C=e.velocity,k=void 0===C?m:C,I=e.size,S=void 0===I?Z:I,P=e.lifetime,D=void 0===P?g:P,_=e.flip,U=void 0===_||_,A=e.image,B=void 0===A?void 0:A,G=b(p),N=b(h),O=(0,o.Id)(G),M=(0,o.Id)(-N),L=b(s),X=0;X<L;X++){var F=M+(0,o.hd)(-O/2,O/2),z=b(k),W=b(S),j=W.width,H=W.height,V=b(D),q=b(R),Y=b(w),$=b(n),K=b(t),Q=b(B);"string"===typeof Q&&(l[Q]||c([Q]),Q=l[Q]),r.push((0,i.Z)({seed:(0,o.hd)(0,1e5),x:$,y:K,gravity:E,airDrag:Y,scaleX:1,scaleY:1,rotation:(0,o.hd)(0,(0,o.Id)(360)),velocityX:Math.cos(F)*z,velocityY:Math.sin(F)*z,angularVelocity:(0,o.hd)((0,o.Id)(-400),(0,o.Id)(400)),color:q,alpha:1,width:j,height:H,flip:U,lifetime:V,lifetimeRemaining:V},Q?{image:Q,type:"image"}:{type:(0,o.DQ)(["rectangle","ellipse"])}))}null===a||void 0===a||a.start()},clearParticles:function(){r=[]},uninstall:function(){e&&(n&&document.body.contains(n)&&document.body.removeChild(n),a&&a.stop(),n=null,t=null,e=!1,l={})},install:function(){e||(n=function(){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex="999999",e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight,e.id="replit-particles-simulation",e.setAttribute("role","image"),e.ariaHidden="true",e}(),(t=n.getContext("2d"))&&(document.body.appendChild(n),a=v((function(e){var i=e.deltaTime,a=e.stop;if(n&&t){var l=t,c=window.scrollX,u=window.scrollY;n.width!==document.documentElement.clientWidth&&(n.width=document.documentElement.clientWidth),n.height!==document.documentElement.clientHeight&&(n.height=document.documentElement.clientHeight),t.clearRect(0,0,n.width,n.height),r.map((function(e){return function(e){var n=e.particle,t=e.deltaTime;n.velocityY+=n.gravity*t/1e3,n.x+=n.velocityX*t/1e3,n.y+=n.velocityY*t/1e3,n.rotation+=n.angularVelocity*t/1e3,n.velocityX*=n.airDrag,n.velocityY*=n.airDrag,n.flip&&(n.scaleY=2*(0,o.WE)(n.lifetimeRemaining,.5));var r=(0,o.NC)(n.velocityX,n.velocityY),i=(0,o.$G)(n.velocityX,n.velocityY),a=r+.05*f.noise2D(n.seed,n.lifetimeRemaining);n.velocityX=Math.cos(a)*i,n.velocityY=Math.sin(a)*i,n.lifetimeRemaining-=t/1e3,n.lifetimeRemaining<=0?n.alpha=0:n.alpha=1-(n.lifetime-n.lifetimeRemaining)/n.lifetime}({particle:e,deltaTime:i})})),r.map((function(e){return function(e){var n=e.particle,t=e.ctx,r=e.scrollX,i=e.scrollY,o=n.width*n.scaleX,a=n.height*n.scaleY,l=n.x-r,c=n.y-i;t.save(),t.translate(l,c),t.rotate(n.rotation),t.globalAlpha=n.alpha,"image"===n.type?t.drawImage(n.image,-o/2,-a/2,o,a):"rectangle"===n.type?(t.fillStyle=n.color,t.fillRect(-o/2,-a/2,o,a)):"ellipse"===n.type&&(t.fillStyle=n.color,t.beginPath(),t.ellipse(0,0,o/2,a/2,0,0,2*Math.PI),t.fill()),t.restore()}({particle:e,ctx:l,scrollX:c,scrollY:u})})),0===(r=r.filter((function(e){return e.lifetimeRemaining>0}))).length&&a()}})),e=!0))},preloadImages:c,unloadImages:function(e){var n=!0,t=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=i.value;delete l[a]}}catch(c){t=!0,r=c}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}}}}},46808:function(e,n,t){"use strict";t.d(n,{$:function(){return h},s:function(){return r}});var r,i=t(26042),o=t(99534),a=t(10253),l=t(67294),c=t(53144),u=t(35923),s=t(91131),d=t(42895),p=(0,u.Q)(),f=(0,s.cn)(p);function h(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preloadImages,n=(0,a.Z)((0,s.KO)(f),1),t=n[0],r=(0,d.T)();l.useEffect((function(){return t.install(),function(){t.uninstall()}}),[t]),l.useEffect((function(){e&&t.preloadImages(e)}),[t,e]);var u=function(e){r||t.addParticles(e)},p=function(e){var n=e.element,t=(0,o.Z)(e,["element"]);if(!r){var a=(0,c.tj)(n),l=a.x,s=a.y;u((0,i.Z)({x:l,y:s},t))}},h=function(e){r||t.addParticles((0,i.Z)({numParticles:125,spread:360,velocity:function(){return(0,c.hd)(400,900)},size:function(){return{width:(0,c.hd)(5,15),height:(0,c.hd)(5,25)}}},e))},v=function(e){var n=e.element,t=(0,o.Z)(e,["element"]);if(!r){var a=(0,c.tj)(n),l=a.x,u=a.y;h((0,i.Z)({x:l,y:u},t))}},m=function(e){var n=e.direction,a=(0,o.Z)(e,["direction"]);r||t.addParticles((0,i.Z)({heading:n},a))},g=function(e){var n=e.element,a=e.direction,l=(0,o.Z)(e,["element","direction"]);if(!r){var u=(0,c.tj)(n),s=u.x,d=u.y;t.addParticles((0,i.Z)({x:s,y:d,numParticles:100,velocity:function(){return(0,c.hd)(400,1500)},spread:60,size:function(){return{width:(0,c.hd)(5,15),height:(0,c.hd)(5,25)}},heading:a},l))}};return{fireBurst:u,fireBurstFrom:p,fireCircularBurst:h,fireCircularBurstFrom:v,fireDirectionalBurst:m,fireDirectionalBurstFrom:g}}!function(e){e[e.East=0]="East",e[e.NorthEast=45]="NorthEast",e[e.North=90]="North",e[e.NorthWest=135]="NorthWest",e[e.West=180]="West",e[e.SouthWest=225]="SouthWest",e[e.South=270]="South"}(r||(r={}))},53144:function(e,n,t){"use strict";t.d(n,{$G:function(){return p},DQ:function(){return l},Id:function(){return s},NC:function(){return d},WE:function(){return h},hd:function(){return c},tj:function(){return o},vF:function(){return u}});var r=t(6611),i=t.n(r);function o(e){var n=function(e){var n=e.getBoundingClientRect();return{x:n.left+n.width/2,y:n.top+n.height/2}}(e);return{x:n.x+window.scrollX,y:n.y+window.scrollY}}function a(e,n){return i()(e,n,!1)}function l(e){return e[a(0,e.length-1)]}function c(e,n){return i()(e,n,!0)}function u(){return"hsl(".concat(a(0,360),", 100%, 70%)")}function s(e){return e*Math.PI/180}function d(e,n){return Math.atan2(n,e)}function p(e,n){return Math.sqrt(Math.pow(e,2)+Math.pow(n,2))}function f(e,n){return(e%n+n)%n}function h(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n-Math.abs(f(e,2*n)-n)}},54854:function(e,n,t){"use strict";function r(e,n){if(!e)return null;var t=e[n];return t?Array.isArray(t)?null:t:null}t.d(n,{Z:function(){return r}})},86800:function(e,n,t){"use strict";t.d(n,{JM:function(){return p},SL:function(){return s}});var r=t(26042),i=t(7297),o=t(31230),a=t(37887);function l(){var e=(0,i.Z)(['\n  fragment ReplEnvironment2CurrentUserLayoutFlags on CurrentUser {\n    id\n    flagGhostrunner: gate(feature: "flag-ghostrunner")\n  }\n']);return l=function(){return e},e}function c(){var e=(0,i.Z)(["\n  query ReplEnvironment2LayoutFlags {\n    currentUser {\n      id\n      ...ReplEnvironment2CurrentUserLayoutFlags\n    }\n  }\n  ","\n"]);return c=function(){return e},e}var u={},s=(0,o.Ps)(l()),d=(0,o.Ps)(c(),s);function p(e){var n=(0,r.Z)({},u,e);return a.a(d,n)}},79611:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(67294),i=t(11163);function o(e,n){var t=(0,i.useRouter)();(0,r.useEffect)((function(){}),[e,t]),(0,r.useEffect)((function(){if("SubscriptionExpiredError"===(null===e||void 0===e?void 0:e.__typename)){var r=e.replId,i=e.isOwner,o=n.split("/")[1].slice(1);t.replace({pathname:"/expiredPrivateRepl",query:{isOwner:i,ownerUsername:o,replId:r}},t.asPath)}}),[e,t,n])}},5804:function(e,n,t){"use strict";t.d(n,{JL:function(){return x},L8:function(){return Z},M6:function(){return g},QH:function(){return y},nr:function(){return m}});var r=t(14924),i=t(26042),o=t(29815),a=t(35944),l=t(67294),c=t(69346),u=t(81255),s=t(1144),d=t(46197),p=t(44365),f=t(72917),h=t(7243),v=t(68480);function m(e,n){var t,r=(null===(t=n.tags)||void 0===t?void 0:t.length)?n.tags.join(","):null;return{href:{pathname:"/postsFeed",query:{boardSlug:r,q:e}},as:{pathname:r?"/community/".concat(r):"/community/all",query:{q:e}}}}function g(e,n){return n?{href:{pathname:"/postsFeed",query:{boardSlug:e,order:n.order}},as:{pathname:"/community/".concat(e),query:(0,i.Z)({},n.order!==p.eR?{order:n.order.toLowerCase()}:{})}}:{href:{pathname:"/postsFeed",query:{boardSlug:e}},as:"/community/".concat(e)}}function Z(e){return g("all",e)}function y(e,n){var t=n.tags?n.tags.join(","):"all";return{href:{pathname:"/postsFeed",query:{boardSlug:t,order:(0,p.Zb)(e)}},as:{pathname:"/community/".concat(t),query:(0,i.Z)({},e!==p.eR?{order:(0,p.Zb)(e)}:{})}}}var b=c.K.div,w=v.Mz+32;function x(e){var n,t,i=e.tagGroups,p=e.params,m=(0,o.Z)(i.official).concat((0,o.Z)(i.community)).map((function(e){var n,t=Boolean(null===(n=p.tags)||void 0===n?void 0:n.includes(e.id)),r=t?Z(p):g(e.id,p);return(0,a.tZ)(f.t,{tag:e,link:r,isActive:t},e.id)})),y=(0,l.useState)(!1),x=y[0],R=y[1],T=(0,l.useRef)(null);return(0,l.useEffect)((function(){if(T.current){var e=new window.IntersectionObserver((function(e){e.forEach((function(e){window.scrollY<e.boundingClientRect.top-w?R(!1):R(!e.isIntersecting)}))}),{root:null,rootMargin:"".concat(-w,"px 0px 0px 0px"),threshold:1}),n=T.current;return e.observe(n),function(){e.unobserve(n),e.disconnect()}}}),[]),(0,a.BX)(c.Z,{children:[(0,a.tZ)(b,{ref:T}),(0,a.BX)(c.Z,{css:[u.l0.colWithGap(16),x&&(0,r.Z)({},d.A.desktop,[u.l0.position.fixed,u.l0.overflowY("auto"),u.l0.height("calc(100vh - ".concat(v.Mz,"px)")),u.l0.py(32),{top:v.Mz}])],children:[(0,a.tZ)(s.x,{color:"dimmer",children:"TOP TAGS"}),(0,a.BX)(c.Z,{children:[(0,a.tZ)(h.Z,{gap:8,inset:16,css:[(n={},(0,r.Z)(n,d.A.desktop,[u.l0.display.none]),(0,r.Z)(n,"marginLeft","calc(-1 * ".concat(u.TV.space16,")")),(0,r.Z)(n,"marginRight","calc(-1 * ".concat(u.TV.space16,")")),n)],children:m}),(0,a.tZ)(c.Z,{css:(t={},(0,r.Z)(t,d.A.mobile,[u.l0.display.none]),(0,r.Z)(t,d.A.desktop,[u.l0.colWithGap(32)]),t),children:(0,a.tZ)(c.Z,{css:[u.l0.colWithGap(8),u.l0.align.start],children:m})})]})]})]})}},4924:function(e,n,t){"use strict";t.d(n,{Vs:function(){return b},ZP:function(){return x},p0:function(){return w}});var r=t(26042),i=t(69396),o=t(35944),a=(t(67294),t(41664)),l=t.n(a),c=t(70917),u=t(15085),s=t(53427),d=t(69928),p=t(5804),f=t(72917),h=t(88046),v=t(82447),m=t(45273),g=t(94718),Z=u.KD.a,y=(0,c.iv)({"::after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}});function b(e){var n=e.tags,t=e.maxVisible,r=void 0===t?3:t,i=e.onTagClick,a=n.slice(0,r),l=n.length-a.length;return(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(4),u.l0.align.center],children:[a.map((function(e){return(0,o.tZ)(f.t,{small:!0,tag:e,link:(0,p.M6)(e.id),onClick:i},e.id)})),l>0?(0,o.BX)(u.xv,{variant:"small",color:"dimmest",children:["+",l]}):null]})}function w(e){var n=e.repl,t=e.showOwner,a=e.maxVisibleTags,c=e.onReplClick,p=e.onUserClick,f=e.onTagClick,w=n.owner;return(0,o.BX)(u.G7,{css:[u.l0.colWithGap(16)],children:[(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.align.start,u.l0.flex.growAndShrink(1)],children:[(0,o.tZ)(s.ZP,{size:84,iconUrl:n.iconUrl,alt:n.title}),(0,o.BX)(u.G7,{css:[u.l0.flex.growAndShrink(1),u.l0.colWithGap(4)],children:[(0,o.tZ)(l(),(0,i.Z)((0,r.Z)({passHref:!0},(0,h.j3)(n)),{children:(0,o.tZ)(Z,{css:[{color:"inherit"},y],onClick:c,children:(0,o.tZ)(u.xv,{variant:"subheadBig",children:n.title})})})),t&&w?(0,o.tZ)(u.G7,{css:[{maxWidth:"fit-content",zIndex:1}],children:(0,o.tZ)(g.Z,{username:w.username,children:(0,o.tZ)(v.ZP,{user:w,children:(0,o.BX)(Z,{css:[{color:"inherit"},u.l0.rowWithGap(4),u.l0.align.center,u.l0.pr(16)],onClick:p,children:[(0,o.tZ)(m.Z,{src:w.image,username:w.username,size:16,layout:"intrinsic"}),(0,o.tZ)(u.xv,{children:w.username})]})})})}):null,n.description?(0,o.tZ)(u.xv,{color:"dimmer",maxLines:2,css:[u.l0.maxWidth(450)],children:n.description}):null]})]}),(0,o.BX)(u.G7,{css:[u.l0.rowWithGap(8),u.l0.justify.spaceBetween,u.l0.flex.wrap],children:[(0,o.tZ)(d.Z,{css:[u.l0.pb(2)],repl:n}),a?(0,o.tZ)(u.G7,{css:[u.l0.position.relative,u.l0.pt(2),{zIndex:1}],children:(0,o.tZ)(b,{tags:n.tags,maxVisible:a,onTagClick:f})}):null]})]})}function x(e){var n=e.repl,t=e.showOwner,r=e.maxVisibleTags,i=e.onReplClick,a=e.onUserClick,l=e.onTagClick,c=e.dataCy;return(0,o.tZ)(u.Tg,{elevated:!0,css:[u.l0.borderRadius(8),u.l0.p(8),u.l0.position.relative,u.gU.filledAndOutlined,u.l0.backgroundColor.backgroundDefault,{border:"1px solid "+u.TV.outlineDimmest}],dataCy:c,children:(0,o.tZ)(w,{repl:n,showOwner:t,maxVisibleTags:r,onReplClick:i,onUserClick:a,onTagClick:l})})}},69928:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var r=t(35944),i=(t(67294),t(69346)),o=t(81255),a=t(12530),l=t(51995),c=t(75026),u=t(27843),s=t(34847);function d(e){var n=e.repl;return(0,r.BX)(i.Z,{css:[o.l0.rowWithGap(16),o.l0.align.center],children:[(0,r.tZ)(a.Z,{small:!0,count:n.runCount,tooltip:(0,s.Z)("runs",n.runCount),children:(0,r.tZ)(l.Z,{})}),(0,r.tZ)(a.Z,{small:!0,count:n.commentCount,tooltip:(0,s.Z)("comment",n.commentCount),children:(0,r.tZ)(c.Z,{})}),(0,r.tZ)(a.Z,{small:!0,count:n.likeCount,tooltip:(0,s.Z)("like",n.likeCount),children:(0,r.tZ)(u.Z,{})})]})}},72917:function(e,n,t){"use strict";t.d(n,{g:function(){return x},t:function(){return b}});var r=t(26042),i=t(69396),o=t(35944),a=(t(67294),t(70917)),l=t(41664),c=t.n(l),u=t(69346),s=t(93160),d=t(81255),p=t(1144),f=t(44044),h=t(67629),v=t(16857),m=(0,a.iv)({border:"1px solid "+d.TV.accentPrimaryDefault,backgroundColor:"transparent"}),g=function(e){var n=e.isActive,t=e.small;return(0,a.iv)([d.l0.p(t?4:8),d.l0.align.center,d.l0.rowWithGap(4),d.l0.fontSize(12),n?m:f.gU.outlined,d.l0.borderRadius(16),{color:"inherit","&:hover":m}])};function Z(e){var n=e.tag,t=e.isActive,r=e.isRemovable,i=e.small,a=i?"small":"text";return(0,o.tZ)(s.Z,{elevated:t,css:[d.l0.borderRadius(16)],children:(0,o.BX)(s.Z,{elevated:t,css:[g({isActive:t,small:i})],children:[(0,o.BX)(u.Z,{css:[d.l0.flex.row,d.l0.align.center,d.l0.flex.shrink(1)],children:[(0,o.tZ)(p.x,{variant:a,color:"dimmest",children:"#"}),(0,o.tZ)(p.x,{color:"dimmer",variant:a,css:[d.l0.flex.shrink(1)],children:n.id})]}),n.isOfficial&&!i?(0,o.tZ)(v.Z,{}):null,r?(0,o.tZ)(h.Z,{size:i?12:16}):null]})})}var y=u.K.a;function b(e){var n=e.tag,t=e.link,a=e.isActive,l=e.small,u=e.onClick;return(0,o.tZ)(c(),(0,i.Z)((0,r.Z)({},t),{passHref:!0,css:[d.l0.flex.shrink(1),{backgroundColor:"red"}],children:(0,o.tZ)(y,{css:[{color:"inherit"},d.l0.flex.shrink(1)],onClick:u,children:(0,o.tZ)(Z,{tag:n,isActive:a,small:l,isRemovable:a})})}))}var w=u.K.button;function x(e){var n=e.tag,t=e.onClick,r=e.isActive,i=e.small;return(0,o.tZ)(w,{css:[d.l0.reset.button],onClick:t,children:(0,o.tZ)(Z,{tag:n,isActive:r,small:i,isRemovable:!0})})}},46197:function(e,n,t){"use strict";t.d(n,{A:function(){return i}});var r=t(57263),i={mobile:"@media (max-width: ".concat(r.j.tabletMin,"px)"),desktop:"@media (min-width: ".concat(r.j.tabletMin+1,"px)")}},44365:function(e,n,t){"use strict";t.d(n,{Qf:function(){return c},Zb:function(){return l},eR:function(){return o}});var r=t(90317),i=t(54854),o=r.vX.Hot,a={hot:r.vX.Hot,new:r.vX.New,top:r.vX.Top,votes:r.vX.Top};function l(e){return e.toLowerCase()}function c(e){var n=(0,i.Z)(e,"after")||void 0,t=(0,i.Z)(e,"q")||void 0,r=(0,i.Z)(e,"boardSlug")||void 0,c=r&&"all"!==r?r.split(","):void 0,u=(0,i.Z)(e,"order")||l(o),s=a[u]||o,d=(0,i.Z)(e,"count"),p=d?parseInt(d,10):void 0;return void 0!==p&&Number.isNaN(p)&&(p=void 0),{tags:c,order:s,count:p,searchQuery:t,after:n}}},12530:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(35944),i=t(67294),o=t(1144),a=t(81255),l=t(69346),c=t(81456);function u(e){var n=e.count,t=e.children,u=e.tooltip,s=e.small,d=(0,c.d)(n);return(0,r.BX)(l.Z,{"aria-label":u,"data-microtip-position":"left",role:"tooltip",css:[a.l0.rowWithGap(4),a.l0.align.center,a.l0.color.foregroundDimmer,{userSelect:"none",lineHeight:1}],children:[i.cloneElement(t,{size:s?12:void 0}),(0,r.tZ)(o.x,{variant:s?"small":void 0,color:"dimmer",children:d})]})}},19923:function(e,n,t){"use strict";t.d(n,{Gp:function(){return _},Oh:function(){return K},V3:function(){return M},Xl:function(){return X},Yd:function(){return z},_b:function(){return Y},gX:function(){return ne},h2:function(){return N},on:function(){return A},q7:function(){return J},vs:function(){return P},w9:function(){return j},zp:function(){return V}});var r=t(26042),i=t(7297),o=t(31230),a=t(7900),l=t(37887),c=t(50319);function u(){var e=(0,i.Z)(["\n  fragment TeamProfileReplTemplateModelSolution on ReplTemplateModelSolution {\n    id\n    visibleAfterSubmitting\n    visibleAfterPassingTests\n    visibleAfterDueDate\n    repl {\n      id\n      url\n      nextPagePathname\n    }\n    canStudentFork\n    studentFork {\n      id\n      url\n      nextPagePathname\n    }\n  }\n"]);return u=function(){return e},e}function s(){var e=(0,i.Z)(["\n  fragment TeamProfileReplTemplate on ReplTemplate {\n    id\n    isPublished\n    isGroupProject\n    allowSelfGrouping\n    imageUrl\n    url\n    dueDate\n    modelSolution {\n      id\n      ...TeamProfileReplTemplateModelSolution\n    }\n    userSubmissionGroup {\n      ...TeamTemplateSubmissionGroup\n    }\n  }\n  ","\n  ","\n"]);return s=function(){return e},e}function d(){var e=(0,i.Z)(["\n  fragment TeamProfileRepl on Repl {\n    id\n    title\n    description\n    slug\n    timeCreated\n    url\n    pinnedToProfile\n    nextPagePathname\n    templateInfo {\n      label\n      iconUrl\n    }\n    template {\n      id\n      ...TeamProfileReplTemplate\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(["\n  fragment TeamProfileStack on Stack {\n    id\n    title\n    repls {\n      id\n      ...TeamProfileRepl\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  fragment TeamEduProfile on Team {\n    id\n    username\n    displayName\n    isAdmin\n    archived\n    needsMigrationToStacks\n    defaultTemplateStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n    members {\n      id\n      permissions\n    }\n    organization {\n      id\n      capabilities {\n        isExpired: isExpiring(daysFromNow: 0)\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function h(){var e=(0,i.Z)(["\n  fragment TeamProProfile on Team {\n    id\n    username\n    displayName\n    isMember\n    isAdmin\n    archived\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n    members {\n      id\n      permissions\n    }\n    organization {\n      id\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function v(){var e=(0,i.Z)(["\n  fragment TeamProfileAllStacks on Team {\n    id\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function m(){var e=(0,i.Z)(["\n  fragment TeamCreateReplSubmissionOutput on CreateReplSubmissionOutput {\n    ... on Repl {\n      id\n      nextPagePathname\n      url\n      template {\n        id\n        ...TeamProfileReplTemplate\n      }\n    }\n    ... on UserError {\n      message\n    }\n  }\n  ","\n"]);return m=function(){return e},e}function g(){var e=(0,i.Z)(["\n  query TeamProProfile($teamname: String!) {\n    team: teamByUsername(username: $teamname) {\n      ... on Team {\n        id\n        ...TeamProProfile\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return g=function(){return e},e}function Z(){var e=(0,i.Z)(["\n  query TeamEduProfile($teamname: String!) {\n    team: teamByUsername(username: $teamname) {\n      ... on Team {\n        id\n        ...TeamEduProfile\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Z=function(){return e},e}function y(){var e=(0,i.Z)(["\n  mutation TeamProProfilePinRepl($replId: String!) {\n    pinReplToProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        pinnedToProfile\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return y=function(){return e},e}function b(){var e=(0,i.Z)(["\n  mutation TeamProProfileUnpinRepl($replId: String!) {\n    unpinReplFromProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        pinnedToProfile\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return b=function(){return e},e}function w(){var e=(0,i.Z)(["\n  mutation TeamProfileArrangeStackItem($input: ArrangeStackItemInput!) {\n    arrangeStackItem(input: $input) {\n      ... on Team {\n        id\n        ...TeamProfileAllStacks\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return w=function(){return e},e}function x(){var e=(0,i.Z)(["\n  mutation TeamProfileUpdateReplTemplate($input: UpdateReplTemplateInput!) {\n    updateReplTemplate(input: $input) {\n      ... on ReplTemplate {\n        id\n        repl {\n          id\n          ...TeamProfileRepl\n        }\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return x=function(){return e},e}function R(){var e=(0,i.Z)(["\n  mutation TeamProfileMigrateTeamToStacks($teamId: Int!) {\n    migrateTeamToStacks(teamId: $teamId) {\n      ... on Team {\n        id\n        ...TeamEduProfile\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return R=function(){return e},e}function T(){var e=(0,i.Z)(["\n  mutation TeamProfileCreateReplTemplateModelSolution(\n    $input: CreateReplTemplateModelSolutionInput!\n  ) {\n    createReplTemplateModelSolution(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return T=function(){return e},e}function E(){var e=(0,i.Z)(["\n  mutation TeamProfileCreateReplTemplateModelSolutionFork(\n    $input: CreateReplTemplateModelSolutionForkInput!\n  ) {\n    createReplTemplateModelSolutionFork(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return E=function(){return e},e}function C(){var e=(0,i.Z)(["\n  mutation TeamCreateReplSubmission($templateId: Int!) {\n    createReplSubmission(templateId: $templateId) {\n      ...TeamCreateReplSubmissionOutput\n    }\n  }\n  ","\n"]);return C=function(){return e},e}var k={},I=(0,o.Ps)(u()),S=(0,o.Ps)(s(),I,a.Pc),P=(0,o.Ps)(d(),S),D=(0,o.Ps)(p(),P),_=(0,o.Ps)(f(),D),U=(0,o.Ps)(h(),D),A=(0,o.Ps)(v(),D),B=(0,o.Ps)(m(),S),G=(0,o.Ps)(g(),U);function N(e){var n=(0,r.Z)({},k,e);return l.a(G,n)}var O=(0,o.Ps)(Z(),_);function M(e){var n=(0,r.Z)({},k,e);return l.a(O,n)}var L=(0,o.Ps)(y());function X(e){var n=(0,r.Z)({},k,e);return c.D(L,n)}var F=(0,o.Ps)(b());function z(e){var n=(0,r.Z)({},k,e);return c.D(F,n)}var W=(0,o.Ps)(w(),A);function j(e){var n=(0,r.Z)({},k,e);return c.D(W,n)}var H=(0,o.Ps)(x(),P);function V(e){var n=(0,r.Z)({},k,e);return c.D(H,n)}var q=(0,o.Ps)(R(),_);function Y(e){var n=(0,r.Z)({},k,e);return c.D(q,n)}var $=(0,o.Ps)(T(),P);function K(e){var n=(0,r.Z)({},k,e);return c.D($,n)}var Q=(0,o.Ps)(E(),P);function J(e){var n=(0,r.Z)({},k,e);return c.D(Q,n)}var ee=(0,o.Ps)(C(),B);function ne(e){var n=(0,r.Z)({},k,e);return c.D(ee,n)}},26082:function(e,n,t){"use strict";var r=t(5152),i=t.n(r);n.Z=i()((function(){return Promise.all([t.e(8966),t.e(5499),t.e(5117),t.e(7068)]).then(t.bind(t,87068)).then((function(e){return e.EditReplTemplate}))}),{loadableGenerated:{webpack:function(){return[87068]}}})},70710:function(e,n,t){"use strict";t.d(n,{I$:function(){return R},Du:function(){return T},Cd:function(){return C}});var r=t(26042),i=t(7297),o=t(31230),a=t(9523);function l(){var e=(0,i.Z)(['\n  fragment ReplEnvironmentTourCurrentUser on CurrentUser {\n    id\n    hasSeenOldWorkspaceTour: tourSeen(name: "workspace-desktop-tour")\n  }\n']);return l=function(){return e},e}function c(){var e=(0,i.Z)(["\n  fragment ReplEnvironmentTourRepl on Repl {\n    id\n    lesson {\n      id\n    }\n  }\n"]);return c=function(){return e},e}var u=(0,o.Ps)(l()),s=(0,o.Ps)(c()),d=t(86800),p=t(65711),f=t(6695);function h(){var e=(0,i.Z)(["\n  fragment ReplEnvironmentHeaderLeftCurrentUser on CurrentUser {\n    id\n    isFirewallMode\n  }\n"]);return h=function(){return e},e}function v(){var e=(0,i.Z)(["\n  fragment ReplEnvironmentHeaderLeftRepl on Repl {\n    id\n    isAlwaysOn\n    slug\n    url\n    ...WorkspaceHeaderReplMetadataRepl\n  }\n  ","\n"]);return v=function(){return e},e}var m=(0,o.Ps)(h()),g=(0,o.Ps)(v(),f.s),Z=t(37887);function y(){var e=(0,i.Z)(["\n  fragment ReplEnvironment2CurrentUser on CurrentUser {\n    id\n    image\n    isFirewallMode\n    ...CrosisContextCurrentUser\n    ...ReplEnvironment2CurrentUserLayoutFlags\n    editorPreferences {\n      ...CurrentUserPreferences\n    }\n    ...ReplEnvironmentHeaderLeftCurrentUser\n    ...ReplEnvironmentTourCurrentUser\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return y=function(){return e},e}function b(){var e=(0,i.Z)(["\n  fragment ReplEnvironment2Repl on Repl {\n    id\n    title\n    layoutState\n    description\n    multiplayers {\n      id\n    }\n    currentUserPermissions {\n      containerWrite\n    }\n    origin {\n      id\n    }\n    language\n    config {\n      isVnc\n      isServer\n    }\n    lesson {\n      id\n    }\n    ...CrosisContextRepl\n    ...ReplEnvironmentHeaderLeftRepl\n  }\n  ","\n  ","\n"]);return b=function(){return e},e}function w(){var e=(0,i.Z)(["\n  query ReplEnvironment2($url: String!) {\n    repl(url: $url) {\n      ... on Repl {\n        id\n        ...CrosisContextRepl\n        ...ReplEnvironment2Repl\n        ...ReplEnvironmentTourRepl\n      }\n      ... on ReplRedirect {\n        replUrl\n      }\n      ... on SubscriptionExpiredError {\n        replId\n        isOwner\n      }\n    }\n    currentUser {\n      id\n      ...ReplEnvironment2CurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return w=function(){return e},e}var x={},R=(0,o.Ps)(y(),a.D,d.SL,p.wO,m,u),T=(0,o.Ps)(b(),a.C,g),E=(0,o.Ps)(w(),a.C,T,s,R);function C(e){var n=(0,r.Z)({},x,e);return Z.a(E,n)}},34392:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return pf}});var r=t(47568),i=t(10253),o=t(70655),a=t(35944),l=t(67294),c=t(91131),u=t(11163),s=t(73515),d=t(70338),p=t(22975),f=t(15519),h=t(70710),v=t(15085),m=t(61756),g=t(1879),Z=t(67629),y=t(69346),b=t(1144),w=t(81255),x=t(88075);var R=function(e){return(0,a.tZ)(g.Z,{preventClose:!0,isOpen:!0,onRequestClose:e.onCancel,children:(0,a.BX)(y.Z,{css:[w.l0.colWithGap(24)],children:[(0,a.tZ)(b.h,{variant:"headerDefault",level:2,css:w.l0.maxWidth("100%"),children:"Replit needs your permission to enable notifications."}),(0,a.tZ)(b.x,{multiline:!0,children:"Never miss messages from your collaborators if you\u2019re in another tab or window."}),(0,a.BX)(y.Z,{css:[w.l0.rowWithGap(12),w.l0.justify.end],children:[(0,a.tZ)(m.ZP,{onClick:e.onCancel,text:"Deny",iconLeft:(0,a.tZ)(Z.Z,{})}),(0,a.tZ)(m.ZP,{text:"Allow notifications",colorway:"positive",iconLeft:(0,a.tZ)(x.Z,{}),onClick:e.onConfirm})]})]})})},T=t(92098),E=t(60977),C=t(90317),k=t(26042),I=t(7297),S=t(31230),P=t(37887);function D(){var e=(0,I.Z)(["\n  fragment ReplEnvironmentAvatarMenuCurrentUser on CurrentUser {\n    id\n    url\n    username\n    image\n    isHacker\n  }\n"]);return D=function(){return e},e}function _(){var e=(0,I.Z)(["\n  query ReplEnvironmentAvatarMenu {\n    currentUser {\n      id\n      ...ReplEnvironmentAvatarMenuCurrentUser\n    }\n  }\n  ","\n"]);return _=function(){return e},e}var U={},A=(0,S.Ps)(D()),B=(0,S.Ps)(_(),A);var G=t(50319);function N(){var e=(0,I.Z)(["\n  fragment MarkLessonCompleteLesson on UserCourseLesson {\n    id\n    lessonSlug\n    timeCompleted\n    course {\n      id\n      courseSlug\n    }\n  }\n"]);return N=function(){return e},e}function O(){var e=(0,I.Z)(["\n  mutation MarkLessonAsComplete($input: CompleteUserCourseLessonInput!) {\n    completeUserCourseLesson(input: $input) {\n      ... on UpdatedUserCourseLesson {\n        __typename\n        userCourseLesson {\n          id\n          timeCompleted\n        }\n      }\n      ... on NotFoundError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return O=function(){return e},e}var M={},L=(0,S.Ps)(N()),X=(0,S.Ps)(O());var F=t(6695);function z(){var e=(0,I.Z)(["\n  fragment ReplEnvironmentHeaderCurrentUser on CurrentUser {\n    id\n    isSubscribed\n    isFirewallMode\n    isExplorer: hasRole(role: EXPLORER)\n    ...ReplEnvironmentAvatarMenuCurrentUser\n  }\n  ","\n"]);return z=function(){return e},e}function W(){var e=(0,I.Z)(["\n  fragment ReplEnvironmentHeaderRepl on Repl {\n    id\n    slug\n    url\n    isAlwaysOn\n    isOwner\n    isPrivate\n    workspaceCta\n    rootOriginReplUrl\n    lang {\n      id\n      engine\n    }\n    origin {\n      id\n    }\n    currentUserPermissions {\n      editMultiplayers\n      inviteGuests\n      containerWrite\n    }\n    owner {\n      ... on Team {\n        id\n        capabilities {\n          isEducationPlan\n        }\n      }\n      ... on User {\n        id\n      }\n    }\n    template {\n      id\n      isGroupProject\n    }\n    lesson {\n      id\n      ...MarkLessonCompleteLesson\n    }\n    multiplayers {\n      id\n    }\n  }\n  ","\n"]);return W=function(){return e},e}function j(){var e=(0,I.Z)(["\n  query ReplEnvironmentHeader($id: String!) {\n    repl(id: $id) {\n      ... on Repl {\n        id\n        ...ReplEnvironmentHeaderRepl\n        ...WorkspaceHeaderReplMetadataRepl\n      }\n    }\n    currentUser {\n      id\n      ...ReplEnvironmentHeaderCurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n"]);return j=function(){return e},e}var H={},V=(0,S.Ps)(z(),A),q=(0,S.Ps)(W(),L),Y=(0,S.Ps)(j(),q,F.s,V);var $=t(26473),K=t(70804),Q=t(99408),J=t(83475),ee=t(87603),ne=t.n(ee),te=t(57263),re=t(69396),ie=t(66060);function oe(e){var n=e.user,t=e.onClick;return(0,a.tZ)(ie.ZP,{placement:"bottom",tooltip:"Observe ".concat(n.username),children:function(e,r){return(0,a.tZ)(y.Z,(0,re.Z)((0,k.Z)({},e),{innerRef:r,onClick:t,children:(0,a.tZ)(v.qE,{size:32,src:n.image||null,username:n.username,ringColor:n.color,css:[w.l0.cursor.pointer,{transition:"all 0.2s ease","&:hover":{filter:"brightness(95%)",boxShadow:w.TV.shadow1}}]})}))}})}var ae=t(94184),le=t.n(ae),ce=t(77365);function ue(){var e=(0,I.Z)(["\n  fragment UserListModalUser on User {\n    id\n    username\n    image\n  }\n"]);return ue=function(){return e},e}function se(){var e=(0,I.Z)(["\n  fragment UserListModalReplPermission on ReplPermission {\n    id\n    type\n    user {\n      id\n      ...UserListModalUser\n    }\n  }\n  ","\n"]);return se=function(){return e},e}function de(){var e=(0,I.Z)(["\n  query UserListModal($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        user {\n          id\n          ...UserListModalUser\n        }\n        permissions {\n          id\n          ...UserListModalReplPermission\n        }\n      }\n      ... on ReplRedirect {\n        replUrl\n      }\n      ... on SubscriptionExpiredError {\n        replId\n      }\n    }\n    currentUser {\n      id\n    }\n  }\n  ","\n  ","\n"]);return de=function(){return e},e}var pe={},fe=(0,S.Ps)(ue()),he=(0,S.Ps)(se(),fe),ve=(0,S.Ps)(de(),fe,he);var me=t(63377),ge=t(58502);function Ze(){var e=(0,Q.Z)(),n=e.session,t=e.presence;return l.useCallback((function(e){var r=e.username,i=e.id,o=t.getFollowedUser();if((null===o||void 0===o?void 0:o.username)!==r){t.followUser(r);var a=t.getActiveFileForUser(i),l=n.getActiveFile();a&&a!==l&&n.openFile(a)}else t.unfollowUser()}),[n,t])}var ye=t(34140);function be(e){var n=e.hideModal,t=e.isOpen,r=(0,me.Z)(),i=(0,Q.Z)().presence,o=(0,ge.Z)({presence:i});return(0,a.tZ)(v.u_,{isOpen:t,onRequestClose:n,children:(0,a.tZ)(xe,{replId:r,activeUsers:o,hideModal:n})})}function we(e,n){return n.some((function(n){return n.id===e}))}function xe(e){var n=e.replId,t=e.activeUsers,r=e.hideModal,i=function(e){var n=(0,k.Z)({},pe,e);return P.a(ve,n)}({variables:{replId:n}}),o=i.data,l=i.loading,c=i.error;if(l)return(0,a.tZ)(v.G7,{css:[v.l0.flex.row,v.l0.justify.center,v.l0.p(32)],children:(0,a.tZ)(ce.Z,{})});if(c)return(0,a.tZ)("div",{children:c.message});if("Repl"===(null===o||void 0===o?void 0:o.repl.__typename)){var u=o.repl,s=o.currentUser,d=u.user,p=d&&t.find((function(e){return e.username===d.username})),f=u.permissions.filter((function(e){var n=e.user;return n&&we(n.id,t)})),h=u.permissions.filter((function(e){var n=e.user;return n&&!we(n.id,t)}));return(0,a.BX)(v.G7,{css:[v.l0.colWithGap(24)],children:[(0,a.tZ)(v.h4,{level:1,variant:"headerDefault",children:"Multiplayers"}),(0,a.tZ)(v.xv,{multiline:!0,children:"Users can interact with this Repl in real time."}),(0,a.tZ)(v.G7,{css:[v.l0.maxHeight(330),{overflowY:"auto"}],children:(0,a.BX)(v.G7,{children:[d?(0,a.tZ)(Te,(0,re.Z)((0,k.Z)({},d),{isOnline:Boolean(p),color:p?p.color:"transparent",isOwner:!0,hideModal:r,canClickAvatar:Boolean(p)&&d.id!==(null===s||void 0===s?void 0:s.id),type:C.aQ.Rw})):null,f.map((function(e){var n=e.type,i=e.user;if(!i)throw new Error("Expected user");var o=t.find((function(e){return e.username===i.username}));if(!o)throw new Error("Expected user online");var l=i.id!==(null===s||void 0===s?void 0:s.id);return(0,a.tZ)(Te,(0,re.Z)((0,k.Z)({type:n},i),{isOnline:!0,canClickAvatar:l,color:o.color,hideModal:r,isOwner:!1}),"chat-user-list-".concat(i.username))})),h.map((function(e){var n=e.type,t=e.user;if(!t)throw new Error("Expected user");return(0,a.tZ)(Te,(0,re.Z)((0,k.Z)({type:n},t),{canClickAvatar:!1,isOnline:!1,color:"transparent",hideModal:r,isOwner:!1}),"chat-user-list-".concat(t.username))}))]})})]})}return"ReplRedirect"===(null===o||void 0===o?void 0:o.repl.__typename)?(0,a.BX)("div",{children:["This Repl has moved to"," ",(0,a.tZ)("a",{href:o.repl.replUrl,children:o.repl.replUrl})]}):"SubscriptionExpiredError"===(null===o||void 0===o?void 0:o.repl.__typename)?(0,a.BX)("div",{children:["Your subscription has expired.",(0,a.tZ)("a",{href:"/pricing",children:"Upgrade here"})]}):null}var Re={r:"read only",rw:"can edit"};function Te(e){var n=e.type,t=e.id,r=e.username,i=e.image,o=e.isOnline,l=e.isOwner,c=e.color,u=e.hideModal,s=e.canClickAvatar,d=Ze(),p=function(){s&&(d({username:r,id:t}),u())};return(0,a.BX)("div",{className:ne().dynamic([["8abf4fce485dcead",[s?"pointer":"auto",c]]])+" "+(le()("user-list-item-wrapper",{online:o})||""),children:[(0,a.BX)("div",{role:"button",onClick:p,onKeyDown:p,tabIndex:0,className:ne().dynamic([["8abf4fce485dcead",[s?"pointer":"auto",c]]])+" image",children:[(0,a.tZ)("img",{src:i,alt:"",className:ne().dynamic([["8abf4fce485dcead",[s?"pointer":"auto",c]]])+" "+((o?"":"offline")||"")}),(0,a.BX)(ye.T,{children:["Observe ",r]})]}),(0,a.BX)("div",{className:ne().dynamic([["8abf4fce485dcead",[s?"pointer":"auto",c]]])+" info",children:[(0,a.BX)("div",{className:ne().dynamic([["8abf4fce485dcead",[s?"pointer":"auto",c]]]),children:[(0,a.BX)("a",{href:"/@".concat(r),target:"_blank",className:ne().dynamic([["8abf4fce485dcead",[s?"pointer":"auto",c]]]),children:["@",r]}),!o&&" (offline)"]}),(0,a.tZ)("div",{className:ne().dynamic([["8abf4fce485dcead",[s?"pointer":"auto",c]]]),children:l?"owner":Re[n]})]}),(0,a.tZ)(ne(),{id:"8abf4fce485dcead",dynamic:[s?"pointer":"auto",c],children:".user-list-item-wrapper.__jsx-style-dynamic-selector{padding:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-ordinal-group:2;-webkit-order:1;-moz-box-ordinal-group:2;-ms-flex-order:1;order:1}.image.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;cursor:".concat(s?"pointer":"auto","}img.__jsx-style-dynamic-selector{width:40px;height:40px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;border:3px solid ").concat(c,";background:white;-o-object-fit:cover;object-fit:cover}.info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-left:var(--space-8)}img.offline.__jsx-style-dynamic-selector{-webkit-filter:grayscale(100%);filter:grayscale(100%)}.user-list-item-wrapper.online.__jsx-style-dynamic-selector{-webkit-box-ordinal-group:1;-webkit-order:0;-moz-box-ordinal-group:1;-ms-flex-order:0;order:0}")})]})}var Ee=t(14314);function Ce(e){var n=(0,i.Z)(l.useState(!1),2),t=n[0],r=n[1],o=(0,Ee.aG)(),c=o.length-3;return 0===o.length?null:(0,a.BX)(v.G7,{tag:"ul",className:"multiplayer-users-container",css:[v.l0.px(8),v.l0.rowWithGap(4),v.l0.align.center],"aria-live":"polite","aria-relevant":"additions removals","aria-label":"online users",children:[c>0?(0,a.tZ)("li",{className:ne().dynamic([["9e6f75ce31331994",[te.j.mobileMax+100]]]),children:(0,a.tZ)(v.zx,{onClick:function(){return r(!0)},text:"+ ".concat(c),css:{background:"none"}})}):null,o.slice(0,3).map((function(n){return(0,a.tZ)("li",{className:ne().dynamic([["9e6f75ce31331994",[te.j.mobileMax+100]]]),children:(0,a.tZ)(oe,{user:n,onClick:function(){return e.onAvatarClick(n)}})},n.id)})),(0,a.tZ)(be,{isOpen:t,hideModal:function(){return r(!1)}}),(0,a.tZ)(ne(),{id:"9e6f75ce31331994",dynamic:[te.j.mobileMax+100],children:".multiplayer-users-container.__jsx-style-dynamic-selector li.__jsx-style-dynamic-selector{list-style-type:none}@media only screen and (max-width:".concat(te.j.mobileMax+100,"px){.multiplayer-users-container.__jsx-style-dynamic-selector{display:none}}")})]})}var ke=t(34193),Ie=t(29815),Se=t(8121),Pe=t(62881),De=t(19526),_e=t(18757),Ue=t(64184),Ae=t(82893),Be=t(28898),Ge=t(93058),Ne=t(92002),Oe=t(30019),Me=t(44781),Le=t(27206),Xe=t(50009),Fe=t(3218),ze=t(69049),We=t(6951);function je(e){var n=e.value,t=e.onButtonPress,r=e.statusText,i=void 0===r?"":r,o=e.image,l=e.filterValue,c=e.type,u=e.Icon;return(0,a.BX)("div",{className:"jsx-a16e88ad40d0e05c "+(le()("multiplayer-item",{"is-editable":!!t})||""),children:[(0,a.BX)(De.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(Be.Z,{size:"s",url:null!==o&&void 0!==o?o:""}),(0,a.tZ)("div",{className:"jsx-a16e88ad40d0e05c label",children:l?(0,a.tZ)(Xe.gr,{source:n,match:l}):"".concat(n," ").concat(i)}),!!t&&(0,a.tZ)(We.Z,{className:"remove-button",border:!1,filled:!1,"aria-label":"Remove ".concat(c||"email invite"),role:"tooltip","data-microtip-position":"left",onClick:t,children:u?(0,a.tZ)(u,{size:12,className:"jsx-a16e88ad40d0e05c"}):null})]}),(0,a.tZ)(ne(),{id:"a16e88ad40d0e05c",children:".multiplayer-item.jsx-a16e88ad40d0e05c{padding:var(--space-4)var(--space-16)}.multiplayer-item.is-editable.jsx-a16e88ad40d0e05c{padding-right:var(--space-8)}.multiplayer-item.is-editable.jsx-a16e88ad40d0e05c:hover{background-color:var(--background-root)}.label.jsx-a16e88ad40d0e05c{margin-right:auto}"})]})}var He=t(4158);function Ve(e){var n=e.email,t=e.onInvite,r=e.onCancel;return(0,a.BX)("div",{className:"jsx-1a6ae4ac10e8f1fa root",children:[(0,a.tZ)(Oe.Z,{level:3,align:"center",children:"Are you sure?"}),(0,a.BX)(Me.Z,{align:"center",children:[(0,a.tZ)("p",{className:"jsx-1a6ae4ac10e8f1fa message",children:"Adding an external user as a guest to this repl will give the user read and write access. Please confirm the below email address before inviting the user as a guest."}),(0,a.tZ)("p",{className:"jsx-1a6ae4ac10e8f1fa email",children:n})]}),(0,a.BX)("div",{className:"jsx-1a6ae4ac10e8f1fa controls",children:[(0,a.tZ)(We.Z,{onClick:r,children:"Cancel"}),(0,a.tZ)(We.Z,{filled:!0,color:"primary",onClick:t,children:"Invite"})]}),(0,a.tZ)(ne(),{id:"1a6ae4ac10e8f1fa",children:".root.jsx-1a6ae4ac10e8f1fa{color:var(--foreground-default);padding:var(--space-24);display:grid;grid-gap:var(--space-24)}.controls.jsx-1a6ae4ac10e8f1fa{display:grid;grid-gap:var(--space-8);grid-auto-flow:column}.message.jsx-1a6ae4ac10e8f1fa{padding-bottom:var(--space-16)}"})]})}var qe=t(75474),Ye=t(34847);function $e(e){var n,t,r=e.replId,o=(0,Se.JT)({variables:{replId:r}}),c=o.data,u=o.loading,s=(null===c||void 0===c||null===(n=c.currentUser)||void 0===n?void 0:n.id)||null,d=(0,Ge.Z)(),p=d.showConfirm,f=d.showError,h=(0,i.Z)(l.useState(""),2),v=h[0],m=h[1],g=(0,i.Z)((0,Se.fS)({onError:function(e){return f(e.message)},onCompleted:function(e){var n=e.addMultiplayerUser.user;(0,E.j)(E.U3.MULTIPLAYER_INVITED,{replId:r,inviteMethod:"username"});var t=n?"@".concat(n.username):"Member";p("".concat(t," added"))}}),2),y=g[0],b=g[1],w=(0,i.Z)((0,Se.HM)({onError:function(e){return f(e.message)},onCompleted:function(e){var n=e.removeMultiplayerUser.user,t=n?"@".concat(n.username):"Member";p("".concat(t," removed"))}}),2),x=w[0],R=w[1],T="Repl"===(null===c||void 0===c?void 0:c.repl.__typename)?c.repl:null,k=(0,i.Z)((0,Pe.Sv)({onError:function(e){f(e.message)},update:function(e,n){var t,i=null===(t=n.data)||void 0===t?void 0:t.createMultiplayerInvite2;if(i)if("UserError"!==i.__typename){if("MultiplayerInvite"===i.__typename){var o=i.email;return(0,E.j)(E.U3.MULTIPLAYER_INVITED,{replId:r,inviteMethod:"email"}),void p("Invited ".concat(o," via email"))}if("ReplPermission"===i.__typename){e.modify({id:e.identify({__typename:"Repl",id:r}),fields:{permissions:function(n){var t=e.writeFragment({data:i,fragment:Pe.L1});return(0,Ie.Z)(n).concat([t])}}});var a=i.user;(0,E.j)(E.U3.MULTIPLAYER_INVITED,{replId:r,inviteMethod:"email"});var l=a?"@".concat(a.username):"Member";p("".concat(l," added"))}}else f(i.message)}}),2),I=k[0],S=k[1],P=(0,i.Z)((0,Pe.Ej)({onError:function(e){return f(e.message)},onCompleted:function(e){if("UserError"!==e.deleteMultiplayerInvite.__typename){if("MultiplayerInvite"===e.deleteMultiplayerInvite.__typename){var n=e.deleteMultiplayerInvite.email;p("Invite for ".concat(n," deleted"))}}else f(e.deleteMultiplayerInvite.message)}}),2),D=P[0],_=P[1];if(T&&!T.owner)throw new Error("Cannot manage members on anon repls");if((null===T||void 0===T?void 0:T.owner)&&"Team"!==(null===T||void 0===T?void 0:T.owner.__typename))throw new Error("Expect repl owned by a team");var U,A,B,G="Team"===(null===T||void 0===T||null===(t=T.owner)||void 0===t?void 0:t.__typename)?T.owner:null,N=null!==(U=null===T||void 0===T?void 0:T.permissions.reduce((function(e,n){return n.user?(0,Ie.Z)(e).concat([n.user.username]):e}),[]))&&void 0!==U?U:[],O=null===T||void 0===T?void 0:T.permissions.reduce((function(e,n){if(!n.user)return e;var t=n.user;return!v||Fe.Z.filter(v,[t.username]).length>0?((null===G||void 0===G?void 0:G.members.some((function(e){var n;return(null===(n=e.user)||void 0===n?void 0:n.id)===t.id})))||e.users.push(t),e):e}),{users:[]}),M=null===T||void 0===T?void 0:T.multiplayerInvites.filter((function(e){return!v||Fe.Z.filter(v,[e.email]).length>0})),L=null===G||void 0===G?void 0:G.members.reduce((function(e,n){if(!n.user)return e;var t=n.user;if(!(!v||Fe.Z.filter(v,[t.username]).length>0))return e;var r=n.permissions&&n.permissions!==C.SV.Member,i=null===T||void 0===T?void 0:T.permissions.find((function(e){var n;return e.user&&(null===(n=e.user)||void 0===n?void 0:n.id)===t.id}));return r?e.teamAdmins.push(t):(null===i||void 0===i?void 0:i.type)?e.withPermission.push(t):e.withoutPermission.push(t),e}),{teamAdmins:[],withPermission:[],withoutPermission:[]}),X=null===L||void 0===L?void 0:L.teamAdmins.some((function(e){return e.id===s})),F=(null!==(A=null===O||void 0===O?void 0:O.users.length)&&void 0!==A?A:0)+(null!==(B=null===M||void 0===M?void 0:M.length)&&void 0!==B?B:0),z=null===T||void 0===T?void 0:T.currentUserPermissions.editMultiplayers,W=null===T||void 0===T?void 0:T.currentUserPermissions.inviteGuests,j=Boolean(L&&!L.teamAdmins.length&&!L.withPermission.length&&(!(null===O||void 0===O?void 0:O.users.length)&&!(null===M||void 0===M?void 0:M.length)&&W||!W&&!L.withoutPermission.length)),H=(0,i.Z)(l.useState(null),2),V=H[0],q=H[1];return(0,a.BX)("div",{className:ne().dynamic([["dc131772cdbb2add",[te.j.mobileMax]]])+" root",children:[(0,a.BX)(De.gC,{spacing:2,align:"stretch",children:[(0,a.BX)(De.Ug,{children:[(0,a.BX)(Oe.Z,{level:5,foreground:u?3:1,children:[z?"Add or remove members from this repl":null,u?"Loading...":null]}),z&&W&&!u?(0,a.tZ)("div",{"aria-label":" Add team members or invite external guests via email or username","data-microtip-position":"bottom","data-microtip-size":"medium",role:"tooltip",className:ne().dynamic([["dc131772cdbb2add",[te.j.mobileMax]]])+" information-icon-container",children:(0,a.tZ)(He.Z,{})}):null]}),W?(0,a.tZ)(ze.Z,{existingUsernames:N,onSubmit:function(e){!!e.match(/.+@.+/)&&!S.loading?q(e):b.loading||y({variables:{username:e,replId:r,type:"rw"}}),m("")},placeholder:z?"Search for users or invite guests":"Filter users",isDisabled:u,onChange:function(e){return m(e)}}):(0,a.tZ)(Le.ZP,{disabled:u,value:v,onChange:function(e){return m(e.currentTarget.value)},placeholder:z?"Filter team members to add or remove":"Filter team members"}),(0,a.tZ)(ke.Z,{isOpen:!!V,onRequestClose:function(){return q(null)},children:V?(0,a.tZ)(Ve,{email:V,onInvite:function(){I({variables:{email:V,replId:r,type:"rw"}}),q(null)},onCancel:function(){return q(null)}}):null}),(0,a.BX)("div",{className:ne().dynamic([["dc131772cdbb2add",[te.j.mobileMax]]])+" "+(le()("multiplayers-list",{"is-empty":j})||""),children:[(null===L||void 0===L?void 0:L.withPermission.length)?(0,a.tZ)("div",{className:ne().dynamic([["dc131772cdbb2add",[te.j.mobileMax]]])+" list-heading",children:(0,a.BX)(De.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(_e.Z,{size:12}),(0,a.BX)(Me.Z,{foreground:2,size:"small",children:[null===L||void 0===L?void 0:L.withPermission.length," member",1===(null===L||void 0===L?void 0:L.withPermission.length)?"":"s"," with access"]})]})}):null,null===L||void 0===L?void 0:L.withPermission.map((function(e){return(0,a.tZ)(je,{value:e.username,image:e.image,statusText:"(can edit)",type:"member",onButtonPress:X?function(){R.loading||x({variables:{replId:r,username:e.username}})}:void 0,Icon:Z.Z},e.id)})),!!F&&(0,a.tZ)("div",{className:ne().dynamic([["dc131772cdbb2add",[te.j.mobileMax]]])+" list-heading",children:(0,a.BX)(De.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(_e.Z,{size:12}),(0,a.BX)(Me.Z,{foreground:2,size:"small",children:[(0,Ye.Z)("guest",F,!0),"with access"]})]})}),null===O||void 0===O?void 0:O.users.map((function(e){return(0,a.tZ)(je,{value:e.username,image:e.image,statusText:"(can edit)",type:"guest",onButtonPress:X?function(){R.loading||x({variables:{replId:r,username:e.username}})}:void 0,Icon:Z.Z},e.id)})),null===M||void 0===M?void 0:M.map((function(e){return(0,a.tZ)(je,{value:e.email,statusText:"(pending)",onButtonPress:X?function(){_.loading||D({variables:{replId:r,email:e.email}})}:void 0,Icon:Z.Z},e.email)})),!W&&(null===L||void 0===L?void 0:L.withoutPermission.length)?(0,a.tZ)("div",{className:ne().dynamic([["dc131772cdbb2add",[te.j.mobileMax]]])+" list-heading",children:(0,a.BX)(De.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(Ue.Z,{size:12}),(0,a.BX)(Me.Z,{foreground:2,size:"small",children:[(0,Ye.Z)("member",null===L||void 0===L?void 0:L.withoutPermission.length,!0),"without access"]})]})}):null,!W&&(null===L||void 0===L?void 0:L.withoutPermission.map((function(e){return(0,a.tZ)(je,{value:e.username,image:e.image,type:"member",onButtonPress:z?function(){b.loading||y({variables:{replId:r,username:e.username,type:"rw"}})}:void 0,Icon:Ne.Z},e.id)}))),(null===L||void 0===L?void 0:L.teamAdmins.length)?(0,a.tZ)("div",{className:ne().dynamic([["dc131772cdbb2add",[te.j.mobileMax]]])+" list-heading",children:(0,a.BX)(De.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(Ae.Z,{size:12}),(0,a.tZ)(Me.Z,{foreground:2,size:"small",children:"Team admins cannot be removed from repls"})]})}):null,null===L||void 0===L?void 0:L.teamAdmins.map((function(e){return(0,a.tZ)("div",{className:ne().dynamic([["dc131772cdbb2add",[te.j.mobileMax]]])+" "+(le()("multiplayer-item",{"is-editable":z})||""),children:(0,a.BX)(De.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(Be.Z,{size:"s",url:e.image}),(0,a.tZ)("div",{className:ne().dynamic([["dc131772cdbb2add",[te.j.mobileMax]]])+" label",children:v?(0,a.tZ)(Xe.gr,{source:e.username,match:v}):e.username})]})},e.id)})),j?(0,a.BX)(Me.Z,{foreground:2,align:"center",children:['No members matching "',v,'" found']}):null]}),z||u?null:(0,a.tZ)(Me.Z,{foreground:2,size:"small",children:"Only admins can add and remove members to multiplayer"}),z&&W?(0,a.tZ)(qe.Z,{replId:r}):null]}),(0,a.tZ)(ne(),{id:"dc131772cdbb2add",dynamic:[te.j.mobileMax],children:".root.__jsx-style-dynamic-selector{padding:var(--space-16);color:var(--foreground-default)}.multiplayers-list.__jsx-style-dynamic-selector{background-color:var(--background-root);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);height:300px;overflow-y:auto}.multiplayers-list.is-empty.__jsx-style-dynamic-selector{display:grid;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:var(--space-16);word-break:break-word}.multiplayer-item.__jsx-style-dynamic-selector{padding:var(--space-4)var(--space-16)}.multiplayer-item.is-editable.__jsx-style-dynamic-selector{padding-right:var(--space-8)}.multiplayer-item.is-editable.__jsx-style-dynamic-selector:hover{background-color:var(--background-root)}.list-heading.__jsx-style-dynamic-selector{padding:var(--space-16)var(--space-16)0}.label.__jsx-style-dynamic-selector{margin-right:auto}.information-icon-container.__jsx-style-dynamic-selector{margin-left:5px}@media screen and (min-width:".concat(te.j.mobileMax,"px){.root.__jsx-style-dynamic-selector{padding:var(--space-48)}}")})]})}var Ke=t(15153),Qe=t(12215);function Je(e){var n=e.children,t=e.showPopover,r=(0,Qe.Z)("announcement","add-guest-new-user"),o=r.shouldDisplay,c=r.register,u=r.dismiss,s=(0,i.Z)(l.useState(!1),2),d=s[0],p=s[1],f=(0,i.Z)(l.useState(!1),2),h=f[0],v=f[1];l.useEffect((function(){t&&!h&&c()}),[h,c,t]);var m=o&&!h;return(0,a.BX)(K.Z,{onClickOutside:function(){return v(!0)},isOpen:m,showArrow:!0,borderColor:"var(--accent-purple-default)",children:[n,(0,a.BX)(De.gC,{spacing:2,align:"stretch",children:[(0,a.BX)(De.Ug,{spacing:1,children:[(0,a.tZ)(Ke.Z,{}),(0,a.tZ)(Oe.Z,{level:5,children:"Invite guests to your repl!"})]}),(0,a.BX)(Me.Z,{children:[" ","Add external guests to your repl for interviews and collaborative projects."," "]}),(0,a.tZ)(De.Ug,{spacing:1,justify:"end",children:(0,a.tZ)(We.Z,{loading:d,onClick:function(){p(!0),u()},children:"Got it"})})]})]})}var en=t(59233);function nn(e){var n=e.replId;return(0,a.BX)("div",{className:ne().dynamic([["73cdb9c447ce4102",[te.j.mobileMax]]]),children:[(0,a.BX)(De.gC,{spacing:2,align:"stretch",children:[(0,a.tZ)(Oe.Z,{level:4,children:"Invite"}),(0,a.tZ)(en.Z,{replId:n}),(0,a.tZ)(qe.Z,{replId:n})]}),(0,a.tZ)(ne(),{id:"73cdb9c447ce4102",dynamic:[te.j.mobileMax],children:"div.__jsx-style-dynamic-selector{padding:var(--space-16)}@media screen and (min-width:".concat(te.j.mobileMax,"px){div.__jsx-style-dynamic-selector{padding:var(--space-32)}}")})]})}var tn=t(18172),rn=t(71171),on=t.n(rn),an=t(68963),ln=t(95068),cn=t(12727),un=t(88055),sn=t(8357),dn=t(72676),pn=t(57416),fn=t(37806),hn=((0,c.cn)(null,(function(e,n,t){var r=e(cn.Eh).find((function(e){return e.isDialog}));r?n(un.$,r.paneId):n(vn,t)})),(0,c.cn)(null,(function(e,n,t){var r=e(cn.Eh).find((function(e){return e.isDialog}));if(r){var i=e(r.data);i.type!==i.type?(n(un.$,r.paneId),n(vn,t)):n(sn.v,{paneId:r.paneId,data:t.pane})}else n(vn,t)}))),vn=(0,c.cn)(null,(function(e,n,t){if(!e(cn.Eh).find((function(e){return e.isDialog}))){var r=e(ln.g4),i=e(cn.CK),o=on()(),a=i.x+i.width,l=i.y+i.height,c=t.maxWidth||a,u=t.maxHeight||l,s=Math.min(c,.8*a),d=Math.min(u,.8*l),p={width:s,height:d,x:a/2-s/2-i.x,y:l/2-d/2-i.y},f=(0,tn.ZP)(r,(function(e){try{(0,an.m)(e,{id:on()(),isFloating:!0,panes:[o],rect:p})}catch(t){throw n(fn.xm,{error:t,tags:{layoutstate:!0}}),t}}));n(dn.iH,f),n(pn.W1,o);var h=(0,cn.z)(o),v=e(h);n(pn.W1,o),n(h,(0,re.Z)((0,k.Z)({},v),{isDialog:!0})),n(v.data,t.pane)}})),mn=(0,c.cn)(null,(function(e,n){var t=e(cn.Eh).find((function(e){return e.isDialog}));t&&n(un.$,t.paneId)})),gn=t(14924),Zn=t(35642),yn=t(26082),bn=t(17495),wn=t(42325);function xn(e){var n,t=e.replId,r=e.onDone,o=e.isResubmit,l=e.lastUpdated,c=e.openIOtesterPane,u=(0,Q.Z)().iotester,s=(0,wn.CH)({variables:{replId:t}}),d=u.lastRunAt.getTime()>l,p=(0,bn.xh)({variables:{replId:t}}).data,f="Repl"===(null===p||void 0===p?void 0:p.repl.__typename)?p.repl:null,h=(null===f||void 0===f?void 0:f.template)||null,v=(null===h||void 0===h?void 0:h.dueDate)||null,g=(new Date).toISOString(),Z=(0,Ge.Z)(),R=Z.showConfirm,T=Z.showError,E=(0,i.Z)((0,bn.xA)({variables:{replId:t},onCompleted:function(e){var n=e.submitRepl;"UserError"!==n.__typename?"Repl"===n.__typename&&(R("Repl submitted"),r()):T(n.message)},onError:function(e){T(e.message)}}),2),C=E[0],k=E[1],I=d&&u.lastRunDidPass;return"Repl"===(null===(n=s.data)||void 0===n?void 0:n.repl.__typename)&&s.data.repl.ioTests.length>0&&!I?(0,a.BX)(y.Z,{css:[w.l0.colWithGap(24)],children:[(0,a.tZ)(b.h,{variant:"headerDefault",level:2,children:d?"Fix test failures before submitting":"Run tests before submitting"}),(0,a.tZ)(b.x,{multiline:!0,children:d?"Input/Output tests did not pass.":"Input/Output tests have not been run since this Repl was last changed."}),(0,a.BX)(y.Z,{css:[w.l0.rowWithGap(12),w.l0.justify.end],children:[(0,a.tZ)(m.ZP,{disabled:k.loading,colorway:"primary",onClick:function(){c(),r()},text:"View tests"}),(0,a.tZ)(m.ZP,{disabled:k.loading,onClick:function(){return C()},iconLeft:(0,a.tZ)(x.Z,{}),text:"Submit anyway"})]})]}):(0,a.BX)(y.Z,{css:[w.l0.colWithGap(24)],children:[(0,a.tZ)(b.h,{variant:"headerDefault",level:2,children:o?" Resubmit Repl":"Submit Repl"}),(0,a.tZ)(b.x,{multiline:!0,children:o?"This will re-notify Team admins about your submission.":"This will submit your Repl for review and notify the Team's admins."}),v&&v<g?(0,a.tZ)(b.x,{multiline:!0,css:[w.l0.color.accentNegativeStronger],children:"Note: Your submission is past the due date and will be marked late."}):null,(0,a.BX)(y.Z,{css:[w.l0.rowWithGap(12),w.l0.justify.end],children:[(0,a.tZ)(m.ZP,{disabled:k.loading,onClick:r,text:"Cancel"}),(0,a.tZ)(m.ZP,{colorway:"primary",disabled:k.loading,onClick:function(){return C()},iconLeft:(0,a.tZ)(x.Z,{}),text:o?"Submit again":"Submit"})]})]})}var Rn=t(40381),Tn=t(65456),En=t(48551),Cn=t(37424),kn=t(19923);function In(){var e=(0,I.Z)(["\n  query UpdateModelSolutionModal($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n        origin {\n          id\n          ...TeamProfileRepl\n          template {\n            id\n            dueDate\n          }\n          unitTests {\n            tests {\n              id\n            }\n          }\n          ioTests {\n            id\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return In=function(){return e},e}function Sn(){var e=(0,I.Z)(["\n  mutation UpdateModelSolution($input: UpdateReplTemplateModelSolutionInput!) {\n    updateReplTemplateModelSolution(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Sn=function(){return e},e}var Pn={},Dn=(0,S.Ps)(In(),kn.vs);var _n=(0,S.Ps)(Sn(),kn.vs);var Un,An=t(28479),Bn=function(e){var n,t,r,o,c,u,s,d,p,f=e.replId,h=e.onDone,m=(0,Ge.Z)(),g=m.showConfirm,Z=m.showError,y=function(e){var n=(0,k.Z)({},Pn,e);return P.a(Dn,n)}({variables:{replId:f},onCompleted:function(e){var n,t,r=e.repl;"Repl"===r.__typename&&(null===(n=r.origin)||void 0===n||null===(t=n.template)||void 0===t?void 0:t.modelSolution)&&"ReplTemplateModelSolution"===r.origin.template.modelSolution.__typename&&(S(r.origin.template.modelSolution.visibleAfterSubmitting),U(r.origin.template.modelSolution.visibleAfterPassingTests),N(r.origin.template.modelSolution.visibleAfterDueDate))}}),b=y.data,w=y.loading,R=(0,i.Z)(function(e){var n=(0,k.Z)({},Pn,e);return G.D(_n,n)}({onError:function(e){return Z(e)},onCompleted:function(){g("Updated solution"),h()}}),2),T=R[0],E=R[1],C=(0,i.Z)(l.useState(!1),2),I=C[0],S=C[1],D=(0,i.Z)(l.useState(!1),2),_=D[0],U=D[1],A=(0,i.Z)(l.useState(!1),2),B=A[0],N=A[1],O=(0,i.Z)(l.useState(),2),M=O[0],L=O[1],X=(0,Cn.H)();if(l.useEffect((function(){var e="Students can ";if(I||B||_){e+="view the solution after";var n=[];I&&n.push("submitting their project"),_&&n.push("passing all tests"),B&&n.push("the due date has passed");for(var t=0;t<n.length;t++)t>0&&(e+=",",t===n.length-1&&(e+=" and")),e+=" "+n[t];e+="."}else e+="never view the solution.";L(e)}),[I,_,B]),w)return(0,a.tZ)(v.G7,{css:[v.l0.center],children:(0,a.tZ)(ce.Z,{})});var F="Repl"===(null===b||void 0===b?void 0:b.repl.__typename)&&"Team"===(null===(n=b.repl.owner)||void 0===n?void 0:n.__typename)&&(null===(t=b.repl.owner)||void 0===t?void 0:t.id),z="Repl"===(null===b||void 0===b?void 0:b.repl.__typename)&&(null===(r=b.repl.origin)||void 0===r||null===(o=r.template)||void 0===o?void 0:o.modelSolution);if(!z)return null;var W=z.id,j="Repl"===(null===b||void 0===b?void 0:b.repl.__typename)&&((null===(c=b.repl.origin)||void 0===c?void 0:c.ioTests.length)||(null===(u=b.repl.origin)||void 0===u||null===(s=u.unitTests)||void 0===s?void 0:s.tests.length)),H="Repl"===(null===b||void 0===b?void 0:b.repl.__typename)&&(null===(d=b.repl.origin)||void 0===d||null===(p=d.template)||void 0===p?void 0:p.dueDate);return(0,a.tZ)("form",{onSubmit:function(e){e.preventDefault(),F&&W&&T({variables:{input:{teamId:F,solutionId:W,visibleAfterSubmitting:I,visibleAfterPassingTests:_,visibleAfterDueDate:B}}})},children:(0,a.BX)(v.G7,{css:[v.l0.colWithGap(24)],children:[(0,a.tZ)(v.h4,{level:1,variant:"headerDefault",children:"Update solution"}),(0,a.BX)(v.G7,{css:[v.l0.colWithGap(16)],children:[(0,a.BX)(v.G7,{css:[v.l0.rowWithGap(8)],children:[(0,a.tZ)(v.XZ,{id:X("availableAfterSubmitting"),checked:I,onChange:function(){return S(!I)}}),(0,a.tZ)("label",{htmlFor:X("availableAfterSubmitting"),children:(0,a.tZ)(v.xv,{children:"Available after submitting"})})]}),(0,a.BX)(v.G7,{css:[v.l0.rowWithGap(8)],children:[(0,a.tZ)(v.XZ,{id:X("availableAfterPassingTests"),checked:_,onChange:function(){return U(!_)}}),(0,a.tZ)("label",{htmlFor:X("availableAfterPassingTests"),children:(0,a.BX)(v.G7,{css:[v.l0.rowWithGap(4)],children:[(0,a.tZ)(v.xv,{children:"Available after passing tests"}),(0,a.BX)(v.xv,{children:["(",j?"".concat(j," ").concat((0,Ye.Z)("test",j)," defined"):"no tests exist yet",")"]})]})})]}),(0,a.BX)(v.G7,{css:[v.l0.rowWithGap(8),{verticalAlign:"baseline"}],children:[(0,a.tZ)(v.XZ,{id:X("availableAfterDueDate"),checked:B,onChange:function(){return N(!B)}}),(0,a.tZ)("label",{htmlFor:X("availableAfterDueDate"),children:(0,a.BX)(v.G7,{css:[v.l0.rowWithGap(4)],children:[(0,a.tZ)(v.xv,{children:"Available after due date"}),(0,a.BX)(v.xv,{css:{textDecoration:"italic"},children:["(",H?(0,An.p)(H):"no due date set yet",")"]})]})})]})]}),(0,a.tZ)(v.E_,{text:"".concat(M),colorway:I||_||B?"positive":"negative"}),(0,a.tZ)(v.G7,{css:{alignItems:"end"},children:(0,a.tZ)(v.zx,{stretch:!1,colorway:"primary",text:"".concat(E.loading?"Saving...":"Save"),iconLeft:(0,a.tZ)(x.Z,{}),disabled:E.loading})})]})})},Gn=(Un={},(0,gn.Z)(Un,C.Sy.PublishTemplate,"Publish project"),(0,gn.Z)(Un,C.Sy.EditTemplate,"Edit project"),(0,gn.Z)(Un,C.Sy.Submit,"Submit"),(0,gn.Z)(Un,C.Sy.Resubmit,"Resubmit"),(0,gn.Z)(Un,C.Sy.UpdateModelSolution,"Update solution"),Un);function Nn(e){var n=e.cta,t=e.replId,r=e.isGroupProject,o=e.openIOtesterPane,c=(0,i.Z)(l.useState(null),2),u=c[0],s=c[1],d=function(){return s(null)},p=(0,Rn.Z)(),f=(0,Q.Z)().fs,h=(0,i.Z)(l.useState(0),2),v=h[0],Z=h[1];l.useEffect((function(){if(p&&!(0,En.T3)(p)&&!(0,En.sL)(p)){var e=f.watchTextFile(p,{onChange:function(e){e.changeSource===Tn.Fl.Local&&Z(Date.now())}});return e}}),[p,f,Z]);var y=Boolean(u&&[C.Sy.PublishTemplate,C.Sy.EditTemplate].includes(u));return l.useEffect((function(){n===C.Sy.ReviewSubmission&&(Zn.Z.get("annotations/educationModalDismissed")||(s(n),Zn.Z.set("annotations/educationModalDismissed",!0)))}),[n]),(0,a.BX)(a.HY,{children:[Gn[n]&&(0,a.tZ)(m.ZP,{onClick:function(){return s(n)},text:Gn[n],iconLeft:(0,a.tZ)(x.Z,{})}),(0,a.tZ)(g.Z,{isOpen:u===C.Sy.Submit||u===C.Sy.Resubmit,onRequestClose:d,maxWidth:512,children:(0,a.tZ)(xn,{replId:t,onDone:d,isResubmit:u===C.Sy.Resubmit,lastUpdated:v,openIOtesterPane:o})}),(0,a.tZ)(ke.Z,{preventClose:!0,isOpen:y,onRequestClose:d,width:r?"large":"medium",children:(0,a.tZ)(yn.Z,{replId:t,onDone:d})}),(0,a.tZ)(g.Z,{isOpen:u===C.Sy.UpdateModelSolution,onRequestClose:d,maxWidth:600,children:(0,a.tZ)(Bn,{replId:t,onDone:d})})]})}var On=t(93910),Mn=(0,c.cn)(!1),Ln=(0,c.cn)(null,(function(e,n,t){if(e(Mn))return n(Xn,null),void n(Mn,!1);t&&n(Xn,t),n(Mn,!0)})),Xn=(0,c.cn)(null),Fn=(0,c.cn)((function(e){var n=e(zn);return{data:On.$,commands:function(){return n}}})),zn=(0,c.cn)([]),Wn=(0,c.cn)((function(e){var n=e(Fn),t=e(Xn);return t?[n,t]:n})),jn=t(70917),Hn=t(29163),Vn=t(5257),qn=t(99534),Yn=t(21131),$n=(0,c.cn)({chat:"unread"}),Kn=(0,c.cn)(null,(function(e,n,t){n($n,(function(e){return(0,tn.ZP)(e,(function(e){t.indicatorType?e[t.paneType]=t.indicatorType:delete e[t.paneType]}))}))}));function Qn(e){var n=e.paneType,t=(0,Yn.Z)((function(){return(0,c.cn)((function(e){return n?e($n)[n]:void 0}))}),[n]);return(0,c.Dv)(t)}var Jn=(0,jn.iv)([v.l0.borderRadius("full"),v.l0.position.absolute,v.l0.top(-3),v.l0.right(-3)]);function et(e){var n=e.color,t=void 0===n?v.TV.redStronger:n,r=e.small?6:8;return(0,a.tZ)(v.G7,{style:{backgroundColor:t,width:r,height:r},css:Jn})}var nt=(0,jn.iv)([v.l0.align.center,v.l0.p(4),v.l0.borderRadius(8),v.l0.rowWithGap(4),v.l0.position.relative,{fontSize:v.TV.fontSizeDefault,lineHeight:"normal"}]),tt=(0,jn.iv)({color:"inherit"});function rt(e){var n,t,r=null===(n=e.highlightRanges)||void 0===n?void 0:n.filter((function(e){return e.to>0})),i=Qn({paneType:null===(t=e.pane)||void 0===t?void 0:t.type});return(0,a.BX)(v.Tg,{elevated:!0,style:{color:e.active?v.TV.foregroundDefault:v.TV.foregroundDimmer},css:nt,children:[e.icon,(0,a.tZ)(v.xv,{css:tt,children:(null===r||void 0===r?void 0:r.length)?(0,a.tZ)(Xe.xK,{style:{color:(e.active,v.TV.foregroundDimmest)},matchStyle:{fontWeight:v.TV.fontWeightBold,color:v.TV.foregroundDefault},source:e.label,matches:r.map((function(e){return{column:e.from,length:e.to-e.from}}))}):e.label}),i?(0,a.tZ)(et,{small:!0}):null]})}var it=v.KD.button;function ot(e){var n=e.onClick,t=(0,qn.Z)(e,["onClick"]);return(0,a.tZ)(it,{css:[v.l0.reset.button],onClick:n,children:(0,a.tZ)(rt,(0,k.Z)({},t))})}var at=t(33279),lt=(0,jn.iv)([v.l0.p(8),v.l0.rowWithGap(4),v.l0.align.center,v.l0.justify.spaceBetween]),ct=(0,jn.iv)([v.l0.rowWithGap(4),v.l0.align.center,v.l0.flex.growAndShrink(1)]);function ut(e){var n=e.content||(0,a.BX)(a.HY,{children:[(Array.isArray(e.item)?e.item:[e.item]).map((function(n,t){return(0,a.tZ)(rt,{icon:n.icon,label:n.label,active:n.active,highlightRanges:n.highlightRanges,pane:e.pane},n.label+t)})),e.description?(0,a.tZ)(v.xv,{variant:"small",color:e.active?"dimmer":"dimmest",css:[v.l0.flex.growAndShrink(1)],children:e.description}):null]});return(0,a.BX)(v.Tg,{elevated:e.active,css:lt,children:[(0,a.tZ)(v.G7,{css:ct,children:n}),e.keyboardShortcut?(0,a.tZ)(at.Z,{shortcut:e.keyboardShortcut}):null]})}var st=y.K.div;function dt(e){var n=e.isLoading||e.items.length?e.items.map((function(n,t){var r=n.data,i=r.label,o=r.icon,l=n.match.render,c=t===e.highlightedIndex,u=l&&"content"in l?l.content:void 0,s=l&&"ranges"in l?l.ranges:void 0;return(0,a.tZ)(st,(0,re.Z)((0,k.Z)({css:[{cursor:"pointer"}]},e.getItemProps({item:n,index:t})),{children:u?(0,a.tZ)(ut,{active:c,description:r.description,keyboardShortcut:r.keyboardShortcut,content:u}):(0,a.tZ)(ut,{active:c,description:r.description,keyboardShortcut:r.keyboardShortcut,item:{icon:o,label:i,active:c,highlightRanges:s}})}),(0,Vn.k)(n))})):null;return(0,a.tZ)(st,(0,re.Z)((0,k.Z)({},e.getMenuProps()),{css:[w.l0.flex.growAndShrink(1),w.l0.overflow("auto")],children:n}))}var pt=(0,l.memo)(dt),ft=t(41238),ht=y.K.div,vt=y.K.input,mt=(0,jn.iv)([w.l0.height("100%"),w.l0.flex.growAndShrink(1),w.l0.color.foregroundDefault,w.l0.display.block,w.l0.py(8),{fontSize:w.TV.fontSizeSubheadDefault,backgroundColor:"transparent",border:"0 none",outline:"0 none","::placeholder":{color:w.TV.foregroundDimmest},"&:hover::placeholder":{color:w.TV.foregroundDimmer},"&:focus::placeholder, &:hover:focus::placeholder":{color:w.TV.foregroundDimmest}}]);function gt(e){var n=(0,Vn.Z)({isOpen:!0,onSelect:e.onSelect,initialCommand:e.initialCommand}),t=n.combobox;return(0,a.BX)(v.Tg,{elevated:!0,className:e.className,css:[w.l0.flex.growAndShrink(1),w.l0.borderRadius(8),w.l0.overflow("hidden"),w.l0.maxHeight("70vh")],children:[(0,a.BX)(ht,(0,re.Z)((0,k.Z)({},t.getComboboxProps()),{css:[w.l0.rowWithGap(4),w.l0.pl(4),w.l0.pr(8),w.l0.align.center],children:[(0,a.tZ)(y.Z,{css:[w.l0.py(8),w.l0.rowWithGap(4)],children:n.path.map((function(e,t){var r=e.data,i=r.label,o=r.icon,l=i+t,c=function(){n.resetToIndex({index:t,focus:!0})};return 0===t?(0,a.tZ)(Hn.Z,{alt:"Commands",onClick:c,children:n.isLoading?(0,a.tZ)(ce.Z,{}):(0,a.tZ)(ft.Z,{})},l):(0,a.tZ)(ot,{label:i,icon:o,onClick:c},l)}))}),(0,a.tZ)(vt,(0,k.Z)({css:[mt]},t.getInputProps({value:n.inputValue,autoFocus:!0,ref:n.inputRef,onChange:function(e){return n.setInputValue(e.currentTarget.value)},onKeyDown:function(t){"Enter"===t.key&&0===n.items.length&&e.onSubmit?e.onSubmit(t.currentTarget.value):"ArrowLeft"!==t.key&&"ArrowRight"!==t.key?"Backspace"===t.key&&n.handleBackspace():n.handleLeftRightArrow(t.key)},placeholder:n.placeholder}))),n.keyboardShortcut?(0,a.tZ)(at.Z,{shortcut:n.keyboardShortcut}):null]})),(0,a.tZ)(pt,{items:n.items,getMenuProps:t.getMenuProps,getItemProps:t.getItemProps,highlightedIndex:t.highlightedIndex,isLoading:n.isLoading})]})}var Zt=t(58967),yt=t(16965),bt=t(88961),wt=t(47875);function xt(e,n){if("object"!==typeof n)return null;var t="string"===typeof n.action?n.action:null;if(!t)return null;if("layout"===e){if("split"===t){var r="string"===typeof n.pane?{type:n.pane}:{type:"commands",data:{autoFocus:!1}};return{action:n.action,placement:n.placement,pane:r}}if("reset"===t)return{action:"resetLayout"}}if("file"===e){var i="string"===typeof n.path?n.path:null;return i&&("openOrCreate"===n.action||"delete"===n.action)?{action:n.action,path:i}:null}if("tabs"===e){if("close"===t&&"string"===typeof n.type)return{action:"closeTab",type:n.type};if("open"===t)return{action:"openTab",pane:"string"===typeof n.type?{type:n.type}:{type:"commands",data:{autoFocus:!1}}}}return"codegen"===e&&"generate"===t&&"string"===typeof n.prompt?{action:"generate",prompt:n.prompt}:null}var Rt=t(29351),Tt=t(50146),Et=t(12912),Ct=t(12771),kt=t(11731),It=t(54992),St=(0,c.cn)(null,(function(e,n,t){var r=e((0,cn.z)(t.fromPaneId));if(r.isDialog){n(un.$,r.paneId);var i=e(cn.Eh).some((function(e){return"tile"===e.type}));n(Rt.g2,i?{panes:[t.data],placement:"leftOf",makeActive:!0}:{panes:[t.data],placement:"replace",makeActive:!0})}else n(sn.v,{paneId:t.fromPaneId,data:t.data,makeActive:!0})})),Pt=(0,c.cn)(null,(function(e,n,t){var r=e(ln.g4),i=(0,Ct._F)(r,"topRight"),o=e(cn.Eh).find((function(n){return e(n.data).type===t.pane.type}));if(o)n(kt.Oe,o.paneId);else if(i){var a=i.paneGroup.panes.find((function(n){var t=e((0,cn.z)(n));if(t.isHidden)return!1;var r=e(t.data);return"filetree"!==r.type&&(!t.isCommited&&!(0,It.Zh)(r.type))}));a?n(sn.v,{paneId:a,data:t.pane,makeActive:!0}):("debugger"===t.pane.type&&n(Rt.gN,{pane:t.pane,edge:"left"}),n(kt.Je,{panes:[t.pane],paneGroupId:i.paneGroup.id,activate:!0,index:0}))}else n(Rt.g2,{panes:[t.pane],placement:"rightOf",relativeTo:["tiling"],makeActive:!0})}));function Dt(){return(0,c.b9)(Pt)}var _t=t(51894),Ut=t(17780),At=t(57418),Bt=t(3032),Gt=t(78120);function Nt(e){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,r.Z)((function(e){var n;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:if(!Ut.l)throw new Error("Expected apolloClient");return[4,Ut.l.query({query:_t.R1,variables:{input:e}})];case 1:if("GenerateCodeResult"!==(n=t.sent().data).generateCode.__typename)throw new Error(n.generateCode.__typename);return[2,n.generateCode.code]}}))}))).apply(this,arguments)}var Mt=(0,c.cn)(null,(function(e,n){n(dn.iH,{tiling:null,floating:[]})})),Lt=((0,c.cn)(null,(function(e,n){var t=on()(),r=e(ln.g4);n(dn.iH,(0,tn.ZP)(r,(function(e){(0,an.m)(e,{id:on()(),relativeTo:["tiling"],placement:"replace",panes:[t]})})))})),(0,c.cn)(null,function(){var e=(0,r.Z)((function(e,n,t){var r,i,a,l,c,u,s;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:switch(r=t.action,i=t.fs,r.action){case"openOrCreate":return[3,1];case"delete":return[3,7];case"split":return[3,9];case"openTab":return[3,10];case"closeTab":return[3,11];case"resetLayout":return[3,12];case"clearLayout":return[3,13];case"generate":return[3,14]}return[3,17];case 1:return[4,i.stat(r.path)];case 2:return o.sent().exists?[3,6]:[4,i.writeFile(r.path,"")];case 3:return o.sent(),[4,i.flush()];case 4:return o.sent(),[4,i.persist({skipDebounce:!0})];case 5:o.sent(),o.label=6;case 6:return n(Bt.U,{path:r.path}),[3,17];case 7:return[4,i.deleteFile(r.path)];case 8:return o.sent(),[3,17];case 9:return a=e(pn.J1),n(Rt.g2,{panes:[r.pane],placement:r.placement,makeActive:!1,relativeTo:a||["tiling"]}),[3,17];case 10:return n(Pt,{pane:r.pane}),[3,17];case 11:return"*"===r.type?n(Mt,{}):n(Tt.AW,r.type),[3,17];case 12:return n(Et.B,{}),[3,17];case 13:return n(Mt,{}),[3,17];case 14:return(l=e(ln.QP))||(c=e(cn.Eh).find((function(n){return"codeEditor"===e(n.data).type})))&&"codeEditor"===(u=e(c.data)).type&&(l=u.data.path),l?[4,Nt({language:(0,At.Sf)(l),replId:t.replId,prompt:r.prompt})]:[2];case 15:return s=o.sent(),[4,new Promise((function(e,n){if(l)var t=i.watchTextFile(l,{onError:function(t){n(t),e()},onReady:function(n){var r=n.writeChange,i=n.initialContent;r(Gt.as.of({from:i.length,insert:s},i.length)),t(),e()}});else n(new Error("Expected path"))}))];case 16:return o.sent(),[3,17];case 17:return[2]}}))}));return function(n,t,r){return e.apply(this,arguments)}}())),Xt="https://llmide.amasad.repl.co";function Ft(e){return zt.apply(this,arguments)}function zt(){return(zt=(0,r.Z)((function(e){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,fetch(Xt+"/"+encodeURIComponent(e),{mode:"cors"})];case 1:return[4,n.sent().json()];case 2:return[2,{json:n.sent(),error:null}];case 3:return[2,{json:null,error:n.sent()}];case 4:return[2]}}))}))).apply(this,arguments)}var Wt=(0,c.cn)(!1),jt=(0,c.cn)(!1);function Ht(e){var n=e.isOpen,t=e.onDone,a=(0,Q.Z)().fs,u=(0,yt.Z)(t),s=(0,wt.Q)("flagGhostrunner"),d=(0,me.Z)(),p=(0,Yn.Z)((function(){return(0,c.cn)(null,function(){var e=(0,r.Z)((function(e,n,t){var r,l,c,s,p,f,h,v,m;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return e(wt.H).flagGhostrunner?(n(Wt,!0),[4,Ft(t)]):[2];case 1:if((r=o.sent()).error)return n(Wt,!1),n(jt,!0),[2];if(l=function(e){if("object"!==typeof e)return{error:"not an object",actions:null};var n=e&&"result"in e?e.result:null;if(!Array.isArray(n))return{error:"no commands",actions:null};var t=[],r=!0,o=!1,a=void 0;try{for(var l,c=n[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u=l.value;if("object"===typeof u){var s=!0,d=!1,p=void 0;try{for(var f,h=Object.entries(u)[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var v=(0,i.Z)(f.value,2),g=xt(v[0],v[1]);g&&t.push(g)}}catch(m){d=!0,p=m}finally{try{s||null==h.return||h.return()}finally{if(d)throw p}}}}}catch(m){o=!0,a=m}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return 0===t.length?{error:"no commands",actions:null}:{error:null,actions:t}}(r.json),!l.actions)return n(Wt,!1),n(jt,!0),[2];c=!0,s=!1,p=void 0,o.label=2;case 2:o.trys.push([2,7,8,9]),f=l.actions[Symbol.iterator](),o.label=3;case 3:return(c=(h=f.next()).done)?[3,6]:(v=h.value,[4,n(Lt,{fs:a,action:v,replId:d})]);case 4:o.sent(),o.label=5;case 5:return c=!0,[3,3];case 6:return[3,9];case 7:return m=o.sent(),s=!0,p=m,[3,9];case 8:try{c||null==f.return||f.return()}finally{if(s)throw p}return[7];case 9:return n(Wt,!1),u.current(),[2]}}))}));return function(n,t,r){return e.apply(this,arguments)}}())}),[u,a,d]),f=(0,c.b9)(p);return(0,l.useEffect)((function(){if(s&&n&&window.webkitSpeechRecognition){var e=new window.webkitSpeechRecognition;e.onresult=function(e){var n=e.results[0][0].transcript;f(n)},e.start()}}),[f,s,n]),f}function Vt(){var e=(0,c.Dv)(Wt);return(0,c.Dv)(jt)?(0,a.tZ)(qt,{}):e?(0,a.tZ)(v.Tg,{elevated:!0,css:[v.l0.coverContainer,v.l0.borderRadius(8),v.l0.center],children:(0,a.tZ)(ce.Z,{})}):null}function qt(){var e=(0,c.b9)(jt);return(0,l.useEffect)((function(){var n=setTimeout((function(){e(!1)}),600);return function(){clearTimeout(n)}}),[e]),(0,a.tZ)(v.Tg,{elevated:!0,css:[v.l0.coverContainer,v.l0.borderRadius(8),v.l0.center],children:(0,a.BX)(v.G7,{css:[v.l0.rowWithGap(8),v.l0.align.center],children:[(0,a.tZ)(bt.Z,{color:v.TV.accentNegativeDefault}),(0,a.tZ)(v.xv,{children:"Something went wrong, try again"})]})})}function Yt(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{enabled:!0}).enabled,t=(0,c.b9)(zn);(0,l.useEffect)((function(){if(n)return t((function(n){return(0,Ie.Z)(n).concat([e])})),function(){t((function(n){return n.filter((function(n){return n!==e}))}))}}),[t,e,n])}function $t(){var e=(0,c.Dv)(Mn),n=(0,c.b9)(Ln),t=(0,c.Dv)(Wn),r=(0,Q.Z)().session,i=(0,Zt.Z)("commandBar").trackTimeToLoadFileStart;(0,l.useEffect)((function(){return r.onCommandBarToggled((function(t){t!==e&&n()}))}),[r,n,e]),(0,l.useEffect)((function(){r.setIsCommandBarOpen(e)}),[r,e]);var o=Ht({onDone:n,isOpen:e});return(0,a.BX)(ke.Z,{isOpen:e,onRequestClose:function(){n()},hideCloseButton:!0,children:[(0,a.tZ)(gt,{onSubmit:o,onSelect:function(e){if("openFile"===e.data.type){var t=e.data.deeplink;i(t.path),r.openFile(t.path),r.updateDeeplink(t)}"action"===e.data.type&&e.data.run(),n()},initialCommand:t}),(0,a.tZ)(Vt,{})]})}var Kt=(0,l.memo)($t),Qt=t(95596),Jt=t(39715),er=t(95901),nr=t(9117),tr=t(36228),rr=t(48869),ir=t(6625),or=t(88679),ar=t(48287),lr=function(e){return e&&e.args?(e.args&&e.args.length>=3&&"sh"===e.args[0]&&"-c"===e.args[1]?e.args.slice(2):e.args).join(" "):""},cr=function(e){var n=e.hideModal,t=(0,Q.Z)(),c=t.dotReplit,u=t.session,s=(0,ir.Z)(),d=(0,Ge.Z)().showError,p=(0,i.Z)(l.useState(!1),2),f=p[0],h=p[1],g=(0,i.Z)(l.useState(""),2),Z=g[0],y=g[1],b=l.useCallback((function(){n(),u.openFile(or.Z)}),[u,n]),x=l.useCallback((function(){return d("Failed to update run command, please try again or contact support")}),[d]),R=(0,i.Z)(l.useState(null),2),T=R[0],E=R[1];l.useEffect((function(){var e=function(){var e=(0,r.Z)((function(){var e,n,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,c.getConfig()];case 1:return n=r.sent(),s.current?(n.errorMessage?E({error:n.error,errorMessage:n.errorMessage}):E(null),t=null===n||void 0===n||null===(e=n.config)||void 0===e?void 0:e.run,y(lr(t)),[2]):[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[c,s]);var C=l.useCallback((0,r.Z)((function(){var e;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,3,4]),e=Z?(0,ar.KQ)(Z):(0,ar.xz)("run"),h(!0),[4,c.updateDotReplit([e])];case 1:return t.sent(),n(),[3,4];case 2:return t.sent(),x(),[3,4];case 3:return h(!1),[7];case 4:return[2]}}))})),[Z,x,c,n]);return(0,a.BX)(v.G7,{css:[w.l0.colWithGap(8),w.l0.p(2),f&&w.l0.cursor.progress],children:[(0,a.tZ)(v.h4,{level:1,variant:"text",css:[w.l0.fontWeight.normal,w.l0.color.foregroundDimmer],children:"Run Command"}),T?(0,a.tZ)(v.xv,{children:T.errorMessage}):(0,a.BX)(a.HY,{children:[(0,a.tZ)(v.II,{value:Z,onChange:function(e){return y(e.target.value)},spellCheck:!1}),(0,a.BX)(v.G7,{css:[w.l0.rowWithGap(12),w.l0.mt(12)],children:[(0,a.tZ)(m.ZP,{onClick:b,text:"Advanced"}),(0,a.tZ)(v.G7,{css:w.l0.flex.grow(1)}),(0,a.tZ)(m.ZP,{colorway:"blue",text:"Save",onClick:C})]})]})]})},ur=t(42895),sr=t(98146),dr=t(42699),pr=t(71255),fr=t(85565),hr=t(80437),vr=t(97808),mr=t(41034),gr=t(79500),Zr=t(30880),yr=t(57981),br="https://linkedin.com/sharing/share-offsite";var wr="https://www.facebook.com/dialog/share?display=page&app_id=1775481339348651";var xr=function(e){var n=e.lessonSlug,t=e.courseSlug,r=(0,Ge.Z)().showConfirm;if(!n||!t)return null;var i=(0,vr.QW)(t),o=(0,vr.qv)(t,n);if(!o)return null;var l=o.ordinalLabel,c=(0,vr.tD)(i.socialSharingText,o),u="".concat(c," ").concat(i.sharableLink),s=(0,pr.Z)({text:c,url:i.sharableLink}),d=function(e){var n=e.url;return"".concat(br,"?url=").concat(encodeURIComponent(n))}({url:i.sharableLink}),p=function(e){var n=e.url,t=e.hashtag,r=e.redirectBackTo,i=new URLSearchParams;i.append("href",n),r&&i.append("redirect_uri",r),t&&(t.startsWith("#")||(t="#".concat(t)),i.append("hashtag",t));var o=i.toString();return"".concat(wr,"&").concat(o)}({url:i.sharableLink,hashtag:i.socialHashtag}),f=[{url:s,icon:fr.Z,base:pr.c,cta:"Share on Twitter",color:hr.Z.brands.twitter},{url:d,icon:yr.Z,base:br,cta:"",color:hr.Z.brands.linkedin},{url:p,icon:Zr.Z,base:wr,cta:"",color:hr.Z.brands.facebook}];return(0,a.BX)(y.Z,{children:[(0,a.BX)(y.Z,{css:[w.l0.rowWithGap(16),w.l0.align.center,w.l0.pr(24)],children:[(0,a.tZ)(y.Z,{css:{fontSize:48},children:"\ud83e\udd73"}),(0,a.BX)(b.x,{variant:"headerDefault",children:["Congrats on completing ",l,"!"]})]}),(0,a.tZ)(b.x,{variant:"subheadDefault",css:[w.l0.py(12)],children:"Share your progress"}),(0,a.BX)(y.Z,{css:[w.l0.position.relative,w.l0.borderRadius(8),w.l0.backgroundColor.backgroundHigher,w.l0.py(8),w.l0.px(12)],children:[(0,a.tZ)(y.Z,{css:w.l0.pr(16),children:u}),(0,a.tZ)(v.hU,{css:[w.l0.position.absolute,w.l0.top(8),w.l0.right(8)],alt:"Copy",size:18,tooltipHidden:!0,onClick:function(){r("Copied to clipboard!"),(0,gr.Z)(u),(0,dr.l)({action:"copied_share_text",lessonSlug:n,courseSlug:t,origin:"lesson_complete_modal"})},children:(0,a.tZ)(mr.Z,{size:16})})]}),(0,a.BX)(y.Z,{css:[w.l0.rowWithGap(16),w.l0.justify.center,w.l0.pt(16),w.l0.align.center],children:[(0,a.tZ)(v.ZP,{outlined:!0,text:"Back to the learning hub",href:"/learn/".concat(t,"/hub")}),(0,a.tZ)(y.Z,{css:[w.l0.rowWithGap(8),w.l0.align.center],children:f.map((function(e){var r=e.url,i=e.icon,o=e.base,l=e.cta,c=e.color;return(0,a.tZ)(m.ZP,{css:[{backgroundColor:c,color:"white"}],onClick:function(){window.open(r,"_blank"),(0,E.j)(E.U3.EXTERNAL_LINK_VIEWED,{url:o,placement:"lesson-complete-modal",campaign:t,lessonSlug:n})},text:l,iconLeft:(0,a.tZ)(i,{})},r)}))})]})]})},Rr=function(e){var n=e.lesson,t=(0,Ge.Z)().showError,r=(0,sr.$0)().fireCircularBurstFrom,o=(0,l.useRef)(null),c=(0,ur.T)(),u=(0,l.useState)(!1),s=u[0],d=u[1],p=(0,i.Z)(function(e){var n=(0,k.Z)({},M,e);return G.D(X,n)}({onError:function(){return t("Something went wrong")},onCompleted:function(e){var i,a;"UpdatedUserCourseLesson"!==(null===(i=e.completeUserCourseLesson)||void 0===i?void 0:i.__typename)?t((null===(a=e.completeUserCourseLesson)||void 0===a?void 0:a.message)||"Something went wrong"):e.completeUserCourseLesson.userCourseLesson.id===n.id?(o.current&&!c&&r({element:o.current}),d(!0)):t("Something went wrong")}}),2),f=p[0],h=p[1].loading;return(0,a.BX)(a.HY,{children:[null!==n.timeCompleted?(0,a.tZ)(v.zx,{ref:o,disabled:!0,text:"Lesson completed \ud83c\udf89",colorway:"primary"}):(0,a.tZ)(v.zx,{iconLeft:h?(0,a.tZ)(ce.Z,{}):void 0,onClick:function(){(0,dr.l)({action:"completed",lessonSlug:n.lessonSlug,courseSlug:n.course.courseSlug}),f({variables:{input:{userLessonId:n.id}}})},text:h?"Verifying\u2026":"Mark lesson as complete",colorway:"primary",css:[h&&v.pt.backgroundPulse()]}),(0,a.tZ)(v.u_,{isOpen:s,onRequestClose:function(){return d(!1)},children:(0,a.tZ)(xr,{lessonSlug:n.lessonSlug,courseSlug:n.course.courseSlug})})]})},Tr=t(92162),Er=t(87514);function Cr(e){var n=e.lesson,t=(0,Tr.Un)(),r=(0,Tr.$x)();return t?(0,a.tZ)(Rr,{lesson:n}):(0,a.tZ)(v.zx,{colorway:"primary",iconLeft:(0,a.tZ)(Er.Z,{}),text:"Show tutorial",onClick:function(){return r()}})}var kr=t(36316),Ir=t(66316),Sr=t(68480);function Pr(e){var n=e.repl,t=(0,i.Z)(l.useState(!1),2),r=t[0],o=t[1];return(0,a.BX)(K.Z,{isOpen:r,maxWidth:460,onClickOutside:function(){},padding:0,gap:8,placement:"bottom-start",growToMaxWidth:!0,zIndex:Sr.Is-1,elevated:!1,children:[(0,a.tZ)(v.G7,{tag:"button",dataCy:"ws-repl-info-container",onClick:function(){o(!0)},css:[v.l0.flex.growAndShrink(1),v.l0.align.center,v.l0.cursor.pointer,v.l0.rowWithGap(8),v.l0.p(4),v.l0.borderRadius(8),v.l0.color.foregroundDefault,r&&{pointerEvents:"none"},{border:"1px solid transparent",backgroundColor:"transparent","&:hover":{borderColor:v.TV.outlineDimmest}}],children:(0,a.tZ)(kr.Z,{repl:n})}),(0,a.tZ)(v.Tg,{background:"default",css:[v.l0.borderRadius(8)],children:(0,a.tZ)(Ir.Z,{setIsEditing:o})})]})}var Dr=t(3462),_r=t(85485),Ur=t(14868),Ar=t(73092),Br=t(197),Gr=t(27668),Nr=t(3411),Or=t(11070),Mr=t(72533),Lr=t(57996),Xr=t(85861),Fr=t(34385),zr=t(97838),Wr=t(59387),jr=t(13772),Hr=t(41664),Vr=t.n(Hr),qr=t(58889);function Yr(){var e=(0,I.Z)(["\n  fragment ReplEnvironmentNavMenuCurrentUser on CurrentUser {\n    id\n    ...LayoutSidebarCurrentUser\n  }\n  ","\n"]);return Yr=function(){return e},e}function $r(){var e=(0,I.Z)(["\n  query ReplEnvironmentNavMenu {\n    currentUser {\n      id\n      ...ReplEnvironmentNavMenuCurrentUser\n    }\n  }\n  ","\n"]);return $r=function(){return e},e}var Kr={},Qr=(0,S.Ps)(Yr(),qr.d),Jr=(0,S.Ps)($r(),Qr);var ei={button:(0,jn.iv)([v.l0.py(4),v.l0.viewStyle,v.l0.reset.button,v.l0.rowWithGap(2),v.l0.align.center,v.l0.color.foregroundDefault,v.l0.cursor.pointer,{":hover svg":{fill:v.TV.foregroundDefault}}]),surface:(0,jn.iv)([v.l0.borderRadius(8),v.l0.width(200),v.l0.maxHeight("80vh"),v.l0.maxWidth("80vw"),v.l0.overflowY("auto")]),ctas:(0,jn.iv)([v.l0.colWithGap(8),v.l0.p(8),{borderBottom:"1px solid",borderColor:v.TV.outlineDimmer}]),items:(0,jn.iv)([{"& > a:last-of-type":v.l0.borderRadius(0,0,8,8)}]),link:(0,jn.iv)([v.l0.viewStyle,v.l0.rowWithGap(4),v.l0.color.foregroundDefault,v.l0.p(8),v.l0.align.center,v.gU.listItem]),linkText:(0,jn.iv)(v.l0.flex.shrink(1))},ni=(0,jn.iv)([v.l0.reset,v.l0.p(8),v.l0.width("100%"),v.l0.cursor.pointer,v.l0.justify.spaceBetween,v.l0.flex.row,v.l0.align.center,{borderTop:"1px solid ".concat(v.TV.outlineDimmer),backgroundColor:"transparent"}]);function ti(){var e=(0,Xr.Fg)(),n=e.isDarkColorScheme,t=e.isSaving,r=e.setActiveTheme;return t?(0,a.BX)(v.G7,{tag:"button",disabled:!0,css:ni,children:[(0,a.tZ)(v.xv,{children:"Saving..."}),(0,a.tZ)(ce.Z,{size:16})]}):n?(0,a.BX)(v.G7,{tag:"button",onClick:function(){r("replitLight")},css:ni,children:[(0,a.tZ)(v.xv,{children:"Light Theme"}),(0,a.tZ)(jr.Z,{size:16})]}):(0,a.BX)(v.G7,{tag:"button",onClick:function(){r("replitDark")},css:ni,children:[(0,a.tZ)(v.xv,{children:"Dark Theme"}),(0,a.tZ)(Wr.Z,{size:16})]})}function ri(){var e=(0,Fr.Z)(tr.y.GlobalNavButton),n=function(e){var n=(0,k.Z)({},Kr,e);return P.a(Jr,n)}().data,t=(0,Nr.N)({currentUser:(null===n||void 0===n?void 0:n.currentUser)||void 0}),r=(0,l.useState)(!1),i=r[0],o=r[1],c=(0,l.useState)(null),u=c[0],s=c[1];return(0,a.BX)(a.HY,{children:[(0,a.BX)(K.Z,{isOpen:i,onClickOutside:function(){return o(!1)},gap:4,padding:0,placement:"bottom-start",children:[(0,a.BX)("button",{ref:e,onClick:function(){return o(!i)},css:ei.button,"data-cy":"global-nav-dropdown-btn",children:[(0,a.tZ)(Lr.N2,{color:v.TV.foregroundDefault,size:20}),(0,a.tZ)(rr.Z,{color:v.TV.foregroundDimmest,size:12})]}),(0,a.BX)(v.Tg,{elevated:!0,css:ei.surface,children:[(0,a.BX)(v.G7,{css:ei.ctas,children:[(0,a.tZ)(v.zx,{"data-cy":"global-nav-dropdown-new-repl-btn",text:"Create",iconLeft:(0,a.tZ)(Ne.Z,{}),colorway:"primary",onClick:function(){o(!1),s("create")}}),(0,a.tZ)(v.zx,{text:"Power Up",iconLeft:(0,a.tZ)(zr.Z,{}),outlined:!0,onClick:function(){o(!1),s("upgrade")}})]}),(0,a.tZ)(v.G7,{css:ei.items,children:t.map((function(e){return(0,a.tZ)(Vr(),{passHref:!0,as:e.as,href:e.href,prefetch:!1,children:(0,a.BX)("a",{css:ei.link,children:[e.icon,(0,a.tZ)(v.xv,{css:ei.linkText,children:e.label}),e.tag||null]})},e.label)}))}),(0,a.tZ)(ti,{})]})]}),(0,a.tZ)(Mr.Z,{isOpen:"upgrade"===u,onRequestClose:function(){return s(null)},context:"workspace_menu_nav"}),(0,a.tZ)(v.u_,{isOpen:"create"===u,onRequestClose:function(){return s(null)},children:(0,a.tZ)(Or.Z,{})})]})}var ii=t(30052);function oi(){var e=(0,Ur.Iv)(),n=(0,Ur.W8)(),t=(0,Fr.Z)(tr.y.SidebarButton),r=(n?"Close":"Open")+" sidebar";return(0,a.tZ)(v.u,{tooltip:r,placement:"right",children:(0,a.tZ)(v.G7,{tag:"button",alt:r,innerRef:t,css:[v.l0.reset.button,v.l0.height(16),v.l0.width(16),v.l0.center,v.l0.cursor.pointer,{opacity:.75,transition:"opacity 0.1s","&:hover":{opacity:1}}],onClick:function(){return e()},children:(0,a.BX)(v.G7,{css:[v.l0.flex.row,v.l0.align.center,{height:14,width:16,border:"1px solid ".concat(v.TV.foregroundDefault),borderRadius:v.TV.borderRadius2}],children:[(0,a.tZ)(v.G7,{css:{height:"100%",width:n?"40%":"20%",backgroundColor:n?v.TV.foregroundDefault:"transparent",borderRight:"1px solid ".concat(v.TV.foregroundDefault),transition:"0.1s ease-out width, 0.1s background-color"}}),(0,a.tZ)(v.G7,{})]})})})}function ai(){return(0,a.tZ)(jn.xB,{styles:[{".toggle":{display:"none"}}]})}function li(e){var n=e.repl,t=e.currentUser;return(0,a.BX)(v.G7,{css:[v.l0.rowWithGap(8),v.l0.align.center,v.l0.justify.start,v.l0.width("calc(50% - ".concat((J.al.small+8)/2,"px)")),(0,gn.Z)({},(0,_r.et)("tabletMax"),[v.l0.width("calc(50% - ".concat((J.al.large+8)/2,"px)"))])],children:[(0,a.tZ)(oi,{}),(0,a.tZ)(ai,{}),(0,a.tZ)(ri,{}),(0,a.tZ)(v.G7,{css:[v.l0.flex.shrink(1),v.l0.maxWidth(530),v.l0.align.center,{"& > span":[v.l0.viewStyle,v.l0.flex.shrink(1)]}],children:(0,a.tZ)(Pr,{repl:n})}),(0,a.tZ)(si,{}),(null===t||void 0===t?void 0:t.isFirewallMode)?(0,a.tZ)(Dr.Z,{isWorkspace:!0}):null]})}var ci=(0,jn.F4)("0%,100%{opacity:1;}50%{opacity:0.25;}"),ui={root:(0,jn.iv)([v.l0.height(20),v.l0.width(20),v.l0.center]),pulse:(0,jn.iv)({animation:"".concat(ci," 2s infinite")})};function si(){var e=(0,Ar.Z)(),n=e.isSaving;return e.isOffline?(0,a.tZ)(v.u,{tooltip:"Reconnecting, changes will be synced when you\u2019re online",placement:"right",children:(0,a.tZ)(v.G7,{css:ui.root,children:(0,a.tZ)(Br.Z,{size:16,color:v.TV.redDefault})})}):n?(0,a.tZ)(v.u,{tooltip:"Saving",placement:"right",children:(0,a.tZ)(v.G7,{css:[ui.root,ui.pulse],children:(0,a.tZ)(Gr.Z,{size:16,color:v.TV.foregroundDimmest})})}):(0,a.tZ)(v.u,{tooltip:"Saved",placement:"right",children:(0,a.tZ)(v.G7,{css:ui.root,children:(0,a.tZ)(ii.Z,{size:16,color:v.TV.foregroundDimmest})})})}var di=t(61193),pi=t(82447),fi=function(e){return function(){(0,E.j)(E.U3.SIDEBAR_LAYOUT_NAV_CLICK,{target:e})}},hi={button:(0,jn.iv)([v.l0.py(4),v.l0.viewStyle,v.l0.reset.button,v.l0.rowWithGap(2),v.l0.align.center,v.l0.color.foregroundDefault,v.l0.cursor.pointer,{":hover svg":{fill:v.TV.foregroundDefault}}]),surface:(0,jn.iv)([v.l0.borderRadius(8),v.l0.minWidth(80),{"& > a:first-of-type":v.l0.borderRadius(8,8,0,0)},{"& > a:last-of-type":v.l0.borderRadius(0,0,8,8)}]),link:(0,jn.iv)([v.l0.viewStyle,v.l0.color.foregroundDefault,v.l0.p(8),v.gU.listItem])};function vi(){var e=(0,Fr.Z)(tr.y.AvatarButton),n=function(e){var n=(0,k.Z)({},U,e);return P.a(B,n)}().data,t=(0,l.useState)(!1),r=t[0],i=t[1],o=null===n||void 0===n?void 0:n.currentUser,c=o?(0,pi.Ru)(o):null,u=c?[{label:"Profile",trackingLabel:"Profile",as:c.as,href:c.href},{label:"Account",trackingLabel:"Account",dataCy:"avatar-dropdown-account-link",as:"/account",href:"/account"},{trackingLabel:"CLUI",label:"CLUI",as:"/~/cli",href:"/~/cli"},{trackingLabel:"Log out",label:"Log out",href:"/logout"}]:[];return(0,a.BX)(K.Z,{isOpen:r,onClickOutside:function(){return i(!1)},gap:4,padding:0,placement:"bottom-start",children:[(0,a.BX)("button",{ref:e,onClick:function(){i(!r)},css:hi.button,children:[(0,a.tZ)(v.qE,{size:24,src:(null===o||void 0===o?void 0:o.image)||null,username:(null===o||void 0===o?void 0:o.username)||""}),(0,a.tZ)(rr.Z,{color:v.TV.foregroundDimmest,size:12})]}),(0,a.tZ)(v.Tg,{elevated:!0,css:hi.surface,children:u.map((function(e){return(0,a.tZ)(Vr(),{passHref:!0,as:e.as,href:e.href,prefetch:!1,children:(0,a.tZ)("a",{onClick:function(){fi(e.trackingLabel)},onKeyDown:function(){fi(e.trackingLabel)},css:hi.link,children:e.label})},e.label)}))})]})}var mi=t(97776),gi=t(87653),Zi=t(98099),yi=function(e){var n=(0,Zi.Z)(e,{onReceiveAnnotationUpdate:function(){}}).generalThread;return(0,l.useMemo)((function(){return n?n.messages.filter((function(e){return!1===e.seen})).length:0}),[n])},bi=t(75026),wi={container:(0,jn.iv)([v.l0.position.relative])};var xi=function(){var e=(0,me.Z)(),n=yi(e),t=(0,c.b9)(kt.rl);return(0,a.BX)(v.G7,{css:wi.container,children:[n>0?(0,a.tZ)(et,{}):null,(0,a.tZ)(v.zx,{text:"Chat",iconLeft:(0,a.tZ)(bi.Z,{}),onClick:function(){t()}})]})},Ri=[C.Sy.Submit,C.Sy.Resubmit,C.Sy.UpdateModelSolution,C.Sy.PublishTemplate,C.Sy.EditTemplate,C.Sy.ReviewSubmission],Ti={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"M"},Ei={root:(0,jn.iv)([v.l0.height(60),v.l0.width("100%"),v.l0.top(0),v.l0.left(0),v.l0.flex.row,v.l0.align.center,v.l0.justify.spaceBetween,v.l0.py(8),v.l0.px(12),v.l0.position.absolute]),center:(0,jn.iv)([v.l0.position.absolute,v.l0.height(42),v.l0.justify.center,{transform:"translate(-50%, -50%)",left:"50%",top:"50%"}]),configButton:(0,jn.iv)([v.l0.position.absolute,v.l0.right(-29),v.l0.top(8)]),right:(0,jn.iv)([v.l0.rowWithGap(8),v.l0.align.center,v.l0.justify.end])};function Ci(e){var n,t,r,o,s=(0,u.useRouter)(),d=(0,Q.Z)().runner,p=(0,me.Z)(),f=(0,i.Z)(l.useState(!1),2),h=f[0],m=f[1],g=(0,er.e)(tr.y.Run),Z=(0,er.e)(tr.y.Share),y=(0,Fr.Z)(tr.y.NotificationsButton),b=(0,i.Z)(l.useState(!1),2),w=b[0],x=b[1],R=function(e){var n=(0,k.Z)({},H,e);return P.a(Y,n)}({variables:{id:p}}).data,T=(0,c.b9)(hn),C=Ze(),I=(0,c.b9)(Ln),S=(0,di.c)("flag-run-button-editor"),D=S.enabled,_=S.loading,U="Repl"===(null===R||void 0===R?void 0:R.repl.__typename)?R.repl:null,A=(null===U||void 0===U?void 0:U.multiplayers)&&U.multiplayers.length>0,B=(0,l.useRef)(null),G=(0,l.useRef)(null),N=(0,l.useRef)(h&&(null===Z||void 0===Z?void 0:Z.isActive));(0,l.useEffect)((function(){N.current&&!(null===Z||void 0===Z?void 0:Z.isActive)&&m(!1),N.current=h&&(null===Z||void 0===Z?void 0:Z.isActive)}),[Z,h]),(0,l.useEffect)((function(){(null===Z||void 0===Z?void 0:Z.isActive)&&(h&&G.current?null===Z||void 0===Z||Z.delegateTooltip(G.current):Z.delegateTooltip(B.current))}),[Z,h,G]);var O="Team"===(null===U||void 0===U||null===(n=U.owner)||void 0===n?void 0:n.__typename),M=Boolean("Team"===(null===U||void 0===U||null===(t=U.owner)||void 0===t?void 0:t.__typename)&&(null===(r=null===U||void 0===U?void 0:U.owner.capabilities)||void 0===r?void 0:r.isEducationPlan)),L=Ri.find((function(e){return e===(null===U||void 0===U?void 0:U.workspaceCta)})),X=!M&&(null===U||void 0===U?void 0:U.currentUserPermissions.editMultiplayers);return(0,nr.x)(Ti,{enabled:!M,run:function(){m(!0)}}),Yt({match:Jt.pl,data:{type:"action",label:"Multiplayer",icon:(0,a.tZ)(Qt.Z,{}),description:"Open multiplayer mode",run:function(){m(!0)},keyboardShortcut:Ti}},{enabled:!M}),(0,a.BX)(v.Tg,{tag:"header",css:Ei.root,children:[(0,a.tZ)(li,{repl:e.repl,currentUser:e.currentUser}),(0,a.tZ)(v.G7,{innerRef:null===g||void 0===g?void 0:g.delegateTooltip,dataCy:"ws-run-btn",onClick:function(){(null===g||void 0===g?void 0:g.isActive)&&g.next()},css:Ei.center,children:!_&&D?(0,a.BX)(a.HY,{children:[(0,a.BX)(K.Z,{onClickOutside:function(){return x(!1)},isOpen:w,padding:8,children:[(0,a.tZ)(J.ZP,{runner:d,disableTooltip:null===g||void 0===g?void 0:g.isActive}),(0,a.tZ)(cr,{hideModal:function(){return x(!1)}})]}),(0,a.tZ)(v.G7,{css:Ei.configButton,children:(0,a.tZ)(v.hU,{alt:"Configure Repl run",size:28,onClick:function(){x((function(e){return!e}))},css:[v.l0.color.foregroundDimmest],children:(0,a.tZ)(rr.Z,{})})})]}):(0,a.tZ)(J.ZP,{runner:d,disableTooltip:null===g||void 0===g?void 0:g.isActive})}),(0,a.BX)(v.G7,{css:Ei.right,children:[(null===U||void 0===U?void 0:U.lesson)?(0,a.tZ)(Cr,{lesson:U.lesson}):null,A?(0,a.tZ)(xi,{}):null,(0,a.tZ)(Ce,{onAvatarClick:C}),L?(0,a.tZ)(Nn,{cta:L,replId:p,isGroupProject:Boolean(null===U||void 0===U||null===(o=U.template)||void 0===o?void 0:o.isGroupProject),openIOtesterPane:function(){T({pane:{type:"autograder"}})}}):null,X?(0,a.tZ)(v.G7,{innerRef:B,children:(0,a.tZ)(Je,{showPopover:U.currentUserPermissions.inviteGuests,children:(0,a.tZ)(v.zx,{onClick:function(){(0,E.j)(E.U3.INVITE_MODAL_OPENED,{language:U.lang.id,replId:U.id,source:"replEnvironment"}),m(!0)},iconLeft:(0,a.tZ)($.Z,{}),text:"Invite"})})}):null,(0,a.tZ)(v.hU,{size:24,onClick:function(){I()},tooltipDelay:500,alt:"Search & run commands",tooltipContents:(0,a.BX)(v.G7,{children:[(0,a.tZ)(v.xv,{children:"Search & run commands"}),(0,a.tZ)(v.G7,{css:[v.l0.center,v.l0.pt(4)],children:(0,a.tZ)(at.Z,{shortcut:On.q})})]}),tooltipPlacement:"bottom-end",children:(0,a.tZ)(gi.Z,{})}),(0,a.BX)(a.HY,{children:[(0,a.tZ)(v.G7,{innerRef:y,children:(0,a.tZ)(mi.Z,{sidebarIsOpen:!0,pathname:s.pathname,showCount:!1})}),(0,a.tZ)(vi,{})]})]}),(0,a.tZ)(ke.Z,{isOpen:h,onRequestClose:function(){return m(!1)},children:(0,a.tZ)(v.G7,{innerRef:G,children:O?(0,a.tZ)($e,{replId:p}):(0,a.tZ)(nn,{replId:p})})})]})}var ki=(0,l.memo)(Ci),Ii=t(92876),Si=t(25109),Pi=t(65036),Di=t(14994),_i=t(53800),Ui=t(91550),Ai=t(91296),Bi=t.n(Ai),Gi=t(46806),Ni=t(63736);function Oi(e){var n=e.path,t=e.line;return(0,a.BX)(v.G7,{css:[v.l0.colWithGap(4),v.l0.align.start,v.l0.flex.growAndShrink(1),v.l0.py(4)],children:[(0,a.BX)(v.Tg,{elevated:!0,css:[v.l0.rowWithGap(4),v.l0.borderRadius(8),v.l0.p(2)],children:[(0,a.tZ)(Ni.Z,{path:n,size:12}),(0,a.BX)(v.xv,{variant:"small",children:[n,":",t.lineNumber]})]}),(0,a.tZ)(Xe.xK,{source:t.content,matches:t.matches})]})}function Mi(){return(0,a.BX)(v.G7,{css:[v.l0.rowWithGap(8)],children:[(0,a.tZ)(bt.Z,{}),(0,a.tZ)(v.xv,{color:"dimmest",children:"Something went wrong searching your Repl's contents. Please try again."})]})}function Li(){return(0,a.BX)(v.G7,{css:[v.l0.rowWithGap(8)],children:[(0,a.tZ)(bt.Z,{}),(0,a.tZ)(v.xv,{color:"dimmest",children:"Displaying only part of the results, try being more specific with your search."})]})}function Xi(){return(0,a.tZ)(v.G7,{children:(0,a.tZ)(v.xv,{color:"dimmest",children:"Nothing came up searching your Repl's content."})})}var Fi={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"F"};function zi(e){var n,t=Bi()((function(e,n,t){(0,Gi.C)(e).then(n).catch(t)}),200);return(0,Jt.fA)({type:"context",description:"Search through your files",label:"Search",icon:(0,a.tZ)(gi.Z,{}),keyboardShortcut:Fi},{match:(0,Jt.zf)({defaultScore:2}),commands:function(){var l=(0,r.Z)((function(r){var l,c,u,s,d,p,f,h,m,g,Z,y;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return r.search?!r.active&&e.activeOnly?[2,[]]:(l=Math.random(),n=l,[4,new Promise((function(n,i){t({query:r.search,container:e.container},n,i)}))]):[2,[]];case 1:if(c=o.sent(),u=c.results,s=c.error,d=c.isPartialResult,l!==n)return[2,[]];if(null!==s)return r.active?[2,[{data:{type:"error",label:"error",icon:(0,a.tZ)(bt.Z,{})},match:function(){return{score:1,render:{content:(0,a.tZ)(Mi,{})}}}}]]:[2,[]];p=[],f=!0,h=!1,m=void 0;try{for(g=function(){var e=(0,i.Z)(y.value,2),n=e[0];e[1].forEach((function(e){var t=e.matches[0].column;p.push((0,Jt.fA)({type:"openFile",label:n,icon:(0,a.tZ)(Ni.Z,{path:n}),deeplink:{path:n,line:e.lineNumber,col:t}},{match:function(){var i=Fe.Z.match(r.search,e.content);return{score:(null===i||void 0===i?void 0:i.score)||1,render:{content:(0,a.tZ)(Oi,{path:n,line:e})},key:[n,e.lineNumber,t].join(":")}}}))}))},Z=Object.entries(u)[Symbol.iterator]();!(f=(y=Z.next()).done);f=!0)g()}catch(b){h=!0,m=b}finally{try{f||null==Z.return||Z.return()}finally{if(h)throw m}}if(0===p.length&&r.active)return[2,[{data:{type:"output",label:"",icon:(0,a.tZ)(v.G7,{})},match:function(){return{score:1,render:{content:(0,a.tZ)(Xi,{})}}}}]];if(r.active){if(0===p.length)return[2,[{data:{type:"output",label:"",icon:(0,a.tZ)(v.G7,{})},match:function(){return{score:1,render:{content:(0,a.tZ)(Xi,{})}}}}]];d&&p.push({data:{type:"error",label:"error",icon:(0,a.tZ)(bt.Z,{})},match:function(){return{score:1/0,render:{content:(0,a.tZ)(Li,{})}}}})}return[2,p]}}))}));return function(e){return l.apply(this,arguments)}}()})}var Wi=t(42456),ji=t(57353),Hi=t(18374),Vi=t(63035),qi=t(20590),Yi=t(54420);function $i(){var e=(0,Q.Z)().fs,n=(0,l.useState)({isLoading:!0,isTutorial:!1}),t=n[0],r=n[1];return(0,l.useEffect)((function(){e.watchDir(".",{onChange:function(e){r({isLoading:!1,isTutorial:e.some((function(e){return e.type===Tn.Tv.Directory&&e.filename===Yi.V}))})},onMoveOrDelete:function(){r({isLoading:!1,isTutorial:!1})},onError:function(){r({isLoading:!1,isTutorial:!1})}})}),[e]),t}var Ki=t(40705),Qi=t(25497);var Ji=t(69128);function eo(){var e=(0,I.Z)(["\n  query ReplEnvironmentEduPaneEnabled($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isModelSolution\n        isProject\n        isProjectFork\n        owner {\n          __typename\n          ... on Team {\n            id\n            isAdmin\n          }\n          ... on User {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return eo=function(){return e},e}var no={},to=(0,S.Ps)(eo());var ro=(0,c.cn)((function(e){return e(cn.Eh).find((function(n){return"education"===e(n.data).type}))||null})),io=(0,c.cn)(null,(function(e,n){var t=e(ro);(null===t||void 0===t?void 0:t.isHidden)?n(kt.Oe,t.paneId):t||n(Rt.g2,{panes:[{type:"education"}],placement:"rightOf",percent:20,relativeTo:["tiling"],makeActive:!0})}));function oo(){var e,n=function(e){var n=(0,k.Z)({},no,e);return P.a(to,n)}({variables:{replId:(0,me.Z)()}}).data,t="Repl"===(null===n||void 0===n||null===(e=n.repl)||void 0===e?void 0:e.__typename)?null===n||void 0===n?void 0:n.repl:null;if(!t)return!1;var r=t.owner;return!!r&&(t.isProjectFork&&!t.isModelSolution&&"Team"===r.__typename&&r.isAdmin)}function ao(){var e=(0,I.Z)(["\n  fragment ReplEnvironmentToolPanesRepl on Repl {\n    isProjectFork\n    isModelSolution\n    isProject\n    isProjectFork\n    owner {\n      __typename\n      ... on Team {\n        id\n        isAdmin\n      }\n      ... on User {\n        id\n      }\n    }\n    currentUserPermissions {\n      containerWrite\n    }\n    lang {\n      id\n      key\n      engine\n      supportsGit\n      hasLibSearch\n      supportsPackager3\n      hasDAP\n    }\n    config {\n      isServer\n      isVnc\n    }\n  }\n"]);return ao=function(){return e},e}function lo(){var e=(0,I.Z)(["\n  query ReplEnvironmentToolPanes($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        ...ReplEnvironmentToolPanesRepl\n      }\n    }\n    currentUser {\n      id\n      isAdmin: hasRole(role: ADMIN)\n    }\n  }\n  ","\n"]);return lo=function(){return e},e}var co={},uo=(0,S.Ps)(ao()),so=(0,S.Ps)(lo(),uo);var po=t(23384);function fo(){var e,n=function(e){var n=(0,k.Z)({},co,e);return P.a(so,n)}({variables:{replId:(0,me.Z)()}}).data,t="Repl"===(null===n||void 0===n||null===(e=n.repl)||void 0===e?void 0:e.__typename)?null===n||void 0===n?void 0:n.repl:null;return t?{repl:t,currentUser:(null===n||void 0===n?void 0:n.currentUser)||null}:{repl:null,currentUser:null}}var ho=["education","tutorial","instructions","docs","chat","threadInbox","packager","git","debugger","shell","runnerOutput","envEditor","webview","vnc","database","neon","replAuth","markdown","autograder","unitTests","preferences","adminPanel","deployments","sshConfigurator"];function vo(){var e=fo(),n=e.repl,t=e.currentUser,r=(0,u.useRouter)(),o=Boolean(null===n||void 0===n?void 0:n.config.isServer),a=Boolean(null===n||void 0===n?void 0:n.config.isVnc),s=Boolean(null===n||void 0===n?void 0:n.lang.supportsGit),d=(0,qi.Ln)(),p=$i().isTutorial,f=Boolean(n&&!(null===n||void 0===n?void 0:n.lang.key.startsWith("html"))),h=(0,Ki.x)(),v=Boolean(null===h||void 0===h?void 0:h.packageSearch),m=function(){var e=(0,Q.Z)().dotReplit,n=(0,l.useState)(!1),t=n[0],r=n[1];return(0,l.useEffect)((function(){return e.watch((function(e){var n,t;e.error?e.error===Qi.Yt.NotFound&&r(!1):r(Boolean(null===e||void 0===e||null===(n=e.config)||void 0===n||null===(t=n.debugger)||void 0===t?void 0:t.support))}))})),t}(),g=m||Boolean(null===n||void 0===n?void 0:n.lang.hasDAP),Z=Boolean(n&&!(null===n||void 0===n?void 0:n.lang.key.startsWith("html"))),y=(0,po.D)({controlName:"flag-neon-databases"}),b=Boolean((null===n||void 0===n?void 0:n.isProject)||(null===n||void 0===n?void 0:n.isProjectFork)),w=(0,Ji.Z)().language,x=!b&&null!==w,R=oo(),T=(null===t||void 0===t?void 0:t.isAdmin)||Boolean(r.query.debug),E=(0,po.D)({controlName:"flag-deployments"}),C=(0,po.D)({controlName:"flag-repl-auth-sidebar"}),k=Boolean(C&&h),I=(0,po.D)({controlName:"flag-series-of-tubes"}),S=Boolean(n&&!(null===n||void 0===n?void 0:n.lang.key.startsWith("html"))&&I);return(0,Yn.Z)((function(){return(0,c.cn)((function(e){var n=e(Vi.gM),t=[],r=[[{type:"shell"},!0],[{type:"instructions"},d],[{type:"markdown",data:{path:""}},!0],[{type:"threadInbox"},!0],[{type:"chat"},!0],[{type:"docs"},!0],[{type:"webview"},o],[{type:"vnc"},a],[{type:"runnerOutput"},!n]];r.push([{type:"git"},s],[{type:"packager"},v],[{type:"envEditor"},f],[{type:"debugger"},g],[{type:"tutorial"},p],[{type:"database"},Z],[{type:"neon"},y],[{type:"replAuth"},k],[{type:"autograder"},b],[{type:"unitTests"},x],[{type:"education"},Boolean(R)],[{type:"preferences"},!0],[{type:"adminPanel"},T],[{type:"deployments"},E],[{type:"sshConfigurator"},S]);var l=!0,c=!1,u=void 0;try{for(var h,m=r[Symbol.iterator]();!(l=(h=m.next()).done);l=!0){var w=(0,i.Z)(h.value,2),C=w[0];w[1]&&t.push(C)}}catch(I){c=!0,u=I}finally{try{l||null==m.return||m.return()}finally{if(c)throw u}}return function(e){return e.sort((function(e,n){return ho.indexOf(e.type)-ho.indexOf(n.type)}))}(t)}))}),[o,T,a,d,s,v,f,g,R,x,b,k,Z,y,p,E,S])}function mo(){return(0,c.Dv)(vo())}var go=function(e,n,t){return{match:t||Jt.pl,data:{type:"openPane",pane:e,label:n.getTitle(e),icon:n.Icon({pane:e})}}};function Zo(){var e=(0,_i.Se)();return(0,Yn.Z)((function(){return(0,c.cn)((function(n){var t=n(ln.EP);return{data:{type:"context",label:"Recent",icon:(0,a.tZ)(Di.Z,{})},commands:function(n){var r=n.search;return t.map((function(n){var t=(0,It.Dp)({path:n});return go({type:t,data:{path:n}},e,(function(e){return r?(0,Jt.pl)(e):{score:10}}))}))}}}))}),[e])}function yo(){var e=(0,_i.Se)(),n=mo();return(0,Yn.Z)((function(){return(0,c.cn)((function(t){var r=t(cn.Eh).map((function(e){return t(e.data).type})),i=[],o=!0,a=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var s=c.value;(0,It.b)(s.type)&&r.includes(s.type)||i.push(go(s,e))}}catch(d){a=!0,l=d}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}return i}))}),[n,e])}var bo={type:"context",icon:(0,a.tZ)(ft.Z,{}),label:"",description:"Search for tools and files"};function wo(e){var n=e.paneId,t=(0,Q.Z)(),r=t.fs,i=t.container,o=yo(),l=Zo(),u=(0,Wi.A)(),s=(0,ji.T)(),d=function(e){var n=e.paneId,t=(0,sn.D)();return(0,Yn.Z)((function(){return function(e){var r=e.path,i={type:(0,It.Dp)({path:r}),data:{path:r}};t({paneId:n,data:i,makeActive:!0})}}),[n,t])}({paneId:n}),p=(0,Yn.Z)((function(){return(0,c.cn)((function(e){var n=e(o),t=e(l),c={data:{type:"context",label:"Search",icon:(0,a.tZ)(Hi.Z,{})},commands:function(){return[(0,Ui.i)({openFile:d,fs:r,shouldHideFile:s,getRecentFiles:u}),zi({container:i})]}},p={data:{type:"context",label:"Tools",icon:(0,a.tZ)(Hi.Z,{})},commands:function(){return(0,Ie.Z)(n)}};return{data:bo,commands:function(){return[t,c,p]}}}))}),[i,r,u,o,s,l,d]);return(0,c.Dv)(p)}var xo=t(8941);function Ro(e,n){var t=0,r=[];return n.forEach((function(n){var i=n.from,o=n.to,a=e.slice(t,i);a&&r.push({text:a,match:!1});var l=e.slice(i,o);l&&r.push({text:l,match:!0}),t=o})),t<e.length&&r.push({text:e.slice(t),match:!1}),r}var To=(0,jn.iv)({transitionProperty:"color",transitionDuration:te.H.duration,transitionTimingFunction:te.H.timingFunction}),Eo=(0,jn.iv)([v.l0.flex.shrink(1),v.l0.truncate,To]),Co={normal:{matched:v.TV.foregroundDefault,unmatched:v.TV.foregroundDimmer},dimmed:{matched:v.TV.foregroundDimmer,unmatched:v.TV.foregroundDimmest}};function ko(e){var n,t=null===(n=e.highlight)||void 0===n?void 0:n.filter((function(e){return e.to>0})),r=e.dimmed?Co.dimmed:Co.normal;return(null===t||void 0===t?void 0:t.length)?(0,a.tZ)(v.G7,{css:Eo,children:Ro(e.text,t).map((function(e,n){return(0,a.tZ)("span",{css:To,style:{fontWeight:e.match?v.TV.fontWeightBold:v.TV.fontWeightRegular,color:e.match?r.matched:r.unmatched},children:e.text},e.text+n)}))}):(0,a.tZ)(v.G7,{style:{color:r.matched},css:[Eo,To],children:e.text})}var Io=(0,jn.iv)({transitionDuration:te.H.duration,transitionTimingFunction:te.H.timingFunction}),So={background:(0,jn.iv)([Io,{transitionProperty:"background-color"}]),opacity:(0,jn.iv)([Io,{transitionProperty:"opacity"}]),color:(0,jn.iv)([Io,{transitionProperty:"color"}])},Po={root:(0,jn.iv)([v.l0.p(8),So.background,v.l0.align.center,v.l0.rowWithGap(8)]),iconSurface:(0,jn.iv)([v.l0.p(8),v.l0.borderRadius(8),v.l0.position.relative,So.background])},Do={root:(0,jn.iv)([So.opacity,{opacity:.7}]),active:(0,jn.iv)({opacity:1})};function _o(e){var n=e.pane,t=e.active,r=e.highlight,i=(0,_i.Se)(),o=i.Icon({pane:n,size:16}),l=i.getTitle(n),c=Qn({paneType:n.type});return(0,a.BX)(v.Tg,{elevated:t,css:Po.root,children:[(0,a.tZ)(v.Tg,{elevated:!0,css:Po.iconSurface,children:(0,a.BX)(v.G7,{css:[Do.root,e.active&&Do.active],children:[o,c?(0,a.tZ)(et,{}):null]})}),(0,a.tZ)(ko,{dimmed:!t,text:l,highlight:r})]})}var Uo=(0,jn.iv)([v.l0.p(8),So.background]);function Ao(e){return(0,a.tZ)(v.Tg,{elevated:e.active,css:Uo,children:e.children})}var Bo=(0,jn.iv)([Uo,v.l0.flex.row]);function Go(e){var n=e.icon,t=e.text,r=e.active,i=e.highlight;return(0,a.tZ)(v.Tg,{elevated:e.active,css:Bo,children:(0,a.tZ)(rt,{icon:n,label:t,active:r,highlightRanges:i})})}var No={root:(0,jn.iv)([v.l0.px(8),v.l0.pb(2),v.l0.rowWithGap(4),v.l0.align.center,{marginTop:8}]),text:(0,jn.iv)([v.l0.flex.shrink(1)])};function Oo(e){var n=e.path.slice(e.currentPathIndex+1).filter((function(e){return e.data.label}));if(!n.length)return null;var t=(0,Ie.Z)(new Set(n.map((function(e){return e.data.label}))));return(0,a.tZ)(v.G7,{css:No.root,children:t.map((function(e,n){return(0,a.BX)(l.Fragment,{children:[n>0?(0,a.tZ)(xo.Z,{size:12,color:v.TV.foregroundDimmest}):null,(0,a.tZ)(v.xv,{variant:"small",color:"dimmest",css:No.text,children:e})]},e+n)}))})}var Mo=v.KD.div,Lo={root:(0,jn.iv)([v.l0.flex.shrink(1),v.l0.overflow("auto"),{"& > div:first-of-type":{marginTop:0}}]),item:(0,jn.iv)({cursor:"pointer"})};function Xo(e){return(0,a.tZ)(Mo,(0,re.Z)((0,k.Z)({},e.getMenuProps()),{css:Lo.root,children:e.isLoading||e.items.length?e.items.map((function(n){if(n.isSection)return(0,a.tZ)(Oo,{path:n.path,currentPathIndex:e.currentPathIndex},n.path.map((function(e){return e.data.label})).join(""));var t=n.item,r=n.index,i=t.data,o=t.match.render,c=r===e.highlightedIndex,u="openPane"===i.type?i.pane:void 0,s=o&&"content"in o?o.content:void 0,d=o&&"ranges"in o?o.ranges:void 0,p=s;if(s)p=(0,a.tZ)(Ao,{active:c,children:(0,l.cloneElement)(s,{active:c})});else{var f=u&&!(0,It.KM)(u)?u:null,h=i.label,v=i.icon;p=f?(0,a.tZ)(_o,{active:c,pane:f,highlight:d}):(0,a.tZ)(Go,{active:c,icon:v,text:h,highlight:d})}return(0,a.tZ)(Mo,(0,re.Z)((0,k.Z)({css:Lo.item},e.getItemProps({item:t,index:r})),{children:p}),(0,Vn.k)(t))})):null}))}var Fo=(0,l.memo)(Xo),zo=v.KD.div,Wo={container:(0,jn.iv)([v.l0.p(8)]),surface:(0,jn.iv)([v.gU.filled,v.l0.flex.row,v.l0.align.center,v.l0.flex.growAndShrink(1),v.l0.height(32),{"&:focus-within":v.kN[":focus"]}]),input:(0,jn.iv)([v.l0.viewStyle,v.l0.flex.growAndShrink(1),v.l0.fontSize("default"),v.l0.height("100%"),v.l0.px(4),{backgroundColor:"transparent",border:"0 none",outline:"0 none","::placeholder":{color:v.TV.foregroundDimmest},"&:hover::placeholder":{color:v.TV.foregroundDimmer},"&:focus::placeholder, &:hover:focus::placeholder":{color:v.TV.foregroundDimmest}}]),blockButton:(0,jn.iv)([v.l0.reset.button,v.l0.viewStyle,v.l0.rowWithGap(4),v.l0.align.center,v.l0.borderRadius(0),v.l0.height(32),v.l0.px(4),v.l0.cursor.pointer,v.l0.color.foregroundDimmer,{"&:hover":{color:v.TV.foregroundDefault}}]),closeButton:(0,jn.iv)([v.l0.reset.button,v.l0.viewStyle,v.l0.center,v.l0.height(32),v.l0.px(4),v.l0.cursor.pointer,v.l0.color.foregroundDimmest,{"&:hover":{color:v.TV.foregroundDefault}}])};function jo(e){var n=wo({paneId:e.paneId}),t=(0,Vn.Z)({isOpen:!0,onSelect:e.onSelect,initialCommand:n,insertSectionHeaders:!0}),r=t.combobox,i=t.inputRef;return(0,l.useEffect)((function(){var n;e.autoFocus&&(e.isHidden||null===(n=i.current)||void 0===n||n.focus())}),[e.autoFocus,e.isHidden,i]),(0,a.BX)(v.G7,{css:[v.l0.flex.growAndShrink(1)],children:[(0,a.tZ)(zo,(0,re.Z)((0,k.Z)({css:Wo.container},r.getComboboxProps()),{children:(0,a.BX)(v.G7,{css:Wo.surface,children:[t.path.map((function(e,n){var r=e.data;if(n<=1)return null;var o=r.label,c=r.icon,u=o+n;return(0,a.BX)("button",{css:Wo.blockButton,onClick:function(){var e;t.resetToIndex({index:n,focus:!0}),null===(e=i.current)||void 0===e||e.select()},children:[(0,l.cloneElement)(c,{size:16}),(0,a.tZ)(v.xv,{children:o}),(0,a.tZ)(xo.Z,{size:12})]},u)})),(0,a.tZ)("input",(0,k.Z)({css:Wo.input,style:t.path.length>1?{paddingLeft:0}:void 0},t.combobox.getInputProps({value:t.inputValue,ref:t.inputRef,onChange:function(e){return t.setInputValue(e.currentTarget.value)},onKeyDown:function(e){"ArrowLeft"!==e.key&&"ArrowRight"!==e.key?"Backspace"!==e.key||e.currentTarget.value?"Escape"===e.key&&e.currentTarget.blur():t.resetToIndex({index:0}):t.handleLeftRightArrow(e.key)},placeholder:t.placeholder}))),t.inputValue||t.path.length>1?(0,a.tZ)("button",{css:Wo.closeButton,onClick:function(){t.setInputValue(""),t.resetToIndex({index:0,focus:!0})},children:(0,a.tZ)(Z.Z,{})}):null]})})),(0,a.tZ)(Fo,{items:t.itemsWithSections||[],getMenuProps:r.getMenuProps,getItemProps:r.getItemProps,highlightedIndex:r.highlightedIndex,isLoading:t.isLoading,currentPathIndex:t.path.length-1})]})}var Ho={Content:function(e){var n=e.options,t=n.openPane,r=n.isHidden,i=n.paneId,o=e.pane.data.autoFocus;return(0,a.tZ)(jo,{paneId:i,autoFocus:o,isHidden:r,onSelect:function(e){if("openFile"!==e.data.type)"openPane"!==e.data.type?"action"!==e.data.type||e.data.run():t(e.data.pane);else{var n=e.data.deeplink.path,r={type:(0,It.Dp)({path:n}),data:{path:n}};t(r)}}})},Icon:function(){return null},getTitle:function(){return"New tab"}},Vo=t(82947),qo=t(34467),Yo=t(53249),$o=t(20787),Ko=t(76832),Qo=t(47886),Jo=t(56483),ea={Content:function(e){var n=e.options,t=n.paneId,r=n.isHidden,i=(0,Q.Z)(),o=i.container,l=i.fs,u=i.session,s=i.runner,d=(0,c.b9)(kt.Oe),p=(0,c.Dv)(Ko.f),f=(0,Ko.Z)();return(0,Qo.Z)({container:o,runner:s,refreshWebView:f}),(0,Jo.Z)({runner:s,refreshWebView:f}),(0,nr.x)(Vo.b,{run:function(){d(t),f()}}),Yt({match:Jt.pl,data:{type:"action",label:"Refresh",icon:(0,a.tZ)($o.Z,{}),description:"Refresh webview",keyboardShortcut:Vo.b,run:function(){d(t),f()}}}),(0,a.tZ)(Yo.Z,{fs:l,session:u,ref:p,isVisible:!r})},Icon:function(e){var n=e.size;return(0,a.tZ)(qo.Z,{size:n})},getTitle:function(){return"Webview"}};function na(){var e=(0,Pi.U)();return(0,re.Z)((0,k.Z)({},e),{webview:ea,commands:Ho})}var ta=t(25108);var ra=t(60523),ia=t(2858),oa=t(35621);function aa(e){var n=e.children,t=l.useRef({fileMap:new Map});return(0,a.tZ)(ra.Z.Provider,{value:t,children:n})}function la(e){var n=e.ui,t=e.services,r=e.replId,i=e.replLanguage,o=e.children,l=(0,Yn.Z)((function(){return{id:r,language:i}}),[r,i]);return(0,a.tZ)(_i.kz,{value:n,children:(0,a.tZ)(aa,{children:(0,a.tZ)(ia.Z.Provider,{value:t,children:(0,a.tZ)(oa.Z.Provider,{value:l,children:o})})})})}var ca=t(88662),ua=t(93160),sa=t(13482),da=y.K.div,pa=(0,jn.iv)([v.l0.width("100%"),v.l0.position.absolute,v.l0.left(0),{cursor:"ns-resize",zIndex:1,":hover":{transform:"scaleY(4)"}}]),fa=(0,jn.iv)([v.l0.height("100%"),v.l0.position.absolute,v.l0.top(0),{cursor:"ew-resize",zIndex:1,":hover":{transform:"scaleX(4)"}}]),ha=(0,jn.iv)([v.l0.position.absolute,{zIndex:2,transform:"scale(2)",":hover":{transform:"scale(4)"}}]);function va(e){var n="topLeft"===e||"topRight"===e?"bottom":"top";return{transformOrigin:"".concat("topLeft"===e||"bottomLeft"===e?"right":"left"," ").concat(n)}}var ma={topLeft:(0,jn.iv)([v.l0.top(0),v.l0.left(0),va("topLeft")]),topRight:(0,jn.iv)([v.l0.top(0),v.l0.right(0),va("topRight")]),bottomLeft:(0,jn.iv)([v.l0.bottom(0),v.l0.left(0),va("bottomLeft")]),bottomRight:(0,jn.iv)([v.l0.bottom(0),v.l0.right(0),va("bottomRight")])};function ga(e){var n=e.edge,t=e.size,r=e.onPointerDown;if("top"===n||"bottom"===n)return(0,a.tZ)(da,{onPointerDown:r,style:(0,gn.Z)({height:t},n,-t),css:pa});if("right"===n||"left"===n)return(0,a.tZ)(da,{onPointerDown:r,style:(0,gn.Z)({width:t},n,-t),css:fa});var i="topLeft"===n||"bottomRight"===n?"nwse-resize":"nesw-resize";return(0,a.tZ)(da,{onPointerDown:r,style:{height:t,width:t,cursor:i},css:[ha,ma[n]]})}var Za=["bottom","right","left","bottomRight","bottomLeft"],ya=(0,jn.iv)([w.l0.coverContainer,w.l0.borderRadius(0,0,8,8)]),ba="--fixed-position-offset-x",wa="--fixed-position-offset-y",xa=function(e){return"var(".concat(e,")")},Ra=(0,jn.iv)({transform:"translate(".concat(xa(ba),", ").concat(xa(wa),")")}),Ta=(0,jn.iv)([w.l0.coverContainer,!sa.g&&{"& .cm-editor > .cm-tooltip":Ra,"& .cm-editor > .cm-tooltip.cm-tooltip-thread":{left:"0px !important",transform:"translateY(".concat(xa(wa),"px)")},".cm-custom-context-menu":Ra}]);function Ea(e){var n,t=e.resizable&&e.onResizeControlPointerDown?Za.map((function(n){return(0,a.tZ)(ga,{size:8,edge:n,onPointerDown:function(t){if(!e.onResizeControlPointerDown)throw new Error("Expected onResizeControlMouseDown");e.onResizeControlPointerDown(t,n)}},n)})):null,r=e.rect;return(0,a.tZ)(y.Z,{style:(n={zIndex:e.zIndex,position:"absolute",width:r.width,height:r.height,transform:"translate(".concat(Math.round(r.x),"px, ").concat(Math.round(r.y),"px)"),transition:e.animate?"transform 140ms ease-out":void 0,transitionTimingFunction:"ease-out",visibility:e.hidden?"hidden":void 0,opacity:e.hidden?0:void 0},(0,gn.Z)(n,ba,-e.viewportInset.x+"px"),(0,gn.Z)(n,wa,-e.viewportInset.y+"px"),n),css:{"&:hover":{zIndex:e.zIndexHovered}},children:(0,a.BX)(ua.Z,{onMouseDown:e.onMouseDown,onContextMenu:e.onMouseDown,elevated:!0,css:ya,className:e.className,children:[(0,a.tZ)(y.Z,{innerRef:e.innerRef,css:Ta,children:e.children}),t]})})}var Ca=t(78648),ka=(0,c.cn)(null),Ia=(0,c.cn)(null,(function(e,n,t){var r=e(ln.g4);if("end"===t.type)return n(ka,null),void n(dn.iH,r);if("update"!==t.type){var i=e(cn.Eh).find((function(e){return e.paneId===t.paneId}));if(!i){var o=new Error("Expected pane");throw n(fn.xm,{error:o,tags:{layoutstate:!0}}),o}n(pn.W1,t.paneId),n(ka,{paneId:t.paneId,edge:t.edge,rectStart:e(i.rectAtom)})}else{var a=e(ka);if(!a){var l=new Error("Expected floatingResizeState");throw n(fn.xm,{error:l,tags:{layoutstate:!0}}),l}var c=(0,Ca.XR)(a.rectStart,{delta:t.moveDelta,edge:a.edge}),u=a.paneId,s=(0,tn.ZP)(r,(function(t){var r=t.floating.find((function(e){return e.panes.includes(u)}));if(!r){var i=new Error("Expected floating");throw n(fn.xm,{error:i,tags:{layoutstate:!0}}),i}var o=e(cn.M0),a=r.rect;a.x=c.x,a.y=c.y-o,a.width=c.width,a.height=c.height+o}));n(dn.iH,s)}})),Sa=t(93096),Pa=t.n(Sa);function Da(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=e.pageX,i=e.pageY,o={x:r,y:i},a={x:0,y:0};n.start&&n.start({mouse:o,shiftKey:e.shiftKey});var l=Pa()((function(e){var t={x:e.pageX,y:e.pageY};a={x:t.x-o.x,y:t.y-o.y},n.move({delta:a,shiftKey:e.shiftKey,mouse:t})}),t),c=function(){l.cancel(),document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",c),document.removeEventListener("touchcancel",c),n.end&&n.end({delta:a,shiftKey:e.shiftKey})};document.addEventListener("pointermove",l),document.addEventListener("pointerup",c),document.addEventListener("touchcancel",c)}var _a=(0,jn.iv)([w.l0.width("100%"),w.l0.flex.growAndShrink(1),{overflow:"auto"}]);function Ua(e){return(0,a.tZ)(y.Z,{css:_a,style:{pointerEvents:e.disableInteractions?"none":void 0,userSelect:e.disableInteractions?"none":void 0},children:e.children})}var Aa=t(64718),Ba=t(92271),Ga=t(91885);function Na(e,n){var t=n.leftPath,r=n.percent,i=n.snapPercent,o=void 0===i?0:i,a=(0,Ct.KC)(e,t);if(!a||!(0,Ga.r)(a))throw new Error("Expected leftNode");var l=(0,Ga.I)(t),c=(0,Ct.KC)(e,l);if("split"!==(null===c||void 0===c?void 0:c.type))throw new Error("Expected splitNode");var u=c.children.indexOf(a);if(-1===u)throw new Error("Expected leftNodeIndex");var s=u+1,d=c.children[s];if(!d)throw new Error("Expected rightNode");if(r<=o){if(a.percent=0,r<0&&u>0)for(var p=Math.abs(r),f=u-1;p>0;){var h=c.children[f];if(h.percent>p){h.percent-=p;break}if(p-=h.percent,h.percent=0,0===f)break;f--}var v=c.children.reduce((function(e,n){return n===d?e:e+n.percent}),0);d.percent=100-v}else{var m=a.percent+d.percent,g=c.children.slice(u).reduce((function(e,n){return e+n.percent}),0);if(r>m-o){if(a.percent=Math.min(g,Math.max(m,r)),d.percent=0,r>m&&s<c.children.length-1)for(var Z=r-m,y=s+1;Z>0;){var b=c.children[y];if(b.percent>Z){b.percent-=Z;break}if(Z-=b.percent,b.percent=0,y===c.children.length-1)break;y++}}else{var w=a.percent-r;d.percent=d.percent+w,a.percent=r}}}function Oa(e){var n=e.layout,t=e.splitPath,r=e.tilingOptions,i=function(e,n){var t=n.splitPath,r=(0,Ct.KC)(e,t);if(!r||"split"!==r.type)throw new Error("Expected split node");for(var i=100,o=(0,Ga.I)(t);o.length;){var a=(0,Ct.KC)(e,o);if(!a)break;o=(0,Ga.I)(o),"split"===a.type&&a.stacked===r.stacked&&(i*=a.percent/100)}return i}(n,{splitPath:t}),o=(0,Ct.KC)(n,t);if("split"!==(null===o||void 0===o?void 0:o.type))throw new Error("Expected split node");var a=r.size,l=r.gap,c=r.headerHeight,u=r.inset,s=void 0===u?{top:0,bottom:0,left:0,right:0}:u,d=o.children.length,p=o.stacked?l*(d-1)+c*d:l*(d-1);return i/100*((o.stacked?a.height-(s.top+s.bottom):a.width-(s.left+s.right))-p)}var Ma=(0,c.cn)(null),La=(0,c.cn)(null,(function(e,n,t){if("end"!==t.type)if("update"!==t.type){var r=e(ln.g4),i=t.stacked?window.innerHeight:window.innerWidth,o=(0,Ct.KC)(r,t.leftPath);if(!o||!(0,Ga.r)(o)){var a=new Error("Expected left node");throw n(fn.xm,{error:a,tags:{layoutstate:!0}}),a}var l=(0,Ga.I)(t.leftPath),c=o.percent,u=dn.pc/i*100,s=null;try{s=Oa({splitPath:l,layout:r,tilingOptions:e(dn.Hs)})}catch(w){throw n(fn.xm,{error:w,tags:{layoutstate:!0}}),w}if(null===s)throw new Error("Expected resizeDistance");n(Ma,{stacked:t.stacked,leftPath:t.leftPath,startPercent:c,resizeDistance:s,snapPercent:u,initialLayout:r})}else{var d=e(Ma);if(!d){var p=new Error("Expected tilingResize");throw n(fn.xm,{error:p,tags:{layoutstate:!0}}),p}var f=d.stacked,h=d.leftPath,v=d.startPercent,m=d.resizeDistance,g=d.initialLayout,Z=d.snapPercent,y=v+(f?t.moveDelta.y:t.moveDelta.x)/m*100,b=(0,tn.ZP)(g,(function(e){Na(e,{leftPath:h,percent:y,snapPercent:Z})}));n(dn.iH,b)}else n(Ma,null)}));var Xa=t(78217),Fa=t(24894),za=(0,c.cn)((function(e){return Boolean(e(Xa.sx)||e(ka)||e(Ma)||e(kt.c)||e(Fa.xM))}));var Wa=t(7182),ja=t(46091);var Ha={base:(0,jn.iv)([v.l0.position.absolute,v.l0.borderRadius(8),{pointerEvents:"none",border:"1px solid",transitionProperty:"border, box-shadow",transitionDuration:te.H.duration,transitionTimingFunction:te.H.timingFunction}]),floating:(0,jn.iv)([{borderColor:v.TV.outlineDimmest},v.l0.shadow(2)]),dragging:(0,jn.iv)([{borderColor:v.TV.outlineStronger},v.l0.shadow(3)]),active:(0,jn.iv)([{borderColor:v.TV.outlineDimmer}])};function Va(e){var n=function(e){var n=e.paneId,t=(0,Yn.Z)((function(){return(0,c.cn)((function(e){if(e(Aa.Xu))return null;var t=e((0,cn.z)(n)),r=n===e(Xa.WB),i=n===e(pn.J1),o="floating"===t.type;if(!(o||r||i))return null;var a=e(cn.M0),l=e(t.rectAtom);return{style:{width:l.width+2,height:l.height+a+2,top:-(a+1),left:-1},isActive:i,isBeingDragged:r,isFloating:o}}))}),[n]);return(0,c.Dv)(t)}({paneId:e.paneId});return n?(0,a.tZ)(v.G7,{css:[Ha.base,n.isFloating&&Ha.floating,n.isActive&&Ha.active,n.isBeingDragged&&Ha.dragging],style:n.style}):null}var qa=(0,l.memo)(Va);var Ya=t(10693);function $a(e){var n=e.paneId,t=(0,c.Dv)(cn.CK),r=(0,c.Dv)((0,cn.z)(n)),o=(0,Aa.Je)(n),l=(0,pn.cr)({paneId:n}),u=(0,Xa.cI)({paneId:n}),s=(0,c.b9)(Ia),d=(0,pn.Xo)(),p="floating"===r.type&&!r.isDialog,f=(0,Xa.FD)({paneId:n}),h=Boolean(o),v=(0,Ba.MD)(n),m=(0,c.Dv)(za),g=function(e){var n=e.paneId,t=(0,Yn.Z)((function(){return(0,c.cn)((function(e){if(e(Aa.Xu)===n)return e(Aa.Ep);var t=e((0,cn.z)(n));return e(t.rectAtom)}))}),[n]);return(0,c.Dv)(t)}({paneId:n}),Z={x:t.x+g.x,y:t.y+g.y},y=function(e){var n=e.paneId,t=(0,i.Z)((0,ca.L)({accept:[Tn.Tv.File,Wa.z.Pane,Wa.z.NewPane],collect:function(e){return{isOver:e.isOver()}},hover:function(e,t){var r=t.getClientOffset();r&&a.drag({pageX:r.x,pageY:r.y,over:n})},drop:function(e,t){var r=t.getClientOffset();if(r)if(e.type!==Wa.z.Pane){if(e.type===Tn.Tv.File||e.type===Tn.Tv.Directory){var i=e.nodes.filter((function(e){return e.type===Tn.Tv.File})).map((function(e){return{type:(0,It.Dp)({path:e.path}),data:{path:e.path}}}));i.length>0&&a.drop({type:"newPaneGroup",panes:i,pageX:r.x,pageY:r.y,over:n})}if(e.type===Wa.z.NewPane){var o=e.pane;a.drop({type:"newPaneGroup",panes:[o],pageX:r.x,pageY:r.y,over:n})}}else a.drop({type:"pane",paneId:e.paneId,pageX:r.x,pageY:r.y,over:n})}}),2),r=t[0].isOver,o=t[1],a=(0,ja.s)({isOver:r});return o}({paneId:n}),b="tile"===r.type;return(0,a.BX)(a.HY,{children:[r.isDialog?(0,a.tZ)(Ja,{}):null,(0,a.BX)(Ea,{css:{transform:u?"scale(".concat(u.scale,")"):void 0,transformOrigin:u?"".concat(u.originX," top"):void 0},innerRef:b?y:void 0,zIndex:v.normal,zIndexHovered:v.hovered,hidden:r.isHidden,viewportInset:Z,active:l,rect:g,animate:f,floating:h,resizable:p,onMouseDown:function(){d(n)},onResizeControlPointerDown:function(e,t){Da(e,{start:function(){s({type:"start",paneId:n,edge:t})},move:function(e){var n=e.delta;s({type:"update",moveDelta:n})},end:function(){s({type:"end"})}})},children:[(0,a.tZ)(qa,{paneId:n}),(0,a.tZ)(Ya.Z,{bsod:!0,tags:(0,Yn.Z)((function(){return{paneType:r.type}}),[r.type]),children:(0,a.tZ)(Ua,{disableInteractions:m,children:(0,a.tZ)(Qa,{paneId:n,dataAtom:r.data,isHidden:r.isHidden})})},n)]})]})}function Ka(e){var n=e.paneId,t=e.isHidden,r=e.dataAtom,i=(0,c.Dv)(r),o=(0,_i.Se)().Content,l=(0,c.b9)(St),u=function(e){l({fromPaneId:n,data:e})};return(0,a.tZ)(o,{pane:i,options:{paneId:n,isHidden:t,replacePane:u,openPane:u}})}var Qa=(0,l.memo)(Ka);function Ja(){var e=(0,c.b9)(mn);return(0,a.tZ)(v.G7,{onClick:function(){return e()},css:[v.l0.coverContainer,v.l0.position.fixed,v.l0.backgroundColor.backgroundOverlay]})}var el=(0,l.memo)($a);var nl=t(48505),tl=t(56124),rl=t(6307);function il(e,n,t){var r=!!/iPad|iPhone|iPod/.test(navigator.platform)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)?32:0;if(t){var i=2/3,o=Math.max(e.width,r*i),a=Math.max(e.height,r*i),l="left"===t?1:-1,c=n?0:l*(o-e.width)/2,u=n?l*(a-e.height)/2:0;return{width:n?e.width:o,height:n?a:e.height,x:n?e.x:e.x-(o-e.width)/2+c,y:n?e.y-(a-e.height)/2+u:e.y}}var s=Math.max(e.width,r),d=Math.max(e.height,r);return{width:n?e.width:s,height:n?d:e.height,x:n?e.x:e.x-(s-e.width)/2,y:n?e.y-(d-e.height)/2:e.y}}var ol,al="--grip-color",ll="var(".concat(al,")"),cl=(0,jn.iv)((ol={},(0,gn.Z)(ol,al,w.TV.outlineDimmest),(0,gn.Z)(ol,":active, :hover",(0,gn.Z)({},al,w.TV.foregroundDefault)),ol)),ul=(0,jn.iv)([w.l0.position.absolute,w.l0.center,{minWidth:8,minHeight:8},cl]),sl=(0,jn.iv)({":hover":{transform:"scaleX(4)"}}),dl=(0,jn.iv)({":hover":{transform:"scaleY(4)"}}),pl=(0,jn.iv)([w.l0.height("200vh"),w.l0.width("200vw"),{transform:"translate(-50%, -50%)"}]),fl=(0,jn.iv)([{backgroundColor:ll,transition:"background-color"},w.l0.borderRadius(4)]),hl=(0,jn.iv)([fl,{transitionDuration:"140ms"}]);function vl(e){var n=e.snapped,t=e.stacked;return"left"===n?t?(0,a.tZ)(rr.Z,{color:ll}):(0,a.tZ)(xo.Z,{color:ll}):t?(0,a.tZ)(tl.Z,{color:ll}):(0,a.tZ)(nl.Z,{color:ll})}var ml=function(e){var n,t,r;return n=100/e*1,t=.08,r=.12,Math.min(Math.max(n,t),r)},gl=function(e){return{default:(0,jn.iv)([w.l0.height("horizontal"===e?2:24),w.l0.width("horizontal"===e?24:2),fl]),active:(0,jn.iv)([w.l0.height("horizontal"===e?1:"calc(100%)"),w.l0.width("horizontal"===e?"calc(100%)":1),w.l0.backgroundColor.accentPrimaryDefault]),shared:(0,jn.iv)([w.l0.borderRadius(4),{transitionProperty:"width, height, background-color",transitionTimingFunction:"ease-out"}])}},Zl=gl("horizontal"),yl=gl("vertical");function bl(e){var n=e.rect,t=e.onPointerDown,r=e.onDoubleClick,i=e.stacked,o=e.snapped,l=e.zIndexHovered,c=e.zIndex,u=e.isActive,s=il(n,i,o),d=(0,ur.T)(),p=(i?n.width:n.height)<24,f=i?Zl:yl,h=i?"row-resize":"col-resize";return(0,a.BX)(a.HY,{children:[(0,a.BX)(y.Z,{onPointerDown:t,onDoubleClick:r,onContextMenu:function(e){e.preventDefault(),e.stopPropagation()},style:{width:s.width,height:s.height,transform:"translate(".concat(s.x,"px, ").concat(s.y,"px)"),visibility:p?"hidden":void 0,cursor:h},css:[ul,{zIndex:c},!u&&{":hover":{zIndex:l}}],children:[(0,a.tZ)(y.Z,{css:[w.l0.coverContainer,!u&&(i?dl:sl),u&&pl]}),o?(0,a.tZ)(vl,{snapped:o,stacked:i}):(0,a.tZ)(y.Z,{className:"grip-line",style:{transitionDuration:d?"0s":"".concat(ml(i?n.width:n.height),"s")},css:[hl,u?f.active:f.default,f.shared]})]}),u?(0,a.tZ)(rl.a,{cursor:h}):null]})}var wl=t(64824),xl=(0,c.cn)(null,(function(e,n,t){var r=e(ln.g4),i=(0,tn.ZP)(r,(function(e){Na(e,{leftPath:t.leftPath,percent:t.percent})}));n(dn.iH,i)}));function Rl(e){var n=e.handleId,t=(0,c.Dv)((0,cn.vv)(n)),r=(0,c.b9)(La),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=(0,l.useRef)(e),t=(0,c.b9)(xl),r=(0,wl.lV)((0,l.useCallback)((function(e){return e(ln.g4)}),[]));return(0,l.useCallback)((function(i){i.snapped?t({leftPath:i.leftPath,percent:n.current}):Promise.resolve(r()).then((function(r){var o=(0,Ct.KC)(r,i.leftPath);if(!o||!(0,Ga.r)(o))throw new Error("Expected split or paneGroup");n.current=o.percent,t({leftPath:i.leftPath,percent:e})}))}),[e,t,r])}(),o=(0,Ba.bJ)(),u=function(e){var n=e.handleId,t=(0,Yn.Z)((function(){return(0,c.cn)((function(e){var t=e(Ma);return!!t&&n===(0,Ca.xH)({leftPath:t.leftPath})}))}),[n]);return(0,c.Dv)(t)}({handleId:n});return(0,a.tZ)(bl,{isActive:u,zIndex:u?o.active:o.normal,zIndexHovered:o.hovered,snapped:t.snapped,rect:t.rect,stacked:t.stacked,onDoubleClick:function(){i(t)},onPointerDown:function(e){Da(e,{start:function(){r({type:"start",leftPath:t.leftPath,stacked:t.stacked})},move:function(e){var n=e.delta;r({type:"update",moveDelta:n})},end:function(){r({type:"end"})}})}})}var Tl=(0,l.memo)(Rl),El=t(62991),Cl=t.n(El),kl=t(45432),Il=t.n(kl);class Sl extends l.Component{constructor(e){super(e),this._osInstance=null,this._osTargetRef=l.createRef()}osInstance(){return this._osInstance}osTarget(){return this._osTargetRef.current||null}componentDidMount(){this._osInstance=Il()(this.osTarget(),this.props.options||{},this.props.extensions),Pl(this._osInstance,this.props.className)}componentWillUnmount(){Il().valid(this._osInstance)&&(this._osInstance.destroy(),this._osInstance=null)}componentDidUpdate(e){Il().valid(this._osInstance)&&(this._osInstance.options(this.props.options),e.className!==this.props.className&&Pl(this._osInstance,this.props.className))}render(){const e=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(this.props,["options","extensions","children","className"]);return l.createElement("div",Object.assign({className:"os-host"},e,{ref:this._osTargetRef}),l.createElement("div",{className:"os-resize-observer-host"}),l.createElement("div",{className:"os-padding"},l.createElement("div",{className:"os-viewport"},l.createElement("div",{className:"os-content"},this.props.children))),l.createElement("div",{className:"os-scrollbar os-scrollbar-horizontal "},l.createElement("div",{className:"os-scrollbar-track"},l.createElement("div",{className:"os-scrollbar-handle"}))),l.createElement("div",{className:"os-scrollbar os-scrollbar-vertical"},l.createElement("div",{className:"os-scrollbar-track"},l.createElement("div",{className:"os-scrollbar-handle"}))),l.createElement("div",{className:"os-scrollbar-corner"}))}}function Pl(e,n){if(Il().valid(e)){const{host:t}=e.getElements(),r=new RegExp(`(^os-host([-_].+|)$)|${e.options().className.replace(/\s/g,"$|")}$`,"g"),i=t.className.split(" ").filter((e=>e.match(r))).join(" ");t.className=`${i} ${n||""}`}}var Dl={overflowBehavior:{y:"hidden"},scrollbars:{autoHide:"leave"}};var _l=t(53201),Ul=t(49906),Al=t(37432);var Bl=t(1855),Gl=v.KD.button,Nl=(0,jn.iv)([v.l0.display.inlineFlex,v.l0.height("100%")]),Ol=(0,jn.iv)([v.l0.cursor.pointer,v.l0.center,v.l0.rowWithGap(4),v.l0.pl(8),v.l0.pr(4),v.l0.height("100%"),{backgroundColor:"transparent",border:"none",font:"inherit",lineHeight:"normal",color:"inherit"}]);function Ml(e){var n=e.onClick;return(0,a.tZ)(v.hU,{tooltipHidden:!0,onClick:n,alt:"Close",size:18,css:[{"&& svg":{width:12,height:12,minWidth:"unset",minHeight:"unset"},borderRadius:6},v.gU.nofill],children:(0,a.tZ)(Z.Z,{})})}function Ll(e){var n=(0,Q.Z)().fs,t=e.split("/"),r=t.pop(),i=t.join("/"),o=(0,l.useState)(!1),a=o[0],c=o[1],u=function(e){var n=e.path,t=e.initialExpanded,r=(0,Q.Z)().fs;return(0,Al.Z)({path:n,initialExpanded:t,fs:r})}({path:i.length>0?i:".",initialExpanded:!0}).children,s=null===u||void 0===u?void 0:u.filter((function(e){return e.filename!==r}));return{fileName:r,parentPath:i,renaming:a,siblings:s,handleRename:function(){c(!0)},handleCancel:function(){c(!1)},handleSubmit:function(t){var r=i.length>0?i+"/"+t:t;n.moveFile(e,r),c(!1)}}}function Xl(e){var n=e.filePath,t=e.title,r=e.onClick,i=e.onClose,o=e.isActive,l=e.innerRef,c=e.icon,u=e.onPointerDown,s=Ll(n),d=s.fileName,p=s.parentPath,f=s.renaming,h=s.siblings,m=s.handleRename,g=s.handleSubmit,Z=s.handleCancel,y=t.startsWith("History - ")?"History - ".concat(d):t;return(0,a.tZ)(v.u,{tooltip:n,placement:"bottom",isDisabled:!p,maxWidth:"calc(100vw - ".concat(v.TV.space16,")"),children:function(e,n){return(0,a.BX)(v.Tg,(0,re.Z)((0,k.Z)({innerRef:(0,Bl.l)(l,n),css:[Nl,o?v.gU.filled:v.gU.nofill,o?v.l0.color.foregroundDefault:v.l0.color.foregroundDimmer,v.l0.flex.row,v.l0.align.center,v.l0.pr(4)]},e),{children:[f?(0,a.tZ)(Ul.Z,{onSubmit:g,onCancel:Z,loading:!1,siblings:h||[],parentPath:p,type:Tn.Tv.File,initialValue:d,rename:!0}):(0,a.BX)(Gl,{onPointerDown:u,onDoubleClick:m,css:[Ol],onClick:r,children:[(0,a.tZ)(v.G7,{css:{opacity:o?1:.6},children:c||null}),(0,a.tZ)(v.xv,{children:y})]}),(0,a.tZ)(Ml,{onClick:i})]}))}})}function Fl(e){var n=e.title,t=e.onClick,r=e.onClose,i=e.isActive,o=e.innerRef,l=e.icon,c=e.onPointerDown;return(0,a.BX)(v.Tg,{innerRef:o,css:[Nl,i?v.gU.filled:v.gU.nofill,i?v.l0.color.foregroundDefault:v.l0.color.foregroundDimmer,v.l0.flex.row,v.l0.align.center,v.l0.pr(4)],children:[(0,a.BX)(Gl,{css:[Ol],onClick:t,onPointerDown:c,children:[(0,a.tZ)(v.G7,{css:{opacity:i?1:.6},children:l||null}),(0,a.tZ)(v.xv,{children:n})]}),(0,a.tZ)(Ml,{onClick:r})]})}var zl=v.KD.div;function Wl(e){var n=e.paneId,t=e.paneGroupId,r=e.isActive,o=e.onClick,u=e.onClose,s=e.dragGroup,d=e.scrollIntoViewIfNeeded,p=(0,Yn.Z)((function(){return(0,c.cn)((function(e){return e(e((0,cn.z)(n)).data)}))}),[n]),f=(0,c.Dv)(p),h=(0,_i.Se)(),m=h.getTitle(f),g=h.Icon({pane:f,size:16}),Z=(0,l.useRef)(null);(0,l.useEffect)((function(){r&&Z.current&&d(Z.current)}),[d,r]);var y=(0,i.Z)((0,_l.c)({type:Wa.z.Pane,item:function(){var e,t=(null===(e=Z.current)||void 0===e?void 0:e.getBoundingClientRect().width)||80;return{type:Wa.z.Pane,paneId:n,width:t}},collect:function(e){return{isDragging:e.isDragging()}}}),2),b=y[0].isDragging,w=y[1],x=(0,c.b9)(kt.c);(0,l.useEffect)((function(){return x(b)}),[x,b]);var R,T=(0,Xa.q6)({paneGroupId:t}).dnd,C=T&&s?function(e){1!==e.button&&Da(e,{start:T.start,move:T.update,end:T.end})}:void 0;return(0,a.tZ)(zl,{css:b?[v.l0.width(0),v.l0.visibility.hidden]:[v.l0.px(2)],onMouseDown:function(e){1===e.button&&u()},children:(0,It.KM)(f)?(0,a.tZ)(Xl,{onPointerDown:C,innerRef:C?void 0:(0,Bl.l)(w,Z),filePath:null!==(R=f.data.path)&&void 0!==R?R:"",title:(0,En.UO)(m),isActive:r,icon:g,onClick:function(){(0,E.j)(E.U3.WS_TAB_OPENED,{paneType:f.type}),o()},onClose:function(){(0,E.j)(E.U3.WS_TAB_CLOSED,{paneType:f.type}),u()}}):(0,a.tZ)(Fl,{onPointerDown:C,innerRef:C?void 0:(0,Bl.l)(w,Z),title:m,isActive:r,icon:g,onClick:function(){(0,E.j)(E.U3.WS_TAB_OPENED,{paneType:f.type}),o()},onClose:function(){(0,E.j)(E.U3.WS_TAB_CLOSED,{paneType:f.type}),u()}})})}function jl(){var e=(0,I.Z)(["\n  query ReplEnvironmentHeaderContainer($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        language\n      }\n    }\n  }\n"]);return jl=function(){return e},e}var Hl={},Vl=(0,S.Ps)(jl());var ql=t(18455);function Yl(){var e=(0,Q.Z)().presence,n=(0,i.Z)(l.useState(e.getFollowingUsers()),2),t=n[0],r=n[1];return l.useEffect((function(){return r(e.getFollowingUsers()),e.onFollowingUsersChanged((function(e){r(e.followingUsers)}))}),[e]),t}var $l={root:(0,jn.iv)([v.l0.rowWithGap(4),v.l0.align.center]),text:(0,jn.iv)([v.l0.flex.shrink(1),v.l0.align.center]),username:(0,jn.iv)([v.l0.flex.shrink(2),v.l0.maxWidth(140),v.l0.truncate])};function Kl(){var e=Yl();return 0===e.length?null:1===e.length?(0,a.tZ)(Ql,{user:e[0]}):(0,a.BX)(v.xv,{variant:"small",color:"dimmest",css:$l.text,children:[e.length," users are observing you"]})}function Ql(e){var n=e.user,t=n.id,r=n.username,i=n.color,o=(0,Ee.pu)([t]),l={id:t,username:r,color:i,image:null===o||void 0===o?void 0:o.get(t)};return(0,a.BX)(v.G7,{css:$l.root,children:[(0,a.tZ)(v.qE,{size:16,src:l.image||null,username:l.username,ringColor:l.color}),(0,a.tZ)(v.xv,{variant:"small",color:"dimmer",css:$l.username,children:r}),(0,a.tZ)(v.xv,{variant:"small",color:"dimmest",css:$l.text,children:"is observing you"})]})}var Jl={root:(0,jn.iv)([v.l0.rowWithGap(4),v.l0.align.center]),text:(0,jn.iv)([v.l0.flex.shrink(1),v.l0.align.center]),username:(0,jn.iv)([v.l0.flex.shrink(2),v.l0.maxWidth(140),v.l0.truncate])};function ec(e){var n=e.id,t=e.username,r=e.color,i=(0,Ee.pu)([n]),o=(0,Q.Z)().presence,l={id:n,username:t,color:r,image:null===i||void 0===i?void 0:i.get(n)};return(0,a.BX)(v.G7,{css:Jl.root,children:[(0,a.tZ)(v.qE,{size:16,src:l.image||null,username:l.username,ringColor:l.color}),(0,a.tZ)(v.xv,{css:Jl.text,variant:"small",color:"dimmest",children:"Observing"}),(0,a.tZ)(v.xv,{css:Jl.username,variant:"small",color:"dimmer",children:t}),(0,a.tZ)(v.hU,{alt:"Stop observing",size:18,onClick:function(){o.unfollowUser()},children:(0,a.tZ)(Z.Z,{})})]})}var nc=t(22414);var tc=t(86601);function rc(e){var n=e.activeFile,t=e.paneId,r=function(e){var n=(0,k.Z)({},Hl,e);return P.a(Vl,n)}({variables:{replId:(0,me.Z)()}}).data,i="Repl"===(null===r||void 0===r?void 0:r.repl.__typename)?r.repl.language:"",o=(0,c.Dv)(kt.bg),u=(0,c.b9)(kt.ao),s=(0,c.b9)(kt.Ky),d=n&&(0,En.gK)(n),p=function(e){var n=e.paneId,t=(0,tc.Z)(),r=(0,pn.cr)({paneId:n});return t&&r?t:null}({paneId:t}),f=function(e){var n=e.paneId,t=Yl();return(0,pn.cr)({paneId:n})&&t.length>0?t:null}({paneId:t}),h=function(){var e=(0,yt.Z)((0,c.Dv)(nc.$));return(0,l.useCallback)((function(){setTimeout((function(){var n;return null===(n=e.current)||void 0===n?void 0:n.focus()}),0)}),[e])}(),m=(0,pn.cr)({paneId:t}),g=null;return p?g=(0,a.tZ)(ec,{id:p.id,username:p.username,color:p.color}):d&&n?g=o?(0,a.tZ)(v.zx,{css:{backgroundColor:"transparent"},iconLeft:(0,a.tZ)(Ue.Z,{}),text:"Close preview",onClick:function(){u({type:"markdown"}),h()}}):(0,a.tZ)(v.zx,{css:{backgroundColor:"transparent"},iconLeft:(0,a.tZ)(_e.Z,{}),text:"Open preview",onClick:function(){n&&(s({type:"markdown",data:{path:n}}),h())}}):n&&(g=(0,a.tZ)(ql.q,{filePath:n,replLanguage:i,disableKeyboardShortcut:!m})),null!==g||f?(0,a.BX)(v.G7,{css:[v.l0.px(4),v.l0.rowWithGap(8)],children:[f&&n?(0,a.tZ)(Kl,{}):null,g]}):null}var ic=t(59369),oc=t(89295),ac=t(94860),lc=t(73148),cc=t(87534),uc=t(99932),sc=t(90849),dc=t(87671),pc=t(66843),fc=t(53761),hc=(0,c.cn)(null,(function(e,n,t){var r=e(ln.g4),i=e((0,cn.z)(t)),o=i.rectAtom,a=i.type,l=e(o),c=(0,Ct.Rh)(r,t);if(!c){var u=new Error("Expected pane");throw n(fn.xm,{error:u,tags:{layoutstate:!0}}),u}if("tile"!==a){var s=e(cn.Eh).filter((function(e){return"tile"===e.type&&!e.isHidden})),d=e(cn.M0),p={x:l.x+l.width/2,y:l.y+l.height/2},f=s.find((function(n){var t=e(n.rectAtom);return(0,Ca.V0)(p,{x:t.x,y:t.y-d,width:t.width,height:t.height+d})})),h="leftOf";f&&(h=(0,Ca.QN)(p,e(f.rectAtom)).placement),n(dn.iH,(0,tn.ZP)(r,(function(e){(0,fc.$C)(e,{paneGroupPath:c.paneGroupPath,to:(null===f||void 0===f?void 0:f.paneId)||["tiling"],placement:h})})))}else n(dn.iH,(0,tn.ZP)(r,(function(e){(0,fc.MB)(e,{paneGroupPath:c.paneGroupPath,rect:{x:l.x-16,y:l.y-16,width:l.width,height:l.height}})})))}));var vc=t(90145);function mc(e){var n=e.paneId,t=e.paneGroupId,r=(0,c.b9)(hc),i=(0,dc.e3)(),o=(0,dc.lI)(),l=(0,dc.Bd)(),u=function(e){var n=e.paneId,t=(0,Yn.Z)((function(){return(0,c.cn)((function(e){return"floating"===e((0,cn.z)(n)).type}))}),[n]);return(0,c.Dv)(t)}({paneId:n}),s=(0,Aa.Lo)(),d=s.maximizePaneGroup,p=s.restoreMaximizedPaneGroup;if((0,Aa.rX)({paneGroupId:t}))return(0,a.tZ)(v.hU,{onClick:function(){return p()},alt:"Restore",children:(0,a.tZ)(ac.Z,{})});var f={label:"Maximize",icon:(0,a.tZ)(oc.Z,{}),run:function(){return d({paneGroupId:t})}},h=u?[f]:[{label:"Insert Left",icon:(0,a.tZ)(cc.Z,{}),run:function(){l({placement:"leftOf",paneId:n}),(0,E.j)(E.U3.WS_SPLIT_USED,{action:"opened",placement:"leftOf"})}},{label:"Insert Right",icon:(0,a.tZ)(uc.Z,{}),run:function(){l({placement:"rightOf",paneId:n}),(0,E.j)(E.U3.WS_SPLIT_USED,{action:"opened",placement:"rightOf"})}},{label:"Insert Up",icon:(0,a.tZ)(sc.Z,{}),run:function(){l({placement:"above",paneId:n}),(0,E.j)(E.U3.WS_SPLIT_USED,{action:"opened",placement:"above"})}},{label:"Insert Down",icon:(0,a.tZ)(lc.Z,{}),run:function(){l({placement:"below",paneId:n}),(0,E.j)(E.U3.WS_SPLIT_USED,{action:"opened",placement:"below"})}},f];return(i||u)&&(h.splice(h.length-1,0,{label:u?"Unfloat":"Float",icon:u?(0,a.tZ)(vc.Z,{}):(0,a.tZ)(pc.Z,{}),run:function(){r(n)}}),h.push({label:"Close",icon:(0,a.tZ)(Z.Z,{}),run:function(){o({paneGroupId:t}),(0,E.j)(E.U3.WS_SPLIT_USED,{action:"closed"})}})),(0,a.tZ)(ic.Z,{resetOnSelect:!0,label:"Pane Actions",items:h,onItemClick:function(e){e.run()}})}var gc=(0,l.memo)(mc),Zc=v.KD.div,yc=(0,jn.iv)([v.l0.flex.growAndShrink(1),v.l0.minWidth(16),v.l0.height("100%")]);function bc(e){var n=e.paneGroupId,t=(0,Xa.q6)({paneGroupId:n}),r=t.isDragging,i=t.dnd,o=(0,Aa.Lo)().toggleMaximizedPaneGroup;if(!i)return null;var l=r?"grabbing":"grab";return(0,a.tZ)(Zc,{onDoubleClick:function(){o({paneGroupId:n})},css:[yc],style:{cursor:l},onPointerDown:function(e){Da(e,{start:i.start,move:i.update,end:i.end})}})}function wc(e){var n=e.paneId,t=e.onChange,r=(0,Yn.Z)((function(){return(0,c.cn)((function(e){var t=e((0,cn.z)(n));return e(t.rectAtom).width}))}),[n]),i=(0,c.Dv)(r),o=(0,yt.Z)(t),a=(0,Yn.Z)((function(){return Pa()((function(){o.current()}),500)}),[o]);return(0,l.useEffect)(a,[i,a]),null}function xc(e){var n=(0,cn.Xs)(e),t=(0,Yn.Z)((function(){return(0,c.cn)((function(e){var t=e(n);return e((0,cn.z)(t.panes[t.activeIndex])).paneId}))}),[n]);return(0,c.Dv)(t)}function Rc(e){var n=e.headerId,t=(0,c.b9)(kt.Oe),r=(0,c.b9)(kt.Je),o=(0,c.b9)(kt.SG),u=(0,c.b9)(un.U),s=(0,c.Dv)(kt.c),d=function(e){var n=(0,cn.Xs)(e),t=(0,c.Dv)((0,Yn.Z)((function(){return(0,c.cn)((function(e){return e(n).activeIndex}))}),[n])),r=(0,c.Dv)((0,Yn.Z)((function(){return(0,wl.kv)(n,(function(e){return e.path}),Cl())}),[n])),i=(0,c.Dv)((0,Yn.Z)((function(){return(0,wl.kv)(n,(function(e){return e.panes}),Cl())}),[n])),o=xc(e),a=(0,Yn.Z)((function(){return(0,c.cn)((function(e){var t=e(n),r=e((0,cn.z)(t.panes[t.activeIndex])),i=e(r.data);return(0,It.KM)(i)?(0,It.DQ)(i):null}))}),[n]);return{activeIndex:t,path:r,panes:i,activeTabPaneId:o,activeFile:(0,c.Dv)(a)}}(n),p=d.activeIndex,f=d.panes,h=d.activeTabPaneId,m=d.activeFile,g=function(){var e,n=(0,l.useRef)(null),t=null===(e=n.current)||void 0===e?void 0:e.osInstance(),r=(0,l.useRef)(0),i=(0,l.useRef)(0),o=(0,Xr.Fg)().isDarkColorScheme,a=(0,ur.T)();return{options:Dl,handleWheel:function(e){if(t&&0!==e.deltaY&&0===e.deltaX){var n=e.deltaY<0?-1:1,o=i.current!==n?t.scroll().position.x:r.current,a=25*n,l=t.scroll().max.x;r.current=Math.max(0,Math.min(l,o-a)),i.current=n;var c=function(){if(t){var e=t.scroll().position.x,n=r.current-e,i=Math.round(e+n/10);0!==n&&(t.scroll({x:i}),window.requestAnimationFrame(c))}};window.requestAnimationFrame(c)}},ref:n,className:o?"os-theme-light":"os-theme-dark",update:(null===t||void 0===t?void 0:t.update)?function(){return t.update()}:null,scrollIntoViewIfNeeded:function(e){null===t||void 0===t||t.scroll({el:e,scroll:"ifneeded",block:"nearest"},a?0:160)}}}(),Z=(0,i.Z)((0,ca.L)({accept:[Tn.Tv.File,Wa.z.Pane,Wa.z.NewPane],hover:function(e,n){var t=n.getSourceClientOffset();t&&R({item:e,panes:f,sourceClientOffset:t.x})},collect:function(e){return{isOver:e.isOver()}},drop:function(e,t){if(!t.didDrop()){var i=null!==(null===T||void 0===T?void 0:T.index)?null===T||void 0===T?void 0:T.index:f.length;if(e.type!==Tn.Tv.File&&e.type!==Tn.Tv.Directory)if(e.type!==Wa.z.NewPane){if("paneId"in e){var a=f.includes(e.paneId)?f.length-1:f.length;o({paneId:e.paneId,index:void 0!==i&&i<a?i:a,toPaneGroupId:n})}}else r({activate:!0,paneGroupId:n,index:i,panes:[e.pane]});else{var l=e.nodes.filter((function(e){return e.type===Tn.Tv.File})).map((function(e){return{type:(0,It.Dp)({path:e.path}),data:{path:e.path}}}));l.length>0&&r({activate:!0,paneGroupId:n,index:i,panes:l})}}}}),2),y=Z[0],b=Z[1],w=function(e){var n=e.isOver,t=(0,l.useState)(null),r=t[0],i=t[1],o=(0,l.useRef)(null),a=(0,l.useRef)([]);(0,l.useEffect)((function(){if(!n)return a.current=[],void i(null);o.current&&(a.current=(0,Ie.Z)(o.current.children).map((function(e){var n=e.getBoundingClientRect();return n.x+n.width/2})))}),[n]);var c=(0,l.useCallback)((function(e){if(0!==a.current.length){var n=e.item.type===Wa.z.Pane?e.item:null,t=(null===n||void 0===n?void 0:n.paneId)||null,r=t?e.panes.indexOf(t):-1,o=(null===n||void 0===n?void 0:n.width)||80,l=a.current.map((function(e,n){return-1===r||r<n?e:e+o/2})).findIndex((function(n){return n>e.sourceClientOffset})),c=-1===l,u=-1===r?e.panes.length:e.panes.length-1;i({index:c?u:Math.min(l,u),paneId:t,width:o})}}),[]);return{tabContainerRef:o,hover:c,dropState:r}}({isOver:y.isOver}),x=w.tabContainerRef,R=w.hover,T=w.dropState,E=T?T.index:null;if((null===T||void 0===T?void 0:T.paneId)&&null!==E){var C=f.indexOf(T.paneId);C>-1&&C<E&&E++}var k=T&&null!==E?(0,Ie.Z)(f.slice(0,E)).concat([T],(0,Ie.Z)(f.slice(E))):f;return(0,a.BX)(a.HY,{children:[(0,a.BX)(v.G7,{css:[v.l0.rowWithGap(2),v.l0.flex.growAndShrink(1),v.l0.align.center,v.l0.height("100%")],innerRef:b,children:[(0,a.tZ)(v.G7,{css:[v.l0.flex.row,v.l0.flex.shrink(1),v.l0.align.center,v.l0.height("100%")],children:(0,a.tZ)(Sl,{style:{height:"100%",width:"100%"},className:g.className,options:{overflowBehavior:{y:"hidden"},scrollbars:{autoHide:"leave",visibility:s?"hidden":"auto"}},onWheel:g.handleWheel,ref:g.ref,children:(0,a.tZ)(v.G7,{innerRef:x,css:[v.l0.flex.row,v.l0.height("100%"),v.l0.py(4),v.l0.px(2)],children:k.map((function(e,r){var i=p===r;return"string"!==typeof e?(0,a.tZ)(v.G7,{css:[v.l0.px(2)],children:(0,a.tZ)(v.G7,{css:[v.l0.borderRadius(8),v.l0.width(e.width),v.l0.height(28),v.l0.backgroundColor.accentPrimaryDimmest,{border:"1px dashed ".concat(v.TV.accentPrimaryDefault)}]})},"preview"):(0,a.tZ)(Wl,{dragGroup:1===f.length,paneId:e,paneGroupId:n,isActive:i,onClick:function(){t(e)},onClose:function(){u(e)},scrollIntoViewIfNeeded:g.scrollIntoViewIfNeeded},e)}))})})}),(0,a.tZ)(v.hU,{alt:"New tab",tooltipHidden:!0,onClick:function(){r({paneGroupId:n,activate:!0,panes:[{type:"commands",data:{autoFocus:!0}}]})},children:(0,a.tZ)(Ne.Z,{})}),(0,a.tZ)(bc,{paneGroupId:n})]}),(0,a.tZ)(rc,{headerId:n,paneId:h,activeFile:m}),(0,a.tZ)(v.G7,{css:v.l0.px(4),children:(0,a.tZ)(gc,{paneId:h,paneGroupId:n})}),g.update?(0,a.tZ)(wc,{paneId:h,onChange:g.update}):null]})}var Tc=(0,l.memo)(Rc),Ec=(0,jn.iv)([v.l0.borderRadius(8,8,0,0),v.l0.position.absolute,v.l0.flex.row,v.l0.align.center],{borderBottom:"1px solid ".concat(v.TV.backgroundHigher)}),Cc=["top","right","left","topRight","topLeft"];function kc(e){var n=e.headerId,t=function(e){var n=e.headerId,t=(0,cn.Xs)(n),r=(0,Yn.Z)((function(){return(0,c.cn)((function(e){return"floating"===e(t).path[0]}))}),[t]);return(0,c.Dv)(r)}({headerId:n}),r=xc(n),i=(0,c.b9)(Ia);return t?(0,a.tZ)(a.HY,{children:Cc.map((function(e){return(0,a.tZ)(ga,{size:8,edge:e,onPointerDown:function(n){Da(n,{start:function(){i({type:"start",paneId:r,edge:e})},move:function(e){var n=e.delta;i({type:"update",moveDelta:n})},end:function(){i({type:"end"})}})}},e)}))}):null}var Ic=(0,l.memo)(kc);function Sc(e){var n=e.headerId,t=(0,cn.Xs)(n),r=xc(n),i=(0,Aa.XP)({paneGroupId:n}),o=(0,Yn.Z)((function(){return(0,c.cn)((function(e){return e(e(t).rectAtom)}))}),[t]),l=(0,c.Dv)(o),u=(0,Ba.w8)(r),s=(0,Xa.cI)({paneId:r}),d=i||l,p=(0,Xa.FD)({paneId:r}),f=(0,pn.Xo)();return(0,a.BX)(v.Tg,{elevated:!0,css:Ec,style:{transform:s?"scale(".concat(s.scale,")"):void 0,transformOrigin:s?"".concat(s.originX," bottom"):void 0,width:d.width,height:d.height,top:Math.round(d.y),left:Math.round(d.x),zIndex:u,transitionProperty:p?"all":void 0,transitionDuration:p?"140ms":void 0,transitionTimingFunction:p?"ease-out":void 0},onMouseDown:function(){f(r)},children:[(0,a.tZ)(Tc,{headerId:n}),(0,a.tZ)(Ic,{headerId:n})]})}var Pc=(0,l.memo)(Sc),Dc=t(63848);function _c(){var e=(0,Dc.K)(),n=(0,c.Dv)(ln._E),t=(0,Ba.P9)();if(!e)return null;var r=e.rect,i="detachPreview"===e.type?e.progress:1,o="detachPreview"===e.type?e.rect.height:8,l="detachPreview"===e.type&&i<.98?w.TV.foregroundDefault:w.TV.accentPrimaryDefault,u="detachPreview"===e.type?void 0:w.TV.accentPrimaryDimmer;return(0,a.tZ)("div",{style:{position:"absolute",border:"1px ".concat(i<.98?"dashed":"solid"),pointerEvents:"none",width:r.width,height:r.height,backgroundColor:u,borderColor:l,borderRadius:o,zIndex:t,opacity:"detachPreview"===e.type?.5*i:.2,transform:"translate(".concat(Math.round(r.x),"px, ").concat(Math.round(r.y),"px)"),transition:n?"transform 140ms, width 140ms, height 140ms, border-radius 140ms":void 0},children:"detachPreview"===e.type?(0,a.tZ)(Uc,{progress:i}):null})}function Uc(e){var n=e.progress;return(0,a.tZ)("div",{style:{width:"100%",height:"100%",transform:"scale(".concat(n,")"),background:"radial-gradient(transparent, ".concat(w.TV.backgroundHighest,")"),borderRadius:"100%"}})}var Ac=(0,l.memo)(_c),Bc=t(96189);var Gc=t(92364);function Nc(){var e=(0,I.Z)(["\n  query BrowserNotifications($username: String!) {\n    user: userByUsername(username: $username) {\n      id\n      image\n    }\n  }\n"]);return Nc=function(){return e},e}var Oc=(0,S.Ps)(Nc());function Mc(e){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,r.Z)((function(e){var n,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return null===Ut.l?[2]:[4,Ut.l.query({query:Oc,variables:{username:e}})];case 1:return[2,null===(t=r.sent().data)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.image]}}))}))).apply(this,arguments)}function Xc(){return"Notification"in window?"true"===Zn.Z.get(Hc,"string")?"dismissed":window.Notification.permission:"denied"}function Fc(){return zc.apply(this,arguments)}function zc(){return(zc=(0,r.Z)((function(){return(0,o.__generator)(this,(function(e){try{window.Notification.requestPermission().then()}catch(n){return[2,new Promise((function(e){window.Notification.requestPermission((function(n){e(n)}))}))]}return[2,window.Notification.requestPermission()]}))}))).apply(this,arguments)}function Wc(){return jc.apply(this,arguments)}function jc(){return(jc=(0,r.Z)((function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return[4,Fc()];case 1:return e.sent(),Vc(!1),[2]}}))}))).apply(this,arguments)}var Hc="notifications/dismissedModal";function Vc(e){Zn.Z.set(Hc,String(e))}var qc={};function Yc(){return(Yc=(0,r.Z)((function(e){var n,t,r,i,a,l,c,u,s,d,p;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n=e.title,t=e.body,r=e.badge,i=e.icon,a=e.iconByUsername,l=e.tag,c=e.onClick,u=e.cacheDuration,s=void 0===u?0:u,!document.hidden&&document.hasFocus()?[2]:"granted"!==Xc()?[2]:(d=Date.now(),l in qc&&qc[l]+s>d?[2]:a?[4,Mc(a)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return p=new window.Notification(n,{body:t,badge:r||"/public/images/logo-grayscale.png",icon:i||"/public/images/icon-square.png",tag:l}),setTimeout((function(){p.close()}),1e4),p.addEventListener("click",(function(){window.focus(),p.close()})),c&&p.addEventListener("click",c),qc[l]=d,[2]}}))}))).apply(this,arguments)}var $c=t(20431);var Kc=t(51438),Qc=44100,Jc=32896,eu=function e(){var n=this;(0,Kc.Z)(this,e),this.audioStart=0,this.feed=function(e){var t=n.getFormatedValue(e),r=new Float32Array(n.samples.length+t.length);r.set(n.samples,0),r.set(t,n.samples.length),n.samples=r},this.getFormatedValue=function(e){for(var n=new Float32Array(e.length),t=0;t<e.length;t++)n[t]=e[t]/2147483648;return n},this.stop=function(){if(n.bufferSource)try{n.bufferSource.stop()}catch(e){if("InvalidStateError"!==e.name&&"RangeError"!==e.name)throw e}},this.flush=function(e){if(n.audioCtx&&n.samples.length){var t=0,r=n.audioCtx.currentTime;if(0===e)n.startTime=r,n.audioStart=r;else{for(var i=r-n.audioStart,o=Math.floor(i*Qc);o>e-Jc;)n.audioStart+=.7459410430839002,o-=Jc;o>e&&(t=o-e,n.startTime=r),n.startTime=r}n.samples=n.samples.slice(t,n.samples.length);for(var a,l,c,u=n.audioCtx.createBufferSource(),s=n.samples.length/1,d=n.audioCtx.createBuffer(1,s,Qc),p=0;p<1;p++)for(a=d.getChannelData(p),l=p,c=0;c<s;c++)a[c]=n.samples[l],l+=1;n.startTime<n.audioCtx.currentTime&&(n.startTime=n.audioCtx.currentTime),u.buffer=d,u.connect(n.gainNode),u.start(n.startTime),n.stop(),n.bufferSource=u,n.startTime+=d.duration,n.samples=new Float32Array}},this.samples=new Float32Array;var t=window.AudioContext||window.webkitAudioContext;this.audioCtx=new t,this.gainNode=this.audioCtx.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioCtx.destination),this.startTime=this.audioCtx.currentTime};function nu(e){var n=e.container,t=(0,l.useState)(!1),r=t[0],i=t[1],o=(0,l.useRef)(null);(0,l.useEffect)((function(){return n.openChannel({name:"audio",service:"audio"},(function(e){var n=e.channel;if(n){var t=null,r=!1;return n.onCommand((function(e){var n;r||(r=!0,o.current=function(){t=new eu,o.current=null},i(!0)),t&&(null===e||void 0===e||null===(n=e.audio2)||void 0===n?void 0:n.data)&&(e.audio2.samples||(e.audio2.samples=0),t.feed(Int32Array.from(e.audio2.data)),t.flush(e.audio2.samples))})),function(){i(!1),t&&(t.stop(),t=null),o.current=null}}}))}),[n]);var c=function(){i(!1)};return(0,a.tZ)(v.u_,{isOpen:r,onRequestClose:c,children:(0,a.BX)(v.G7,{css:[v.l0.colWithGap(24)],children:[(0,a.tZ)(v.h4,{variant:"headerDefault",level:1,children:"We hear audio!"}),(0,a.BX)(v.G7,{css:[v.l0.colWithGap(8)],children:[(0,a.tZ)(v.xv,{multiline:!0,children:"Hey! It appears that this Repl is playing audio."}),(0,a.tZ)(v.xv,{multiline:!0,children:"In order for us to hear the audio you\u2019re receiving, please click confirm."})]}),(0,a.BX)(v.G7,{css:[v.l0.rowWithGap(12),v.l0.justify.end],children:[(0,a.tZ)(v.zx,{onClick:c,text:"Cancel"}),(0,a.tZ)(v.zx,{colorway:"positive",onClick:function(){i(!1),o.current&&o.current()},text:"Confirm",iconLeft:(0,a.tZ)(x.Z,{})})]})]})})}var tu=t(51995),ru=t(91082),iu=t(48920),ou={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"Enter"};function au(){var e=(0,c.b9)(Ln),n=(0,l.useState)(!1),t=n[0],r=n[1],i=(0,Wi.A)(),o=(0,Q.Z)(),u=o.fs,s=o.container,d=o.runner,p=(0,J.L7)(d),f=(0,ji.T)(),h=(0,Bt.C)();(0,nr.x)(On.q,{run:e}),(0,nr.x)(Ui.q,{run:function(){e(Ui.i({openFile:h,fs:u,shouldHideFile:f,getRecentFiles:i}))}}),(0,nr.x)(Fi,{run:function(){e(zi({container:s}))}}),Yt(Ui.i({openFile:h,fs:u,shouldHideFile:f,getRecentFiles:i}));var v=(0,wt.Q)("flagGhostrunner");return Yt(zi({container:s,activeOnly:v})),Yt({match:Jt.pl,data:{type:"action",icon:(0,a.tZ)(tu.Z,{}),label:"Run",description:"Run Repl",run:function(){d.run()},keyboardShortcut:ou}},{enabled:p===iu.A.IDLE}),(0,nr.x)(ou,{run:function(){p===iu.A.RUNNING&&d.stopRun(),d.run()},enabled:p!==iu.A.OFFLINE}),Yt({match:Jt.pl,data:{type:"action",icon:(0,a.tZ)(ru.Z,{}),label:"Stop",description:"Stop Repl",run:function(){d.stopRun()}}},{enabled:p===iu.A.RUNNING}),Yt({match:(0,Jt.zf)({defaultScore:.5}),data:{type:"action",label:"Create",icon:(0,a.tZ)(Ne.Z,{}),description:"Create a new Repl",run:function(){r(!0)}}}),(0,a.tZ)(g.Z,{isOpen:t,onRequestClose:function(){return r(!1)},maxWidth:600,centered:!0,children:(0,a.tZ)(Or.Z,{})})}var lu=(0,l.memo)(au);function cu(e){var n=e.children,t=e.tour,r=function(e){var n;i&&t&&"function"===typeof(null===(n=window.analytics)||void 0===n?void 0:n.user)&&(0,E.yV)({id:window.analytics.user().id(),workspaceTourId:t.id,workspaceTourStatus:e===t.steps[t.steps.length-1].id?"completed":e.toLowerCase()})};if(!t)return(0,a.tZ)(a.HY,{children:n});var i="workspace-desktop-tour"===t.id||"workspace-desktop-new-user-tour"===t.id;return(0,a.tZ)(er.r,{tour:t,onStep:r,onDone:r,children:n})}var uu=t(49051),su=t(41709),du=t(80856);function pu(){var e=(0,c.b9)(kt.a4),n=(0,du.Z)({moveOrDeleteFile:e}),t=n.isConverging,r=n.didContentsDiverge,i=n.showMoreDetail,o=n.failedFiles,l=n.failedFilesOptions,u=n.selectedFile,s=n.setSelectedFile,d=n.reviewingPrompt,p=n.onChoice,f=n.local,h=n.remote,m=[v.l0.minHeight("7em"),v.l0.maxHeight("50vh"),v.l0.overflowY("auto"),{"> div":{display:"flex",alignItems:"stretch",width:"100%",height:"100%"},"> div > .cm-editor":{flex:"1 1 auto",width:"100%"}}];return(0,a.tZ)(v.u_,{css:[{maxHeight:"90%",maxWidth:"90%"}],preventClose:!0,isOpen:r,onRequestClose:function(){},children:(0,a.BX)(v.G7,{css:[v.l0.colWithGap(24)],children:[(0,a.tZ)(b.h,{level:3,variant:"headerDefault",children:"Replit is out of sync!"}),(0,a.BX)(b.x,{multiline:!0,children:["Sometimes Replit has trouble making sure everyone's code is the same. Let us know which version of"," ",o.length>1?"these files":"this file"," you'd like to keep."," ",o.length>1?(0,a.BX)("strong",{children:["There are ",o.length," files impacted by this."]}):""]}),t?(0,a.tZ)(uu.Loader,{}):(0,a.BX)(a.HY,{children:[l.length?(0,a.tZ)(v.Ph,{initialSelectedItem:l[0],selectedItem:l.find((function(e){return e.path===u})),items:l,onChange:function(e){s(e.path)}}):null,i?(0,a.BX)(v.G7,{css:[v.l0.rowWithGap(16),v.l0.justify.start,v.l0.align.center,v.l0.pt(16),v.l0.p(8),v.l0.backgroundColor.redDimmest,v.l0.font.code],children:[(0,a.tZ)(b.x,{variant:"subheadDefault",children:"Debug View"}),(0,a.BX)(b.x,{children:["Divergence type: ",null===d||void 0===d?void 0:d.case]})]}):null,(0,a.BX)(v.G7,{css:[v.l0.rowWithGap(8)],children:[(0,a.BX)(v.G7,{css:[v.l0.flex.growAndShrink(1),{flexBasis:0}],children:[(0,a.tZ)(b.x,{variant:"subheadDefault",children:"My changes"}),(0,a.tZ)(v.Tg,{elevated:!0,css:[v.l0.flex.growAndShrink(1),v.l0.py(8)],children:(0,a.tZ)(v.G7,{css:m,children:(0,a.tZ)(su.q,{diffViewer:f})})}),(0,a.BX)(v.G7,{css:[v.l0.pt(16)],children:[(0,a.tZ)(b.x,{multiline:!0,css:[v.l0.textAlign.center],children:"This might disrupt other people's work or create unexpected bugs."}),(0,a.tZ)(v.zx,{onClick:function(){p("local")},text:"Reset to Mine"})]})]}),(0,a.BX)(v.G7,{css:[v.l0.flex.growAndShrink(1),{flexBasis:0}],children:[(0,a.tZ)(b.x,{variant:"subheadDefault",children:"Shared changes"}),(0,a.tZ)(v.Tg,{elevated:!0,css:[v.l0.flex.growAndShrink(1),v.l0.py(8)],children:(0,a.tZ)(v.G7,{css:m,children:(0,a.tZ)(su.q,{diffViewer:h})})}),(0,a.BX)(v.G7,{css:[v.l0.pt(16),v.l0.justify.end],children:[(0,a.tZ)(b.x,{multiline:!0,css:[v.l0.textAlign.center],children:"This is the safest option and won't disrupt other's work."}),(0,a.tZ)(v.zx,{onClick:function(){p("remote")},text:"Sync to Shared",colorway:"primary"})]})]})]})]})]})})}var fu=t(24888),hu=t(1557);function vu(){var e=(0,Q.Z)().fs,n=(0,l.useState)(!1),t=n[0],r=n[1],i=(0,l.useState)(!1),o=i[0],c=i[1],u=(0,Cn.D)();(0,l.useEffect)((function(){if(!o)return e.onDiskQuotaExceeded((function(){r(!0)}))}),[e,o]);var s=function(){r(!1)};return(0,a.tZ)(v.u_,{isOpen:t,onRequestClose:s,children:(0,a.BX)(v.G7,{css:[v.l0.colWithGap(24)],children:[(0,a.BX)(v.h4,{level:3,variant:"headerDefault",children:["Oops! This Repl's disk is full"," ",(0,a.tZ)(hu.Z,{color:v.TV.accentNegativeDefault,size:20})]}),(0,a.BX)(v.xv,{multiline:!0,variant:"subheadDefault",children:["Please free up space by deleting some files. You can open the file tree by clicking the ",(0,a.tZ)(fu.Z,{})," icon on the left."]}),(0,a.tZ)(v.xv,{multiline:!0,children:"You can check how much space you are using from the Repl Resources section under the file tree."}),(0,a.tZ)(v.xv,{multiline:!0,variant:"small",children:"We apologize for the inconvenience. We are working on a solution to allow you to boost your disk limits."}),(0,a.BX)(v.G7,{css:v.l0.rowWithGap(8),tag:"label",children:[(0,a.tZ)(v.XZ,{id:u,checked:o,onChange:function(e){return c(Boolean(e.currentTarget.value))}}),(0,a.tZ)(v.xv,{multiline:!0,variant:"small",children:"Do not show this message again for this session."})]}),(0,a.tZ)(v.zx,{onClick:s,text:"Close"})]})})}var mu=t(46701),gu=t(79611),Zu=t(21603),yu=t(75192),bu=t(43186),wu=t(18888),xu=t(58482),Ru=t(6801),Tu=t(11213),Eu=t(75436);function Cu(){var e=(0,I.Z)(["\n  subscription ThreadUpdates($replId: String!) {\n    updatedThread: annotationUpdatesByRepl(replId: $replId) {\n      id\n      ...AnnotationsUIAnchor\n    }\n  }\n  ","\n"]);return Cu=function(){return e},e}var ku={},Iu=(0,S.Ps)(Cu(),Ru.j7);function Su(e){!function(e){var n=(0,k.Z)({},ku,e);Eu.m(Iu,n)}({variables:{replId:e},onData:function(n){var t,r,i=null===(t=n.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.updatedThread;i&&"AnnotationAnchor"===i.__typename&&(n.client.cache.updateQuery({query:Ru.yi,variables:{replId:e}},(function(e){return(0,tn.ZP)(e,(function(e){null!==e&&"Repl"===e.repl.__typename&&(e.repl.annotationAnchors.find((function(e){return e.id===i.id}))||e.repl.annotationAnchors.push(i))}))})),n.client.cache.updateQuery({query:Tu.Jq,variables:{replId:e,path:i.path}},(function(e){return(0,tn.ZP)(e,(function(e){var n;e&&"ThreadsByFileResult"===(null===(n=e.threadsByFile)||void 0===n?void 0:n.__typename)&&(e.threadsByFile.threads.find((function(e){return e.id===i.id}))||e.threadsByFile.threads.push((0,re.Z)((0,k.Z)({},i),{messageCount:i.messages.length,unreadCount:i.messages.filter((function(e){return!e.seen})).length,participants:i.messages.filter((function(e){return!!e.user})).map((function(e){return e.user}))})))}))})))}})}var Pu=t(15335);function Du(){var e=(0,I.Z)(["\n  subscription RegisterReplConnection($replId: String!) {\n    replConnection(replId: $replId)\n  }\n"]);return Du=function(){return e},e}var _u={},Uu=(0,S.Ps)(Du());var Au=t(75240);function Bu(){!function(e){var n=(0,k.Z)({},_u,e);Eu.m(Uu,n)}({variables:{replId:(0,me.Z)()},skip:(0,Pu.Z)()!==Au.e.CONNECTED})}var Gu=t(5275),Nu=t(45528),Ou=!1;function Mu(){var e=(0,I.Z)(["\n  mutation UpdateReplConfig($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        config {\n          isVnc\n          isServer\n        }\n      }\n    }\n  }\n"]);return Mu=function(){return e},e}var Lu={},Xu=(0,S.Ps)(Mu());function Fu(){var e=(0,me.Z)(),n=(0,Q.Z)().container,t=(0,c.b9)(kt._N),r=(0,i.Z)(function(e){var n=(0,k.Z)({},Lu,e);return G.D(Xu,n)}(),1),o=r[0];(0,l.useEffect)((function(){return n.onPortOpened((function(n){var r,i=n.isVnc;t(i?"vnc":"webview"),r=i?{isVnc:!0}:{isServer:!0},o({variables:{input:(0,k.Z)({id:e},r)}})}))}),[n,t,o,e])}function zu(){var e=(0,I.Z)(["\n  subscription ReplEnvironmentUserCanWrite($replId: String!) {\n    currentUserCanWrite(replId: $replId)\n  }\n"]);return zu=function(){return e},e}var Wu={},ju=(0,S.Ps)(zu());function Hu(e){var n=e.isAnon,t=e.isOwner,r=e.ignoreUnloadPrompt;!function(e){var n=(0,k.Z)({},Wu,e);Eu.m(ju,n)}({skip:n||t,variables:{replId:(0,me.Z)()},onData:function(e){var n=e.data.data;!1===(null===n||void 0===n?void 0:n.currentUserCanWrite)&&(r(!0),window.location.reload())}})}var Vu=t(10129);function qu(){var e=(0,I.Z)(["\n  query ReplEnvironmentNotifyUserJoin($id: String!) {\n    repl(id: $id) {\n      ... on Repl {\n        id\n        title\n      }\n    }\n  }\n"]);return qu=function(){return e},e}var Yu=(0,S.Ps)(qu());function $u(){return($u=(0,r.Z)((function(e){var n;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:if(!Ut.l)throw new Error("Expected Apollo client");return[4,Ut.l.query({query:Yu,variables:{id:e}})];case 1:return[2,"Repl"===(null===(n=t.sent().data)||void 0===n?void 0:n.repl.__typename)?n.repl.title:null]}}))}))).apply(this,arguments)}function Ku(){var e=(0,Q.Z)(),n=e.container,t=e.presence;l.useEffect((function(){var e=t.onUserJoin((function(t){var r,i=null===(r=n.getContext())||void 0===r?void 0:r.repl;if(i){var o=t.username;return function(e){return $u.apply(this,arguments)}(i.id).then((function(e){e&&function(e){Yc.apply(this,arguments)}({title:"",body:"".concat(o," joined ").concat(e),tag:"".concat(i.id,"-").concat(o,"-joined"),iconByUsername:o,cacheDuration:9e5})})),function(){e()}}}))}),[t,n])}var Qu=t(95716);function Ju(){var e=(0,I.Z)(["\n  query GitRepoIsNewFork($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        origin {\n          id\n        }\n        timeCreated\n        timeUpdated\n      }\n    }\n  }\n"]);return Ju=function(){return e},e}var es={},ns=(0,S.Ps)(Ju());var ts=t(16799),rs=t(67128);function is(){var e=(0,me.Z)(),n=(0,Q.Z)().container,t=function(e){var n=(0,k.Z)({},es,e);return P.a(ns,n)}({variables:{replId:e}}).data,r=null===t||void 0===t?void 0:t.repl;(0,l.useEffect)((function(){if(r){var e,t=null!==r.origin,i=new Date(r.timeUpdated).getTime()-new Date(r.timeCreated).getTime()<1e3;if(t&&i)(e=n).exec.apply(e,(0,Ie.Z)(ts.rO.format(rs.Xe)))}}),[n,r])}function os(){var e=(0,Ge.Z)(),n=e.showConfirm,t=e.showNotice,r=e.hideMessage,i=e.showError,o=(0,Q.Z)().container;(0,l.useEffect)((function(){var e=o.onToast((function(e){e.startsWith("PANIC")||t(e,function(e){var n=e.length/.025+1e3;return Math.max(1e4,n)}(e))})),a=null,l=!1,c=o.onConnectionStateChanged((function(e){if(a&&(r(a),a=null),e===Au.e.CONNECTED)return l=!0,void(a=n("Connected",1500));l&&(e!==Au.e.CONNECTING?e!==Au.e.DISCONNECTED||(a=i("Disconnected")):a=t("Reconnecting"))}));return function(){a&&r(a),e(),c()}}),[o,n,t,i,r])}var as=t(9523);function ls(){var e=(0,I.Z)(["\n  query ReplEnvironment2LoadCurriculum($id: String!) {\n    currentUser {\n      id\n      isTeacher: hasRole(role: TEACHER)\n      ...CrosisContextCurrentUser\n    }\n    repl(id: $id) {\n      ... on Repl {\n        id\n        isProject\n        isProjectFork\n        isModelSolution\n        isModelSolutionFork\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n        language\n        origin {\n          id\n          ...CrosisContextRepl\n          origin {\n            id\n            ...CrosisContextRepl\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return ls=function(){return e},e}var cs={},us=(0,S.Ps)(ls(),as.D,as.C);var ss=t(87194),ds=t(50217),ps=t(18962),fs=t(25108);function hs(){var e,n,t=(0,me.Z)(),i=(0,Q.Z)().fs,a=function(e){var n=(0,k.Z)({},cs,e);return P.a(us,n)}({variables:{id:t}}).data,c=(0,qi.NN)(),u="Repl"===(null===a||void 0===a?void 0:a.repl.__typename)?a.repl:null,s="CurrentUser"===(null===a||void 0===a||null===(e=a.currentUser)||void 0===e?void 0:e.__typename)?a.currentUser:null,d="Repl"===(null===a||void 0===a?void 0:a.repl.__typename)&&a.repl.isModelSolutionFork,p=d?u&&(null===(n=u.origin)||void 0===n?void 0:n.origin):u&&u.origin||null,f=(0,Nu.b)("Repl"===(null===p||void 0===p?void 0:p.__typename)?{repl:p,currentUser:s||void 0}:null);l.useEffect((function(){u&&s&&u.isProject&&i.stat(".lesson").then((function(e){e.exists||i.createDir(".lesson")}))}),[i,s,u]),l.useEffect((function(){if(u&&(u.isProjectFork||d)&&p&&f){var e=(0,Au.Z)({onUnrecoverableError:function(e){fs.error(e),Ii.$e((function(n){n.setTag("curriculum-authoring",!0),n.setExtra("originId",p.id),Ii.Tb(e)}))}}),n=(0,ss.Z)({container:e});e.connect({context:f,fetchConnectionMetadata:function(){return(0,ds.Z)({url:"/data/repls/".concat(u.id,"/get_repl_origin_guest_connection_metadata")})}});var t=e.onConnectionStateChanged(function(){var a=(0,r.Z)((function(r){var a,l;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(r!==ps.e.CONNECTED)return[3,8];t(),o.label=1;case 1:return o.trys.push([1,6,7,8]),[4,i.copyDirFromRemote(".lesson",".lesson",n)];case 2:return(a=o.sent()).error?(Ii.$e((function(e){e.setTag("curriculum-authoring",!0),e.setExtra("originId",p.id),Ii.Tb({message:"Error copying lesson: ".concat(a.error)})})),[3,5]):[3,3];case 3:return[4,i.stat(".lesson/instructions.md")];case 4:o.sent().exists&&c(!0),o.label=5;case 5:return[3,8];case 6:return l=o.sent(),Ii.$e((function(e){e.setTag("curriculum-authoring",!0),Ii.Tb(l)})),[3,8];case 7:return e.destroy(),[7];case 8:return[2]}}))}));return function(e){return a.apply(this,arguments)}}());return function(){return e.destroy()}}}),[i,f,u,p,d,c])}var vs=t(68122),ms=t(39571);function gs(){var e=(0,I.Z)(["\n  fragment WorkspaceUseDebuggerRepl on Repl {\n    id\n    lang {\n      id\n      hasDAP\n    }\n  }\n"]);return gs=function(){return e},e}function Zs(){var e=(0,I.Z)(["\n  query WorkspaceUseDebugger($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        ...WorkspaceUseDebuggerRepl\n      }\n    }\n  }\n  ","\n"]);return Zs=function(){return e},e}var ys={},bs=(0,S.Ps)(gs()),ws=(0,S.Ps)(Zs(),bs);function xs(e){var n=e.onOpenFile,t=e.onOutput,r=(0,Q.Z)(),i=r.debuggest,o=r.dotReplit,a=function(e){var n=(0,k.Z)({},ys,e);return P.a(ws,n)}({variables:{replId:(0,me.Z)()}}).data,c=function(e){var n=e.repl,t=e.dotReplit,r=e.debuggest;return(0,l.useEffect)((function(){if(n){if(!n.lang.hasDAP)return t.watch((function(e){var n;e.error||(null===(n=e.config.debugger)||void 0===n?void 0:n.support)&&r.connect()}));r.connect()}}),[n,r]),(0,vs.Z)(r.mainClient)}({debuggest:i,dotReplit:o,repl:"Repl"===(null===a||void 0===a?void 0:a.repl.__typename)?a.repl:null});!function(e){(0,l.useEffect)((function(){if(e){var n=e.onStarted((function(e){(0,E.j)(E.U3.DEBUGGER_USED,{action:"started",joined:e})})),t=e.onPaused((function(e){(0,E.j)(E.U3.DEBUGGER_USED,{action:"paused",reason:e})})),r=e.onBreakpoint((function(n){(0,E.j)(E.U3.DEBUGGER_USED,{action:"breakpointToggled",breakpointAction:n,state:e.state.current})}));return function(){n(),t(),r()}}}),[e])}(c),function(e,n){var t,r=n.onOutput,i=n.onOpenFile,o=(0,yt.Z)(r),a=(0,yt.Z)(i);(0,l.useEffect)((function(){if(e)return e.onOutput((function(e){o.current(e)}))}),[e]);var c=(0,vs.Z)(e?e.stackFrames:null),u=null===c||void 0===c?void 0:c[0],s=null===u||void 0===u||null===(t=u.source)||void 0===t?void 0:t.path,d=null===u||void 0===u?void 0:u.line;(0,l.useEffect)((function(){if(s&&d&&e){var n=(0,ms.om)(s);n?a.current({path:n,line:d}):e.stepOut()}}),[e,s,d])}(c,{onOpenFile:n,onOutput:t})}var Rs=t(11020),Ts={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"S"};var Es=t(45435);var Cs=t(86800);var ks=t(50307),Is=t(1864),Ss="video.json",Ps=(0,Is.join)(Yi.V,Ss);function Ds(e,n){return _s.apply(this,arguments)}function _s(){return(_s=(0,r.Z)((function(e,n){var t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return n.find((function(e){return e.type===Tn.Tv.File&&e.filename===Ss}))?[4,e.readFile(Ps)]:[2,null];case 1:return(t=r.sent()).error?[2,null]:[2,t.content.toString()]}}))}))).apply(this,arguments)}function Us(){!function(e){var n=(0,Q.Z)().fs,r=$i().isTutorial,o=(0,yt.Z)(e);(0,l.useEffect)((function(){if(r){var e=!1,a=n.watchDir(Yi.V,{onChange:function(r){Promise.all([t.e(1142).then(t.t.bind(t,11142,23)),Ds(n,r)]).then((function(n){var t=(0,i.Z)(n,2),r=t[0],a=t[1];if(!e)if(a){var l=null;try{l=r.parse(a)}catch(u){}var c="object"===typeof l&&"string"===typeof l.embedUrl?l.embedUrl:null;o.current(c?{embedUrl:c}:null)}else o.current(null)}))},onMoveOrDelete:function(){o.current(null)},onError:function(){o.current(null)}});return function(){e=!0,a()}}}),[n,r,o])}((0,Tr.gQ)())}var As=t(55528),Bs=t(4862),Gs=t(58823);function Ns(){var e=oo(),n=(0,c.b9)(io);(0,l.useEffect)((function(){e&&n()}),[e,n])}function Os(){var e=(0,I.Z)(["\n  query TrackMultiplayer($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        multiplayers {\n          id\n        }\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return Os=function(){return e},e}var Ms={},Ls=(0,S.Ps)(Os());function Xs(){var e,n=(0,Q.Z)().presence,t=(0,me.Z)(),r=(0,l.useRef)(!1),i=function(e){var n=(0,k.Z)({},Ms,e);return P.a(Ls,n)}({variables:{replId:t}}),o=i.data,a=i.loading,c=0;"Repl"===(null===o||void 0===o?void 0:o.repl.__typename)&&(c=o.repl.multiplayers.length,"User"===(null===(e=o.repl.owner)||void 0===e?void 0:e.__typename)&&(c+=1));(0,l.useEffect)((function(){if(!a&&!r.current){var e=n.onActiveUsersChange((function(){r.current=!0,e(),(0,E.j)(E.U3.MULTIPLAYER_REPL_OPENED,{replId:t,participantsCount:c,usersOnlineCount:n.getActiveUsers().length})}));return e}}),[t,a,c,n])}function Fs(){var e=(0,me.Z)(),n=yi(e),t=function(e){var n=(0,Zi.Z)(e,{onReceiveAnnotationUpdate:function(){}}).annotations;return(0,l.useMemo)((function(){return n.reduce((function(e,n){return n.isGeneral?e:e+n.messages.filter((function(e){return!1===e.seen})).length}),0)}),[n])}(e),r=(0,c.b9)(Kn);(0,l.useEffect)((function(){r({paneType:"chat",indicatorType:n>0?"unread":void 0})}),[r,n]),(0,l.useEffect)((function(){r({paneType:"threadInbox",indicatorType:t>0?"unread":void 0})}),[r,t])}function zs(e){var n,t=e.repl,r=e.currentUser,o=r.id===(null===(n=t.user)||void 0===n?void 0:n.id),a=(0,bu.Z)().preferences,s=(0,Q.Z)().session;!function(){var e=(0,Q.Z)(),n=e.lspnix,t=e.lsp,r=e.fs,i=(0,bu.Z)().preferences.codeIntelligence,o=(0,Rn.Z)()||"",a=(0,As.Z)(o);l.useEffect((function(){if(!i)return t.stop(),void n.disable();t.start(),n.enable()}),[n,t,i]),l.useEffect((function(){if(a&&o&&(0,En.Mb)(o))return a.onWorkspaceEdit((function(e){var n=e.edit;return(0,Gs.w)({edit:n,fs:r,client:a}),{applied:!0}}))}),[r,a,o]),l.useEffect((function(){if(a&&o&&(0,En.Mb)(o)&&(0,Bs.Z)(a).isTextDocumentSyncSupported)return r.watchTextFile(o,{onFlush:function(){a.isOpen(o)&&a.notify.didSave(o)}})}),[r,o,a])}(),function(){var e=(0,Et.ne)();(0,l.useEffect)((function(){var n=function(){e.flush()};return window.addEventListener("beforeunload",n),function(){window.removeEventListener("beforeunload",n)}}),[e]),(0,l.useEffect)((function(){var n=function(){"hidden"===document.visibilityState&&e({force:!1})};return document.addEventListener("visibilitychange",n),function(){document.removeEventListener("visibilitychange",n)}}),[e]),(0,l.useEffect)((function(){var n=null;return function t(){n=setTimeout((function(){e({force:!1}),t()}),6e4)}(),function(){n&&clearTimeout(n)}}),[e]),(0,l.useEffect)((function(){return function(){e.flush()}}),[e])}(),(0,wu.Z)(),(0,Gu.Z)({workspaceType:"desktop"}),l.useEffect((function(){var e=function(e){"s"===e.key&&(0,Vu.j)(e)&&e.preventDefault()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),Ku(),Bu(),function(){var e=(0,Q.Z)().presence;l.useEffect((function(){return e.onFollowingUsersChanged((function(e){var n=e.followingUsers,t=e.type,r=n.length;"follow"===t?(0,E.j)(Qu.U3.REMOTE_USER_CURSOR_FOLLOWED,{numFollowers:r}):(0,E.j)(Qu.U3.REMOTE_USER_CURSOR_UNFOLLOWED,{numFollowers:r})}))}),[e])}(),Hu({isAnon:!1,isOwner:o,ignoreUnloadPrompt:(0,xu.Z)()}),is(),function(){var e=(0,Q.Z)().presence,n=(0,Rn.Z)();(0,l.useEffect)((function(){e.updateOpenFile(n)}),[e,n])}(),os(),hs(),(0,Rs.Z)(),function(){var e=(0,Q.Z)().runner,n=(0,c.b9)(kt.im),t=(0,c.b9)(kt.Ky),r=(0,c.b9)(kt.ao),i=(0,qi.Ln)(),o=(0,c.Dv)(Et.Mn),a=(0,er.e)(tr.y.Output);l.useEffect((function(){if(o&&(null===a||void 0===a?void 0:a.isActive)){var e=setInterval((function(){n()}),200);return function(){clearInterval(e)}}}),[null===a||void 0===a?void 0:a.isActive,n,o]),l.useEffect((function(){if(o)return e.onStateChanged((function(e){e===iu.A.RUNNING&&n()}))}),[e,n,o]),l.useEffect((function(){o&&(i?t({type:"instructions"}):r({type:"instructions"}))}),[i,t,r,o]),(0,nr.x)(Ts,{run:function(){return t({type:"shell"})},enabled:Boolean(o)})}(),function(){var e=(0,u.useRouter)(),n=(0,Q.Z)().container,t=(0,i.Z)((0,c.KO)(Es.a0),2),r=t[0],o=t[1],a=(0,c.b9)(Es.Th);(0,l.useEffect)((function(){e.query.debug&&o(!0)}),[o,e.query.debug]),(0,l.useEffect)((function(){if(r)return n.client().onDebugLog((function(e){"log"===e.type&&a((function(n){return(0,Ie.Z)(n).concat([{index:n[n.length-1]?n[n.length-1].index+1:0,dir:e.log.direction,cmd:e.log.cmd,timestamp:window.performance.now()}])}))}))}),[r,a,n])}(),function(){var e=(0,Q.Z)(),n=e.presence,t=e.session;(0,l.useEffect)((function(){return n.onUserOpenedFile((function(e){var r=e.user,i=e.file,o=n.getFollowedUser();o&&o.id===r.id&&i&&t.openFile(i)}))}),[n,t]);var r=(0,l.useState)(null),i=r[0],o=r[1];(0,l.useEffect)((function(){return n.onFollowedUserChanged(o)}),[n,t]),(0,l.useEffect)((function(){var e=function(){n.unfollowUser()};if(i){var t=setTimeout((function(){document.addEventListener("click",e)}),0);return function(){clearTimeout(t),document.removeEventListener("click",e)}}}),[i])}(),(0,ks.Z)(),Us(),Ns(),function(){var e=$i().isTutorial,n=(0,Tr.$x)();(0,l.useEffect)((function(){e&&n()}),[n,e])}(),Fs(),Su(t.id),xs({onOpenFile:function(e){s.openFile(e.path),s.updateDeeplink(e)},onOutput:function(){}}),function(){var e=(0,Cs.JM)().data,n=null===e||void 0===e?void 0:e.currentUser,t=(0,c.b9)(wt.H);(0,l.useEffect)((function(){t({flagGhostrunner:Boolean(null===n||void 0===n?void 0:n.flagGhostrunner)})}),[t,n])}();var d=["html","html_beta"].includes(t.language);!function(e){var n=(0,yt.Z)(e.initialLayoutState),t=(0,c.Dv)(ln.dD),r=(0,me.Z)(),i=(0,Et.mk)(),o=(0,Et.A6)();(0,l.useEffect)((function(){if(t)return i({initialLayoutState:n.current}),function(){o()}}),[r,i,o,t,n])}({initialLayoutState:t.layoutState||null}),(0,l.useEffect)((function(){return Ii.YA("replId",t.id),yu.c_.setTag("replId",t.id),function(){Ii.YA("replId",void 0),yu.c_.setTag("replId",void 0)}}),[t.id]),function(e){var n=e.repl,t=e.currentUser,r=(0,Q.Z)().container,i=(0,u.useRouter)(),o=(0,Nu.b)({repl:n,currentUser:t});(0,l.useEffect)((function(){var e;return Ou||(Ou=!0,e=i.query.initialConnectionMetadata),r.connect({customConnectionMetadata:e,context:o}),function(){r.close()}}),[o,r]),(0,l.useEffect)((function(){return function(){r.destroy()}}),[r])}({repl:t,currentUser:r}),Fu(),(0,l.useEffect)((function(){var e,n="Repl"===(null===(e=t.origin)||void 0===e?void 0:e.__typename)?t.origin.id:null;return(0,Zu.Fy)({id:t.id,slug:t.slug,originId:n,roles:r.roles&&r.roles.map((function(e){return e.name}))}),function(){(0,Zu.dv)()}}),[t,r.roles]);var p=(0,c.b9)(ln._E),f=(0,ur.T)();(0,l.useEffect)((function(){p(!f)}),[f,p]);var h=a.isLayoutStacked,v=(0,c.b9)(Vi.h$);(0,l.useEffect)((function(){return v(h)}),[v,h]);var m=(0,c.b9)(Vi.gM);return(0,l.useEffect)((function(){return m(d)}),[m,d]),Xs(),null}var Ws=t(25602),js=t(89390),Hs=function(){var e=(0,r.Z)((function(e,n){var t,r,i,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return(0,Ws.u9)()?[4,(0,Ws.mv)(e)]:[2,!1];case 1:return t=o.sent(),r=t.path,i=t.line,a=t.col,r?(n.openFile(r,{line:i,col:a}),[2,!0]):[2,!1]}}))}));return function(n,t){return e.apply(this,arguments)}}();function Vs(){var e=(0,Q.Z)(),n=e.fs,t=e.session,i=e.dotReplit,a=(0,me.Z)(),u=(0,l.useRef)(!1),s=(0,c.Dv)(ln.QP),d=(0,yt.Z)(s),p=(0,l.useState)(!1),f=p[0],h=p[1],v=(0,c.Dv)(Et.Mn);(0,l.useEffect)((function(){if(f)if(s){var e=(0,Ws.YM)({path:s}),n=window.location.hash;n===s||n.startsWith(e+":")||(u.current=!0,window.location.hash=e)}else history.pushState("",document.title,window.location.pathname+window.location.search)}),[f,s]),(0,l.useEffect)((function(){function e(){return(e=(0,r.Z)((function(){var e;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return v?d.current?(h(!0),[2]):[4,Hs(n,t)]:[2];case 1:return e=r.sent(),h(!0),e||d.current||"saved"===v?[2]:((0,js.P)(n,t,i,a),[2])}}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,t,i,a,d,v]),(0,l.useEffect)((function(){if(v){var e=function(){var e=(0,r.Z)((function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return u.current?(u.current=!1,[2]):[4,Hs(n,t)];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return window.addEventListener("hashchange",e),function(){window.removeEventListener("hashchange",e)}}}),[v,n,t])}function qs(){return Vs(),null}var Ys=t(43530),$s=t(4368);function Ks(){var e=(0,I.Z)(["\n  query ExtensionStore {\n    extensionList {\n      id\n      url\n      name\n      description\n      user {\n        id\n        username\n        displayName\n      }\n    }\n  }\n"]);return Ks=function(){return e},e}var Qs=(0,S.Ps)(Ks());function Js(){var e=(0,di.c)("flag-iframe-extensions"),n=e.enabled,t=e.loading,i=(0,c.b9)(Rt.g2),u=l.useCallback((function(e){i({panes:[{data:e,type:"extension"}],makeActive:!0,placement:"rightOf"})}),[i]);return Yt({match:Jt.pl,commands:function(e){return e.active||""!==e.search?[{match:Jt.pl,data:{type:"action",label:"URL",icon:(0,a.tZ)(Ne.Z,{}),description:"Add an extension by URL",run:function(){var e=prompt("insert extension url");e&&u({url:e,name:"Extension"})}}},{match:Jt.pl,data:{type:"context",label:"Store",icon:(0,a.tZ)($s.Z,{}),description:"Browse the extension store"},commands:function(){var e=(0,r.Z)((function(e){var n,t,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return e.active?[4,null===Ut.l||void 0===Ut.l?void 0:Ut.l.query({query:Qs})]:[2,[]];case 1:return!(n=i.sent())||n.error?[2,[]]:(t=n.data.extensionList)?[2,t.map((function(e){return{match:Jt.pl,data:{type:"action",label:e.name,icon:(0,a.tZ)($s.Z,{}),description:null!==(r=e.description)&&void 0!==r?r:"",run:function(){e.url&&u({url:e.url,name:e.name})}}}}))]:[2,[]]}}))}));return function(n){return e.apply(this,arguments)}}()},{match:Jt.pl,data:{type:"action",label:"Docs",icon:(0,a.tZ)(Ys.Z,{}),description:"Read the extensions docs",run:function(){u({url:"/extensions-docs",name:"Extension"})}}}]:[]},data:{type:"context",label:"Extensions",icon:(0,a.tZ)($s.Z,{}),description:"Manage extensions"}},{enabled:!t&&n}),null}var ed=(0,c.cn)((function(e){var n=e(pn.J1);if(!n)return null;var t=e((0,cn.z)(n)).rectAtom,r=e(t),i=e(cn.M0);return{x:r.x,y:r.y-i,width:r.width,height:r.height+i}}));function nd(){var e=(0,c.Dv)(ed),n=(0,tc.Z)();return e&&n?(0,a.tZ)("div",{css:[w.l0.position.absolute,w.l0.width(e.width),w.l0.height(e.height),w.l0.borderRadius(4),{boxShadow:"0 0 0 3px ".concat(n.color),pointerEvents:"none",zIndex:3,transform:"translate(".concat(Math.round(e.x),"px, ").concat(Math.round(e.y),"px)")}]}):null}var td=(0,l.memo)(nd),rd=t(2548),id=t(77723),od=40,ad=(0,c.cn)({}),ld=(0,c.cn)(null,(function(e,n,t){n(ad,(function(e){return(0,tn.ZP)(e,(function(e){e[t.id]=t.preferredHeight}))}))}));var cd=(0,c.cn)([]),ud=(0,c.cn)(0),sd=(0,c.cn)(null,(function(e,n,t){var r=t.height,i=t.sections,o=r-i.length*od;n(ud,r),n(cd,i.map((function(e){var n=e.id,t=e.percent;return{id:n,height:0===t?0:o*(t/100)}})))}));function dd(e){return(0,c.Dv)(function(e){return(0,Yn.Z)((function(){return(0,c.cn)((function(n){var t;return od+((null===(t=n(cd).find((function(n){return n.id===e})))||void 0===t?void 0:t.height)||0)}))}),[e])}(e))}var pd=(0,c.cn)((function(e){return e(cd).map((function(e){return e.id}))}));var fd=(0,c.cn)(null,(function(e,n,t){n(ud,t),n(cd,(function(e){return(0,tn.ZP)(e,(function(e){var n=e.reduce((function(e,n){return e+n.height}),0),r=t-e.length*od,i=e.filter((function(e){return e.height>0})),o=(r-n)/i.length,a=!0,l=!1,c=void 0;try{for(var u,s=i[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var d=u.value;d.height=Math.max(0,d.height+o)}}catch(p){l=!0,c=p}finally{try{a||null==s.return||s.return()}finally{if(l)throw c}}}))}))}));var hd=t(90051),vd=t(19945),md=t(16495);function gd(e){(0,l.useEffect)((function(){e((0,md.r)(),{captureDraggingState:!0})}),[e])}var Zd={root:v.l0.px(4),rowWrap:(0,jn.iv)([v.l0.borderRadius(8)]),row:(0,jn.iv)([v.gU.nofill,v.l0.rowWithGap(8),v.l0.p(4),v.l0.minHeight(32),v.l0.align.center,{transition:"initial"}]),icon:(0,jn.iv)([v.l0.position.relative,{"& > svg":v.l0.color.foregroundDimmer}]),textWrap:[v.l0.colWithGap(2),v.l0.flex.growAndShrink(1)],heading:[v.l0.flex.growAndShrink(1),{opacity:.5}],text:[v.l0.flex.growAndShrink(1)]};function yd(e){var n=e.title,t=e.icon,r=e.active,i=e.highlightRanges,o=e.heading,l=e.dragRef;return(0,a.tZ)(v.G7,{css:Zd.root,children:(0,a.tZ)(v.Tg,{elevated:r,css:Zd.rowWrap,children:(0,a.BX)(v.Tg,{innerRef:l,css:Zd.row,children:[(0,a.tZ)(v.G7,{css:Zd.icon,children:t}),(0,a.BX)(v.G7,{css:Zd.textWrap,children:[o?(0,a.tZ)(v.xv,{variant:"small",color:"dimmest",css:Zd.heading,children:o}):null,(0,a.tZ)(v.xv,{css:Zd.text,color:(null===i||void 0===i?void 0:i.length)?"dimmest":"default",children:(null===i||void 0===i?void 0:i.length)?(0,a.tZ)(Xe.xK,{style:{color:v.TV.foregroundDimmest},matchStyle:{fontWeight:v.TV.fontWeightBold,color:v.TV.foregroundDefault},source:n,matches:i.map((function(e){return{column:e.from,length:e.to-e.from}}))}):n})]})]})})})}function bd(e){var n=e.pane,t=e.active,r=e.highlightRanges,o=e.title,l=e.heading,c=(0,_i.Se)().Icon({pane:n}),u=(0,ja.N)(),s=(0,i.Z)((0,_l.c)({type:Wa.z.NewPane,item:function(){return{type:Wa.z.NewPane,pane:n}},end:function(){u()}}),3),d=s[1];return gd(s[2]),(0,a.tZ)(yd,{active:t,icon:c,title:o,heading:l,dragRef:d,highlightRanges:r})}var wd=t(73359);function xd(){var e=(0,I.Z)(["\n  query WorkspaceHeaderUsersOnline($ids: [Int!]!) {\n    currentUser {\n      id\n    }\n    usersByIds(ids: $ids) {\n      id\n      username\n      image\n    }\n  }\n"]);return xd=function(){return e},e}var Rd={},Td=(0,S.Ps)(xd());var Ed=t(57731);function Cd(){var e=(0,Q.Z)().presence,n=Ze(),t=(0,ge.Z)({presence:e}),l=(0,i.Z)(function(e){var n=(0,k.Z)({},Rd,e);return wd.t(Td,n)}(),1),c=l[0];return(0,Yn.Z)((function(){return{data:{type:"context",label:"Multiplayers",icon:(0,a.tZ)(Qt.Z,{})},commands:(0,r.Z)((function(){var e,r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return t.length?[4,c({variables:{ids:t.map((function(e){return e.id}))}})]:[2,[]];case 1:return(e=o.sent().data)?(r=t.reduce((function(e,n){return e[n.id]=n.color,e}),{}),i=e.currentUser,[2,e.usersByIds.filter((function(e){return e.id!==(null===i||void 0===i?void 0:i.id)})).map((function(e){return{match:Jt.pl,data:{type:"action",label:e.username,icon:(0,a.tZ)(v.G7,{style:{border:"2px solid",borderColor:r[e.id],borderRadius:"50%"},children:(0,a.tZ)(Ed.Z,{size:16,src:e.image,alt:e.username})}),run:function(){return n({username:e.username,id:e.id})}}}}))]):[2,[]]}}))}))}}),[t,n,c])}var kd={type:"context",icon:(0,a.tZ)(gi.Z,{}),label:"",description:"Search"};var Id=v.KD.div,Sd=v.KD.input,Pd={inputContainer:(0,jn.iv)([v.l0.position.relative,v.l0.flex.row,v.l0.align.center,v.gU.filled,{":focus-within":{borderColor:v.TV.outlineDefault}}]),input:(0,jn.iv)([v.l0.flex.growAndShrink(1),v.l0.p(8),v.l0.color.foregroundDefault,{paddingLeft:26,fontSize:v.TV.fontSizeDefault,outline:"0 none",backgroundColor:"transparent",borderColor:"transparent"}]),menuContainer:(0,jn.iv)([v.l0.left(0),v.l0.width("100%"),v.l0.overflowY("auto"),v.l0.py(4),v.l0.position.absolute,{top:40,height:"calc(100% - ".concat(40,"px)"),zIndex:1}]),searchIcon:(0,jn.iv)([v.l0.position.absolute,v.l0.top(0),v.l0.left(0),v.l0.height("100%"),v.l0.center,{paddingLeft:6,pointerEvents:"none"}]),clearButton:(0,jn.iv)([v.l0.reset.button,v.l0.p(4),v.l0.color.foregroundDimmest,v.l0.cursor.pointer,{"&:hover":v.l0.color.foregroundDefault}])};function Dd(){var e=function(){var e=(0,Q.Z)().fs,n=(0,Wi.A)(),t=(0,ji.T)(),r=(0,Bt.C)(),i=Zo(),o=yo(),l=Cd(),u=(0,Yn.Z)((function(){return(0,c.cn)((function(c){var u=c(i),s=c(o),d={data:{type:"context",label:"Tools",icon:(0,a.tZ)(Hi.Z,{})},commands:function(){return s}},p=(0,Ui.i)({openFile:r,fs:e,shouldHideFile:t,getRecentFiles:n,lazyLoad:!0});return p.match=void 0,{data:kd,commands:function(){return[u,p,d,l]}}}))}),[e,o,i,t,r,n,l]);return(0,c.Dv)(u)}(),n=(0,Bt.C)(),t=Dt(),r=(0,Vn.Z)({onSelect:function(e){if(r.combobox.reset(),r.setInputValue(""),"openFile"!==e.data.type)if("openPane"!==e.data.type)"action"!==e.data.type||e.data.run();else{var i=e.data.pane;t({pane:i})}else{var o=e.data.deeplink.path;n({path:o})}},initialCommand:e,insertSectionHeaders:!0}),i=r.combobox;return(0,a.BX)(a.HY,{children:[(0,a.BX)(Id,(0,re.Z)((0,k.Z)({},i.getComboboxProps()),{css:Pd.inputContainer,children:[(0,a.tZ)(v.G7,{css:Pd.searchIcon,children:r.isLoading?(0,a.tZ)(ce.Z,{}):(0,a.tZ)(gi.Z,{color:v.TV.foregroundDimmest})}),(0,a.tZ)(Sd,(0,k.Z)({css:Pd.input},r.combobox.getInputProps({value:r.inputValue,ref:r.inputRef,onChange:function(e){return r.setInputValue(e.currentTarget.value)},onKeyDown:function(e){"Escape"===e.key&&e.currentTarget.blur()},placeholder:"Search"}))),r.inputValue.length>0?(0,a.tZ)(v.G7,{css:Pd.clearButton,tag:"button",children:(0,a.tZ)(Z.Z,{onClick:function(){return r.setInputValue("")}})}):null]})),(0,a.tZ)(v.Tg,(0,re.Z)((0,k.Z)({style:{display:r.inputValue?void 0:"none"},css:Pd.menuContainer},r.combobox.getMenuProps({refKey:"innerRef"})),{children:(0,a.tZ)(Ud,{items:r.itemsWithSections||[],getItemProps:i.getItemProps,highlightedIndex:i.highlightedIndex,isLoading:r.isLoading})}))]})}function _d(e){var n=(0,l.useRef)(e.items);if(!(e.items!==n.current))return null;var t=e.items.slice(0,100);return e.isLoading||0!==t.length?(0,a.tZ)(v.G7,{css:[v.l0.pt(2)],children:t.map((function(n){if(n.isSection){var t=n.name;return(0,a.tZ)(v.xv,{variant:"small",color:"dimmest",css:[v.l0.px(12),v.l0.py(4)],children:t},t)}var r=n.item,i=n.index,o=i===e.highlightedIndex,l=function(e){var n=e.data,t=e.match.render,r=n.icon,i=n.label,o=null,a=void 0;if("openFile"===n.type){var l=n.deeplink.path;o={type:(0,It.Dp)({path:l}),data:{path:l}}}else"openPane"===n.type&&(o=n.pane);var c=t&&"ranges"in t?t.ranges:void 0;if(o&&(0,It.KM)(o)&&o.data.path){var u=o.data.path;i=(0,En.UO)(u);var s=u.length-i.length;s>0&&(c=null===c||void 0===c?void 0:c.reduce((function(e,n){return n.from-s>=0&&e.push({from:n.from-s,to:n.to-s}),e}),[]));var d=(0,En.Il)(u);d&&(a=d)}return{pane:o,title:i,heading:a,icon:r,highlightRanges:c}}(r),c=l.pane,u=l.highlightRanges,s=l.icon,d=l.title,p=l.heading;return(0,a.tZ)(Id,(0,re.Z)((0,k.Z)({css:[{cursor:"pointer"}]},e.getItemProps({item:r,index:i})),{children:c?(0,a.tZ)(bd,{active:o,highlightRanges:u,pane:c,title:d,heading:p}):(0,a.tZ)(yd,{active:o,highlightRanges:u,title:d,icon:s})}),(0,Vn.k)(r))}))}):(0,a.tZ)(v.xv,{color:"dimmest",css:[v.l0.px(8),v.l0.py(16),{textAlign:"center"}],children:"No results found"})}var Ud=(0,l.memo)(_d),Ad=t(47979),Bd=t(25582),Gd={38:20},Nd={root:(0,jn.iv)([v.gU.filled,v.l0.position.relative,v.l0.center,v.l0.borderRadius(8),{"& > svg":v.l0.color.foregroundDimmer}]),hovered:(0,jn.iv)({backgroundColor:v.vb.interactiveBackgroundActive,"& > svg":v.l0.color.foregroundDefault}),active:(0,jn.iv)([v.gU.filled[":not([disabled])"][":active"],{"& > svg":v.l0.color.foregroundDimmer}])};function Od(e){var n=e.innerRef,t=e.indicator,r=e.hovered,i=e.active,o=e.children,c=e.className,u=e.size,s=void 0===u?38:u;return(0,a.BX)(v.G7,{className:c,innerRef:n,css:[Nd.root,r&&Nd.hovered,i&&Nd.active],style:{width:s,height:s},children:[(0,l.cloneElement)(o,{size:Gd[s]}),t?(0,a.tZ)(et,{small:!0}):null]})}var Md={root:(0,jn.iv)([v.l0.viewStyle,v.l0.reset.button,v.l0.colWithGap(4),v.l0.cursor.pointer,v.l0.center,v.l0.pt(2),v.l0.pt(4),{"&:hover .text":[v.l0.color.foregroundDefault]},{"&:hover .icon":[Nd.hovered]},{"&:active .icon":[Nd.active]}]),hovered:(0,jn.iv)([v.l0.color.foregroundDefault]),text:[v.l0.flex.growAndShrink(1),{fontSize:10}]};function Ld(e){var n=e.pane,t=e.onClick,r=e.iconRef,i=e.hovered,o=(0,_i.Se)(),l=o.Icon({pane:n,size:20}),c=o.getTitle(n),u=Qn({paneType:n.type});return(0,a.BX)("button",{css:[Md.root,i&&Md.hovered],onClick:t,children:[(0,a.tZ)(Od,{className:"icon",innerRef:r,hovered:i,indicator:u,children:l}),(0,a.tZ)(Fd,{className:"text",hovered:i,children:c})]})}var Xd={root:(0,jn.iv)([v.l0.flex.growAndShrink(1),{fontSize:10,textAlign:"center"}])};function Fd(e){var n=e.children,t=e.hovered,r=e.className;return(0,a.tZ)(v.xv,{className:r,css:Xd.root,color:t?"default":"dimmest",children:n})}var zd=t(12824),Wd=t(94058),jd={root:(0,jn.iv)([v.l0.position.absolute]),icon:(0,jn.iv)([v.l0.shadow(2)]),textContainer:(0,jn.iv)([v.l0.position.absolute,v.l0.left("50%"),v.l0.bottom("0"),v.l0.width("200%"),v.l0.center,{transform:"translate(-50%, calc(100% + ".concat(4,"px))")}])};function Hd(e){var n=e.pane,t=e.x,r=e.y,i=(0,_i.Se)(),o=i.Icon({pane:n,size:20}),l=i.getTitle(n),c=Qn({paneType:n.type});return(0,a.BX)(v.G7,{css:jd.root,style:{transform:"translate(".concat(t,"px, ").concat(r,"px)")},children:[(0,a.tZ)(Od,{css:jd.icon,active:!0,indicator:c,children:o}),(0,a.tZ)(v.G7,{css:jd.textContainer,children:(0,a.tZ)(Fd,{hovered:!0,children:l})})]})}var Vd={root:(0,jn.iv)([v.l0.position.absolute,v.l0.shadow(2),v.l0.borderRadius(8),v.l0.minWidth(100)])};function qd(e){var n=e.pane,t=e.x,r=e.y,i=(0,_i.Se)(),o=i.Icon({pane:n,size:20}),l=i.getTitle(n);return(0,a.tZ)(v.G7,{css:Vd.root,style:{transform:"translate(".concat(t,"px, ").concat(r,"px)")},children:(0,a.tZ)(yd,{active:!0,icon:o,title:l})})}function Yd(){var e=(0,Wd.u)();if(!e.display)return null;var n=e.item,t=e.monitor.getSourceClientOffset();return t?n.grid?(0,a.BX)(a.HY,{children:[(0,a.tZ)(rl.a,{cursor:"grabbing"}),(0,a.tZ)(Hd,{pane:n.pane,x:t.x,y:t.y})]}):(0,a.BX)(a.HY,{children:[(0,a.tZ)(rl.a,{cursor:"grabbing"}),(0,a.tZ)(qd,{pane:n.pane,x:t.x,y:t.y})]}):null}var $d=(0,jn.iv)({position:"fixed",pointerEvents:"none",zIndex:Ba.MI.filetreeDragLayer,left:0,top:0,width:"100%",height:"100%"});function Kd(){var e=(0,zd.f)((function(e){return{item:e.getItem(),itemType:e.getItemType(),isDragging:e.isDragging()}})),n=e.isDragging,t=e.itemType===Wa.z.NewPane;return n&&t?(0,a.tZ)("div",{css:$d,children:(0,a.tZ)(Yd,{})}):null}function Qd(e){var n=e.pane,t=Dt(),r=(0,ja.N)(),o=(0,i.Z)((0,_l.c)({type:Wa.z.NewPane,item:function(){return{type:Wa.z.NewPane,pane:n,grid:!0}},end:function(){r()}}),3),l=o[1];return gd(o[2]),(0,a.tZ)(Ld,{pane:n,iconRef:l,onClick:function(){t({pane:n}),function(e){var n={action:"opened"};switch(e){case"git":return(0,E.j)(E.U3.VERSION_CONTROL_FEATURE_USED,n);case"envEditor":return(0,E.j)(E.U3.ENV_EDITOR_USED,n);case"database":return(0,E.j)(E.U3.DATABASE_USED,{action:"opened",type:"ReplitKV",provider:"replit"});case"neon":return(0,E.j)(E.U3.DATABASE_USED,{action:"opened",type:"PostgreSQL",provider:"neon"});case"replAuth":return(0,E.j)(E.U3.AUTH_SIDEBAR_USED,n);case"packager":return(0,E.j)(E.U3.PACKAGE_MANAGER_USED,n);case"unitTests":return(0,E.j)(E.U3.REPL_UNIT_TEST_USED,n);case"debugger":(0,E.j)(E.U3.DEBUGGER_USED,n)}}(n.type)}})}var Jd=(0,jn.iv)([v.l0.pl(8),{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fill, minmax(".concat(60,"px, 1fr))"),gridAutoFlow:"dense"}]);function ep(){var e=mo(),n=e.length,t=(0,c.b9)(ld);return(0,l.useEffect)((function(){var e=Math.min(300,40*n);t({id:"dock",preferredHeight:e})}),[n,t]),(0,a.BX)(a.HY,{children:[(0,a.tZ)(Kd,{}),(0,a.tZ)(v.G7,{css:Jd,children:e.map((function(e){return(0,a.tZ)(Qd,{pane:e},e.type)}))})]})}function np(e){var n=e.sections,t=e.id,r=n.findIndex((function(e){return e.id===t}));if(-1===r)throw new Error("");var i=n[r],o=i.height;i.height=0;var a=r===n.length-1?n.slice(0,r).reverse():n.slice(r),l=!0,c=!1,u=void 0;try{for(var s,d=a[Symbol.iterator]();!(l=(s=d.next()).done);l=!0){var p=s.value;if(0!==p.height)return void(p.height+=o)}}catch(h){c=!0,u=h}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}var f=n[r+1];f&&(f.height=o)}var tp=(0,c.cn)(null),rp=(0,c.cn)(null,(function(e,n,t){var r=e(cd);if("start"!==t.type){var i=e(tp);if(!i)throw new Error("");if("update"!==t.type)n(cd,(0,tn.ZP)(r,(function(e){var n=!0,t=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=i.value;a.height>=32||np({sections:e,id:a.id})}}catch(l){t=!0,r=l}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}}))),n(tp,null);else{var o=e(ud);n(cd,(0,tn.ZP)(i.sectionStart,(function(e){var n=i.heightStart+t.delta;!function(e){var n=e.sections,t=e.id,r=e.totalHeight-n.reduce((function(n,t){return n+(t.height+e.headerHeight)}),0),i=n.findIndex((function(e){return e.id===t}));if(-1===i)throw new Error("Expected sectionIndex");var o=r+n.slice(i).reduce((function(e,n){return e+n.height}),0),a=n[i],l=e.height>a.height,c=Math.min(o,e.height),u=Math.abs(a.height-c);if(l){a.height=Math.max(0,c);var s=!0,d=!1,p=void 0;try{for(var f,h=n.slice(i+1)[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var v=f.value;if(0!==v.height){if(!(v.height<u)){v.height-=u;break}u-=v.height,v.height=0}}}catch(E){d=!0,p=E}finally{try{s||null==h.return||h.return()}finally{if(d)throw p}}}else{var m=n[i+1];if(e.height>=0)return a.height=e.height,void(m&&(m.height+=u));var g=a.height;a.height=0;var Z=-1*e.height,y=!0,b=!1,w=void 0;try{for(var x,R=n.slice(0,i).reverse()[Symbol.iterator]();!(y=(x=R.next()).done);y=!0){var T=x.value;if(T.height>Z){g+=Z,T.height-=Z;break}g+=T.height,Z-=T.height,T.height=0}}catch(E){b=!0,w=E}finally{try{y||null==R.return||R.return()}finally{if(b)throw w}}m&&(m.height+=g)}}({headerHeight:od,totalHeight:o,sections:e,id:i.id,height:n})})))}}else{var a=r.find((function(e){return e.id===t.id}));if(!a)throw new Error("");n(tp,{id:t.id,heightStart:a.height,sectionStart:r})}}));function ip(e){var n=e.id,t=(0,Yn.Z)((function(){return(0,c.cn)((function(e){var t;return(null===(t=e(tp))||void 0===t?void 0:t.id)===n}))}),[n]);return(0,c.Dv)(t)}var op=(0,c.cn)((function(e){return e(ln._E)&&!e(tp)}));var ap=(0,c.cn)(null,(function(e,n,t){var r=e(cd),i=e(ad)[t],o=r.find((function(e){return e.id===t}));if(!o)throw new Error("");0===o.height?n(cd,(0,tn.ZP)(r,(function(n){!function(e){var n=e.sections,t=e.preferredHeight,r=e.id,i=n.findIndex((function(e){return e.id===r}));if(-1===i)throw new Error("Expected sectionIndex");var o=n.reduce((function(n,t){return n+(t.height+e.headerHeight)}),0),a=e.totalHeight-o,l=n[i];if(a>0)l.height=a;else{var c=n.slice(i+1).find((function(e){return e.height>0}))||n.slice(0,i).reverse().find((function(e){return e.height>0}));if(c){if(void 0!==t&&t<c.height)return l.height=t,void(c.height-=t);l.height=c.height,c.height=0}}}({sections:n,id:t,totalHeight:e(ud),headerHeight:od,preferredHeight:i})}))):(n(ld,{id:o.id,preferredHeight:o.height}),n(cd,(0,tn.ZP)(r,(function(e){return np({sections:e,id:t})}))))}));var lp=t(72466),cp=t(86851),up=t(9252),sp=t(38935),dp=t(25741),pp=t(42231),fp=t(9211),hp=t(69453),vp=t(94135),mp=(0,l.createContext)(null);function gp(){var e=(0,l.useContext)(mp);if(!e)throw new Error("Expected ref");return e}var Zp=t(76476),yp={root:(0,jn.iv)([v.l0.rowWithGap(4),v.l0.pr(2)])};function bp(){var e,n,t=(0,me.Z)(),r=(0,Q.Z)().session,i=gp(),o=(0,l.useRef)(null),c=(0,l.useRef)(null),u=(0,dp.Z)(),s=(0,Rt.BN)(),d=(0,pp.Z)(),p=(0,vp.z)(),f=[{label:sp.dk[sp.st.UploadFile],for:null===(e=o.current)||void 0===e?void 0:e.id,run:function(){o.current&&(0,hp.Z)({replId:t,action:"uploaded",fileType:Tn.Tv.File})}}];d&&f.push({label:sp.dk[sp.st.UploadFolder],for:null===(n=c.current)||void 0===n?void 0:n.id,run:function(){c.current&&(0,hp.Z)({replId:t,action:"uploaded",fileType:Tn.Tv.Directory})}});return f.push({label:sp.dk[sp.st.OpenPane],run:function(){s({pane:{type:"commands",data:{autoFocus:!0}},edge:"left"})}},{label:sp.dk[sp.st.DownloadZip],run:p},{label:sp.dk[u?sp.st.HideHiddenFiles:sp.st.ShowHiddenFiles],run:function(){r.setAreHiddenFilesVisible(!u)}}),(0,a.BX)(v.G7,{children:[(0,a.tZ)(fp.Q,{fileUploadInputRef:o,dirUploadInputRef:c,uploadFiles:function(e){var n;return null===(n=i.current)||void 0===n?void 0:n.uploadFiles(e)}}),(0,a.BX)(v.G7,{css:yp.root,children:[(0,a.tZ)(v.hU,{"data-cy":"filetree-add-file",alt:"New file",tooltipPlacement:"top",onClick:function(){var e;return null===(e=i.current)||void 0===e?void 0:e.addFileType(Tn.Tv.File)},children:(0,a.tZ)(cp.Z,{})}),(0,a.tZ)(v.hU,{alt:"New folder",tooltipPlacement:"top",onClick:function(){var e;return null===(e=i.current)||void 0===e?void 0:e.addFileType(Tn.Tv.Directory)},children:(0,a.tZ)(up.Z,{})}),(0,a.tZ)(ic.Z,{resetOnSelect:!0,label:"File Actions",items:f,onItemClick:function(e){e.run()}})]})]})}function wp(){var e=gp(),n=(0,Zp.p)();return(0,a.tZ)(v.G7,{"data-cy":"sidebar-filetree-section",css:[v.l0.position.absolute,v.l0.width("100%"),v.l0.height("100%")],children:(0,a.tZ)(Bd.Z,{ref:e,filetreeApi:n,showHeader:!1,showResources:!1})})}function xp(){var e=(0,Bt.C)();return(0,a.tZ)(lp.Z,{onFileOpen:function(n){return e({path:n})}})}var Rp={kaboom:{title:"Kaboom",content:(0,a.tZ)(xp,{})},files:{title:"Files",controls:(0,a.tZ)(bp,{}),content:(0,a.tZ)(wp,{})},dock:{title:"Tools",content:(0,a.tZ)(ep,{})}},Tp={root:(0,jn.iv)([v.l0.rowWithGap(4),v.l0.align.center,v.l0.height(od)]),header:(0,jn.iv)([v.l0.pl(8),v.l0.flex.growAndShrink(1),v.l0.rowWithGap(4),v.l0.align.center,v.l0.cursor.pointer]),title:(0,jn.iv)([v.l0.fontWeight.medium]),border:(0,jn.iv)([v.l0.position.absolute,v.l0.top(0),v.l0.right(0),v.l0.width("calc(100% - ".concat(v.TV.space8,")")),{pointerEvents:"none",borderTop:"1px solid",borderColor:v.TV.outlineDimmest}]),content:(0,jn.iv)([v.l0.flex.growAndShrink(1),v.l0.overflowY("auto")])},Ep=(0,l.memo)((function(e){var n=function(e){var n=(0,Yn.Z)((function(){return(0,c.cn)((function(n){var t;return 0===(null===(t=n(cd).find((function(n){return n.id===e})))||void 0===t?void 0:t.height)}))}),[e]);return(0,c.Dv)(n)}(e.id),t=(0,c.b9)(ap),r=Rp[e.id],i=r.title,o=r.controls;return(0,a.BX)(v.G7,{css:Tp.root,children:[(0,a.BX)(v.G7,{onClick:function(){return t(e.id)},css:Tp.header,children:[(0,a.tZ)(xo.Z,{rotate:n?0:90}),(0,a.tZ)(v.xv,{css:Tp.title,children:i})]}),o||null]})})),Cp=(0,l.memo)((function(e){var n=Rp[e.id].content;return(0,a.tZ)(v.G7,{css:[Tp.content,"files"===e.id?v.l0.position.relative:{}],children:(0,a.tZ)(v.G7,{css:v.l0.pb(8),children:n})})})),kp={root:(0,jn.iv)([v.l0.position.relative,v.l0.height(0),v.l0.width("100%"),{zIndex:1,"&:hover > div":{transform:"scaleY(2)"},cursor:"ns-resize"}]),hoverArea:(0,jn.iv)([v.l0.position.relative,v.l0.height(8),v.l0.top(-4)])},Ip=(0,l.memo)((function(e){var n=(0,c.b9)(rp),t=ip({id:e.id});return(0,a.tZ)(v.G7,{css:kp.root,onPointerDown:function(t){Da(t,{start:function(){n({type:"start",id:e.id})},move:function(e){var t=e.delta;n({type:"update",delta:t.y})},end:function(e){var t=e.delta;n({type:"end",delta:t.y})}})},children:(0,a.tZ)(v.G7,{style:t?{transform:"scaleY(100)"}:void 0,css:kp.hoverArea})})}));function Sp(e){var n=dd(e.id),t=(0,c.Dv)(op),r=ip({id:e.id});return(0,a.BX)(v.G7,{style:{zIndex:r?2:void 0,height:n,position:"relative",transition:t?"height 120ms ease-out":void 0},children:[e.border?(0,a.tZ)(v.G7,{css:Tp.border}):null,(0,a.tZ)(Ep,{id:e.id}),(0,a.tZ)(Cp,{id:e.id}),e.resizable?(0,a.tZ)(Ip,{id:e.id}):null]})}var Pp={container:(0,jn.iv)([v.l0.position.absolute,v.l0.top(0),v.l0.left(0),v.l0.width("100%"),v.l0.height("100%"),v.l0.minWidth(id.ih)]),header:(0,jn.iv)([v.l0.pl(8),{zIndex:3}]),content:(0,jn.iv)([v.l0.flex.growAndShrink(1)]),footer:(0,jn.iv)([v.l0.pl(8),{zIndex:2}]),resources:(0,jn.iv)([v.l0.justify.center,v.l0.position.relative,{"& > div":[{borderColor:v.TV.outlineDimmest},v.l0.px(0),v.l0.pt(16)]}]),help:(0,jn.iv)([v.l0.pb(8),v.l0.flex.growAndShrink(1),v.l0.justify.center])};function Dp(){return(0,a.BX)(v.G7,{css:Pp.footer,children:[(0,a.tZ)(v.G7,{css:Pp.resources,children:(0,a.tZ)(hd.w,{})}),(0,a.tZ)(v.G7,{css:Pp.help,children:(0,a.tZ)(vd.Z,{big:!0})})]})}function _p(){var e=(0,c.b9)(sd),n=(0,c.b9)(fd),t=(0,Ad.oj)(),r=(0,l.useRef)(null);(0,l.useEffect)((function(){if(r.current){var n=r.current.getBoundingClientRect().height;e(t?{height:n,sections:[{id:"files",percent:0},{id:"kaboom",percent:60},{id:"dock",percent:40}]}:{height:n,sections:[{id:"files",percent:60},{id:"dock",percent:40}]})}}),[e,t]);var i=(0,Bc.Z)((function(e){e&&n(e.height)}),{wait:100,type:"debounce"});return(0,Bl.l)(i,r)}var Up=(0,l.memo)((function(){var e=(0,c.Dv)(pd),n=_p(),t=(0,l.useRef)(null),r=e[e.length-1];return(0,a.tZ)(mp.Provider,{value:t,children:(0,a.BX)(v.G7,{css:Pp.container,children:[(0,a.tZ)(v.G7,{css:Pp.header,children:(0,a.tZ)(Dd,{})}),(0,a.tZ)(v.G7,{css:Pp.content,innerRef:n,children:e.map((function(e,n){return(0,a.tZ)(Sp,{id:e,resizable:e!==r,border:0!==n},e)}))}),(0,a.tZ)(Dp,{})]})})})),Ap=v.KD.div,Bp=(0,jn.iv)([v.l0.position.absolute,v.l0.center,cl,{cursor:"ew-resize",":hover":{zIndex:Ba.MI.gutterHovered}}]),Gp={default:(0,jn.iv)([v.l0.height(24),v.l0.width(2),fl]),active:(0,jn.iv)([v.l0.height("100%"),v.l0.width(1),v.l0.backgroundColor.accentPrimaryDefault]),shared:(0,jn.iv)([v.l0.borderRadius(4),{transitionProperty:"width, height, background-color",transitionTimingFunction:"ease-out"}])},Np=(0,jn.iv)([v.l0.coverContainer,{":hover":{transform:"scaleX(4)"}}]),Op=(0,jn.iv)([v.l0.position.absolute,v.l0.height("200vh"),v.l0.width("200vw"),{pointerEvents:"none"}]);function Mp(){var e=(0,Fa.og)(),n=(0,Fa.TN)(),t=(0,Fa.EU)(),r=(0,Ba.bJ)(),i=(0,ur.T)();return(0,a.BX)(a.HY,{children:[(0,a.BX)(Ap,{css:[Bp,{zIndex:t?r.active:r.normal}],style:{width:e.width,height:e.height,transform:"translate(".concat(e.x,"px, ").concat(e.y,"px)")},onPointerDown:function(e){Da(e,{start:function(){n.start()},move:function(e){var t=e.delta;n.update({deltaX:t.x})},end:function(){n.end()}})},children:[(0,a.tZ)(v.G7,{className:"grip-line",style:{transitionDuration:i?"0s":"".concat(ml(e.height),"s")},css:[t?Gp.active:Gp.default,Gp.shared]}),(0,a.tZ)(v.G7,{css:t?Op:Np})]}),t?(0,a.tZ)(rl.a,{cursor:"ew-resize"}):null]})}var Lp=(0,jn.iv)([v.l0.height("100%"),v.l0.position.absolute,v.l0.top(0),v.l0.left(0),v.l0.flex.row,v.l0.flex.growAndShrink(1),v.l0.overflow("auto")]);function Xp(){var e=(0,id.Or)(),n=0===e,t=(0,Fr.Z)(tr.y.Sidepane),r=$i().isTutorial?null:t;return(0,a.BX)(a.HY,{children:[(0,a.tZ)(v.G7,{css:Lp,style:{width:e,visibility:n?"hidden":void 0},innerRef:r,children:(0,a.tZ)(Up,{})}),(0,a.tZ)(Mp,{})]})}var Fp=(0,l.memo)(Xp),zp=t(39705),Wp=t(2146),jp=t(87138),Hp=new Date("2022-12-01"),Vp=new Date("2022-10-20");function qp(){var e,n=(0,jp.lg)(),t=n.data,r=n.loading,i=n.error,o=(0,Wp.o)("workspace-history-announcement"),l=o.isLoading,c=o.isDone,u=o.setAsDone,s=new Date,d=(null===t||void 0===t||null===(e=t.currentUser)||void 0===e?void 0:e.timeCreated)?new Date(t.currentUser.timeCreated):null;return r||l||c||i||!d||Hp<s||Vp<d?null:(0,a.tZ)(v.u_,{centered:!0,isOpen:!c,onRequestClose:function(){return u()},children:(0,a.BX)(v.G7,{css:[v.l0.colWithGap(16)],children:[(0,a.tZ)(v.xv,{variant:"headerDefault",children:"History in the Workspace"}),(0,a.tZ)(v.xv,{multiline:!0,children:"Now, you can scrub through any file history directly in the workspace. You'll see a History button in the bottom right of any file."}),(0,a.tZ)(v.G7,{css:[v.l0.p(4),v.l0.borderRadius(8),v.l0.backgroundColor.backgroundRoot,{border:"solid 1px ".concat(v.TV.backgroundHigher)}],children:(0,a.tZ)("video",{css:v.l0.borderRadius(8),src:"/public/videos/history-demo-new.mp4",autoPlay:!0,muted:!0,playsInline:!0,loop:!0})}),(0,a.tZ)(v.G7,{css:[v.l0.display.flex,v.l0.align.end],children:(0,a.tZ)(v.zx,{text:"Continue Coding",colorway:"primary",onClick:function(){return u()}})})]})})}function Yp(e){var n=e.src,t=e.autoPlay,r=void 0===t||t,i=e.loop,o=void 0===i||i,l=e.width,c=void 0===l?280:l;return(0,a.tZ)(v.G7,{css:[v.l0.p(4),v.l0.borderRadius(8),v.l0.width(c),v.l0.backgroundColor.backgroundRoot,{border:"solid 1px ".concat(v.TV.outlineDimmest)}],children:(0,a.tZ)("video",{style:{width:"100%"},css:v.l0.borderRadius(8),src:n,autoPlay:r,loop:o,playsInline:!0,muted:!0})})}var $p=function(e){return"/public/videos/workspace-onboarding/".concat(e,".mp4")},Kp={id:"workspace-desktop-new-user-tour",steps:[{id:tr.y.Welcome,isModal:!0,title:"Welcome to the Workspace",content:function(){return(0,a.tZ)(v.G7,{css:[v.l0.maxWidth(400)],children:(0,a.BX)(v.xv,{multiline:!0,children:["The Workspace is where you create projects on Replit. These are called"," ",(0,a.tZ)("strong",{children:"Repls."}),(0,a.tZ)("br",{}),"Let's explore around!"]})})}},{id:tr.y.Editor,title:"Code Editor",content:function(){return(0,a.BX)(v.G7,{css:[v.l0.width("100%"),v.l0.center,v.l0.position.relative],children:[(0,a.tZ)(Yp,{src:$p("editor"),autoPlay:!0,loop:!0}),(0,a.tZ)(v.G7,{css:[v.l0.colWithGap(8),v.l0.width("100%"),v.l0.py(8)],children:(0,a.tZ)(v.xv,{multiline:!0,children:"This is where you write code. The editor helps you by giving you suggestions and coloring your code."})})]})}},{id:tr.y.Examples,title:"Examples",content:"Click on one of these examples to insert into your editor",autoSkipIfNoTarget:!0},{id:tr.y.Run,title:"Run Button",content:function(){return(0,a.BX)(v.G7,{css:[v.l0.width("100%"),v.l0.center,v.l0.position.relative],children:[(0,a.tZ)(Yp,{src:$p("run-button"),autoPlay:!0,loop:!0}),(0,a.tZ)(v.G7,{css:[v.l0.colWithGap(8),v.l0.width("100%"),v.l0.py(8)],children:(0,a.tZ)(v.xv,{multiline:!0,children:"Tap the Run button to \u201crun\u201d your code and see its output."})})]})}},{id:tr.y.Output,title:"Output",content:function(){return(0,a.BX)(v.G7,{css:[v.l0.width("100%"),v.l0.center,v.l0.position.relative],children:[(0,a.tZ)(Yp,{src:$p("output"),autoPlay:!0,loop:!0}),(0,a.tZ)(v.G7,{css:[v.l0.colWithGap(8),v.l0.width("100%"),v.l0.py(8)],children:(0,a.tZ)(v.xv,{multiline:!0,children:"This is where your run output appears. This can be text, websites, games, and more depending on the template you\u2019re using."})})]})}},{id:tr.y.Sidepane,title:"Sidebar",content:function(){return(0,a.BX)(v.G7,{css:[v.l0.width("100%"),v.l0.center,v.l0.position.relative],children:[(0,a.tZ)(Yp,{src:$p("sidebar"),autoPlay:!0,loop:!0}),(0,a.BX)(v.G7,{css:[v.l0.colWithGap(8),v.l0.width("100%"),v.l0.p(8)],children:[(0,a.BX)(v.xv,{multiline:!0,children:[(0,a.tZ)("strong",{children:"Files"})," is where all of your Repl\u2019s code is."]}),(0,a.BX)(v.xv,{multiline:!0,children:[(0,a.tZ)("strong",{children:"Tools"})," is where Packages, Debugger, Chat, Git, and more can be found."]}),(0,a.tZ)(v.xv,{multiline:!0,children:"You can drag and drop any file or tool. All tools open as tabs instead of opening in the sidebar."})]})]})}},{id:tr.y.Share,title:"Invite & Collaborate",content:function(){return(0,a.BX)(v.G7,{css:[v.l0.width("100%"),v.l0.center,v.l0.position.relative],children:[(0,a.tZ)(Yp,{src:$p("invite-multiplayer"),autoPlay:!0,loop:!0}),(0,a.tZ)(v.G7,{css:[v.l0.colWithGap(8),v.l0.width("100%"),v.l0.py(8)],children:(0,a.tZ)(v.xv,{multiline:!0,children:"Invite others to your Repl to collaborate and work together at the same time."})})]})}}]},Qp={id:"workspace-desktop-sidebar-tour",steps:[{id:tr.y.SidebarAnnouncement,title:"The New Workspace",isModal:!0,content:function(){return(0,a.tZ)(v.G7,{css:[v.l0.maxWidth(400)],children:(0,a.tZ)(v.G7,{css:[v.l0.width("100%"),v.l0.py(8)],children:(0,a.tZ)(v.xv,{multiline:!0,children:"If you\u2019re seeing this, that means you get to test the new Workspace redesign. It has a few key differences we want to show you!"})})})}},{id:tr.y.Sidepane,title:"Sidebar",content:function(){return(0,a.BX)(v.G7,{css:[v.l0.width("100%"),v.l0.center,v.l0.position.relative],children:[(0,a.tZ)(Yp,{src:(e="sidebar","/public/videos/workspace-onboarding/".concat(e,".mp4")),autoPlay:!0,loop:!0}),(0,a.BX)(v.G7,{css:[v.l0.colWithGap(8),v.l0.width("100%"),v.l0.p(8)],children:[(0,a.BX)(v.xv,{multiline:!0,children:[(0,a.tZ)("strong",{children:"Files"})," is where all of your Repl\u2019s code is."]}),(0,a.BX)(v.xv,{multiline:!0,children:[(0,a.tZ)("strong",{children:"Tools"})," is where Packages, Debugger, Chat, Git, and more can be found."]}),(0,a.tZ)(v.xv,{multiline:!0,children:"You can drag and drop any file or tool. All tools open as tabs instead of opening in the sidebar."})]})]});var e}},{id:tr.y.SidebarButton,title:"Sidebar Button",content:function(){return(0,a.tZ)(v.G7,{css:[v.l0.width("100%"),v.l0.center,v.l0.position.relative],children:(0,a.tZ)(v.G7,{css:[v.l0.width("100%"),v.l0.py(8)],children:(0,a.tZ)(v.xv,{multiline:!0,children:"Tapping on this quickly opens and closes the entire sidebar."})})})}},{id:tr.y.GlobalNavButton,title:"Navigation Menu",content:function(){return(0,a.tZ)(v.G7,{css:[v.l0.width("100%"),v.l0.center,v.l0.position.relative],children:(0,a.tZ)(v.G7,{css:[v.l0.width("100%"),v.l0.py(8)],children:(0,a.tZ)(v.xv,{multiline:!0,children:"Tapping on this lets you navigate to other pages on Replit."})})})}},{id:tr.y.NotificationsButton,title:"Notifications",content:function(){return(0,a.tZ)(v.G7,{children:(0,a.tZ)(v.G7,{css:[v.l0.width("100%"),v.l0.py(8)],children:(0,a.BX)(v.xv,{multiline:!0,children:["You can access all notifications from this menu."," "]})})})}},{id:tr.y.AvatarButton,title:"Profile Menu",content:function(){return(0,a.tZ)(v.G7,{children:(0,a.tZ)(v.G7,{css:[v.l0.width("100%"),v.l0.py(8)],children:(0,a.tZ)(v.xv,{multiline:!0,children:"You can access your profile and account settings from this menu."})})})}},{id:tr.y.Feedback,title:"That's all!",isModal:!0,content:function(){return(0,a.tZ)(v.G7,{css:[v.l0.maxWidth(400)],children:(0,a.tZ)(v.G7,{css:[v.l0.width("100%"),v.l0.py(8)],children:(0,a.BX)(v.xv,{multiline:!0,children:["This is the start of many more future updates to the Workspace to help increase the flexibility of Replit.",(0,a.tZ)("br",{}),(0,a.tZ)("br",{}),"If you'd like to leave some feedback, you can"," ",(0,a.tZ)("a",{href:"https://replit.com/@tyler/The-New-Workspace?v=1",target:"_blank",children:(0,a.tZ)("strong",{children:"leave a comment on this Repl"})}),". Happy coding!"]})})})}}]};var Jp=t(86518),ef=t(53931),nf={slides:[{title:"Repl Chat Tab",subtitle:"Chat has a new home. Open it from the sidebar or the New Tab menu.",backgroundImage:"/public/images/threads/chat.png",backgroundColor:v.l0.backgroundColor.yellowStrongest,position:"center"},{title:"Inline Threads",subtitle:(0,a.BX)("span",{css:{".shortcut":{gridGap:"var(--space-2)"},".shortcut div":[v.l0.backgroundColor.backgroundHighest,v.l0.color.foregroundDefault,{border:"1px solid var(--outline-default)"}]},children:["Right click code to start a discussion, or select code and use the hotkey"," ",(0,a.tZ)(at.Z,{shortcut:{key:"/",altKey:!0},small:!0})]}),backgroundImage:"/public/images/threads/inline.png",backgroundColor:v.l0.backgroundColor.blurpleStronger,position:"center"},{title:"Threads Inbox Tab",subtitle:"All your threads in one place. Open the inbox from the sidebar or the New Tab menu.",backgroundImage:"/public/images/threads/inbox.png",backgroundColor:v.l0.backgroundColor.blueStronger,position:"center"}],tourId:"threads-2-announcement",date:new Date("2022-11-08")};function tf(){return(0,a.tZ)(ef.Z,{announcement:nf})}function rf(e){var n=e.repl,t=e.currentUser,r=function(e){var n=e.repl,t=(0,u.useRouter)(),r=(0,Et.Z4)();(0,l.useEffect)((function(){r(n.id)}),[n.id,r]);var i=(0,Bt.C)(),o=(0,fn.IY)(),a=(0,po.D)({controlName:"flag-null-diagnostics"}),c=(0,l.useState)(!1),s=c[0],d=c[1];return{services:(0,l.useState)((function(){return(0,Si.Z)({runnerMode:"html"===n.language?"html":"shellrunner",onUnrecoverableError:function(e){if(e.message.toLowerCase().includes("repl not found"))t.push("/home","~/");else{var n={replenvironmentservices:!0,layoutv2:!0};ta.error(e),Ii.Tb(e,{tags:n}),o({error:e,tags:n})}},openFile:i,onFirewallDenied:function(){return d(!0)},enableUserEvents:a})}))[0],ui:(0,l.useState)((function(){return(0,_i.fK)({config:na()})}))[0],isFirewallDenied:s}}({repl:n}),i=r.services,o=r.ui,c=r.isFirewallDenied,s=function(){var e=(0,$c.X)(),n=(0,yt.Z)(e),t=(0,l.useState)(!e),r=t[0],i=t[1],o=Boolean(e&&e.isLoading);return(0,l.useEffect)((function(){if(!o){var e=n.current;e&&i(Boolean(null===e||void 0===e?void 0:e.isDone))}}),[o]),r}();return(0,a.BX)(la,{ui:o,services:i,replId:n.id,replLanguage:n.language,children:[(0,a.tZ)(nr.h,{}),(0,a.tZ)(lu,{}),(0,a.tZ)(Gc.Z,{}),(0,a.tZ)(ki,{repl:n,currentUser:t}),(0,a.tZ)(Kt,{}),(0,a.tZ)(qs,{}),(0,a.tZ)(zs,{repl:n,currentUser:t}),(0,a.tZ)(mu.ZP,{}),(0,a.tZ)(uf,{}),(0,a.tZ)(nu,{container:i.container}),(0,a.tZ)(pu,{}),(0,a.tZ)(vu,{}),s?(0,a.tZ)(qp,{}):null,s?(0,a.tZ)(tf,{}):null,(0,a.tZ)(af,{isMultiplayerSession:n.multiplayers.length>0}),(0,a.tZ)(of,{image:t.image,username:t.username}),(0,a.tZ)(zp.Z,{isOpen:c}),(0,a.tZ)(Js,{})]})}function of(e){var n=e.image,t=e.username,r=(0,i.Z)((0,fn.yF)(),2),o=r[0],c=r[1],u=(0,Et.n7)();return(0,l.useEffect)((function(){o&&u({})}),[o,u]),o?(0,a.tZ)(s.Z,{devHide:function(){return c(null)},eventId:o,currentUserImage:n,currentUserUsername:t}):null}function af(e){var n=function(e){var n=(0,i.Z)(l.useState(!1),2),t=n[0],a=n[1],c=(0,$c.X)(),u=c&&!c.isDone&&!c.isLoading;return l.useEffect((function(){u||e&&"default"===Xc()&&a(!0)}),[e,u]),{shouldShowModal:t,hideModal:l.useCallback((function(){Vc(!0),a(!1)}),[]),confirm:l.useCallback((0,r.Z)((function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return[4,Wc()];case 1:return e.sent(),a(!1),[2]}}))})),[])}}(e.isMultiplayerSession),t=n.shouldShowModal,c=n.hideModal,u=n.confirm;return t?(0,a.tZ)(R,{onCancel:c,onConfirm:u}):null}var lf=v.KD.div,cf=(0,jn.iv)([v.l0.height("calc(100% - ".concat(Sr.Mz,"px)")),v.l0.width("100%"),v.l0.top(Sr.Mz),v.l0.left(0),v.l0.position.absolute]);function uf(){var e=function(){var e=(0,c.b9)(dn.rR),n=(0,l.useRef)(null),t=(0,Bc.Z)((function(t){var r=t.width,i=t.height;if(r&&i&&n.current){var o=n.current.getBoundingClientRect(),a=o.top,l=o.left;e({width:r,height:i,x:l,y:a})}}));return(0,l.useCallback)((function(e){n.current=e,t(e)}),[t])}(),n=(0,c.Dv)(ln.dD),t=(0,c.Dv)(cn.gg),r=(0,c.Dv)(cn.g3),i=(0,c.Dv)(cn.If);return(0,a.tZ)(lf,{ref:e,css:cf,children:n?(0,a.BX)(a.HY,{children:[(0,a.tZ)(Fp,{}),r.map((function(e){return(0,a.tZ)(Tl,{handleId:e},e)})),i.map((function(e){return(0,a.tZ)(Pc,{headerId:e},e)})),t.map((function(e){return(0,a.tZ)(el,{paneId:e},e)})),(0,a.tZ)(Ac,{}),(0,a.tZ)(td,{})]}):null})}var sf=(0,jn.iv)([v.l0.position.fixed,v.l0.top(0),v.l0.left(0),v.l0.height("100%"),v.l0.width("100%")]),df=function(){var e=null,n=(0,u.useRouter)().query;if(!n.replUrl)throw new Error("Expected replUrl to be set");var t=n.replUrl.toString(),r=(0,h.Cd)({variables:{url:t},ssr:Boolean(n.ssr)}),i=r.data,o=r.loading,c=r.error,s=i&&"Repl"===i.repl.__typename?i.repl:null,d=(null===i||void 0===i?void 0:i.currentUser)||void 0,m="https://replit.com".concat(t),g=function(e){if(e){if(e.description)return e.description;var n=f.Z.get(e.language).displayName;return"A ".concat(n," Repl")}}(s),Z=(0,l.useState)(!1),y=Z[0],b=Z[1];(0,l.useEffect)((function(){return b(!0)}),[]),(0,gu.Z)((null===i||void 0===i?void 0:i.repl)||null,t);var w=null;return c?e=(0,a.tZ)(v.G7,{css:[v.l0.center,v.l0.flex.growAndShrink(1)],children:(0,a.tZ)(v.xv,{children:"Something went wrong loading the Repl. Please reload the page and try again."})}):o||!y?e=(0,a.BX)(v.G7,{css:[v.l0.center,v.l0.flex.growAndShrink(1)],children:[(0,a.tZ)(ai,{}),(0,a.tZ)(rd.Z,{height:100})]}):s&&d?(e=(0,a.tZ)(rf,{repl:s,currentUser:d},s.id),w=function(e){var n=e.isLesson,t=e.hasSeenOldWorkspaceTour;return n?null:t?Qp:Kp}({isLesson:Boolean(s.lesson),hasSeenOldWorkspaceTour:d.hasSeenOldWorkspaceTour})):e=(0,a.BX)(v.G7,{css:[v.l0.center,v.l0.flex.growAndShrink(1)],children:[(0,a.tZ)(ai,{}),(0,a.tZ)(rd.Z,{height:100})]}),(0,a.tZ)(cu,{tour:w,children:(0,a.tZ)(T.Z,{children:(0,a.tZ)(p.Z,{dataCy:"workspace-page",title:"".concat((null===s||void 0===s?void 0:s.title)||""),oembedUrl:m,description:g,noHeader:!0,noFooter:!0,forceDrawer:!0,hideSidebar:!0,hideEmailVerify:!0,children:(0,a.BX)(v.Tg,{css:sf,children:[(0,a.tZ)(Jp.g,{}),e]})})})})};df.getInitialProps=function(){var e=(0,r.Z)((function(e){var n,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return n=e.req,t=e.store,[4,(0,d.Z)(n,t)];case 1:return r.sent(),[2,{}]}}))}));return function(n){return e.apply(this,arguments)}}();var pf=df},7900:function(e,n,t){"use strict";t.d(n,{Pc:function(){return b},Pu:function(){return T}});var r=t(26042),i=t(7297),o=t(31230),a=t(21767);function l(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplTemplateMember on TeamMembership {\n    id\n    user {\n      id\n      image\n      username\n      firstName\n      lastName\n    }\n    nickname\n    email\n    permissions\n  }\n"]);return l=function(){return e},e}var c=(0,o.Ps)(l()),u=t(16092),s=t(37887);function d(){var e=(0,i.Z)(["\n  fragment TeamTemplateUser on User {\n    id\n    username\n    displayName\n    fullName\n    image\n    url\n  }\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplSubmission on ReplSubmission {\n    id\n    timeSubmitted\n    timeLastReviewed\n    author {\n      id\n      ...TeamTemplateUser\n    }\n    repl {\n      id\n      title\n      timeCreated\n      template {\n        id\n        dueDate\n      }\n      ...ReplLinkRepl\n    }\n  }\n  ","\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  fragment TeamTemplateSubmissionGroup on ReplSubmissionGroup {\n    submission {\n      id\n      timeSubmitted\n      timeLastReviewed\n      isGroupSubmission\n      repl {\n        id\n        url\n        nextPagePathname\n      }\n    }\n    users {\n      id\n      ...TeamTemplateUser\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function h(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplTemplate on ReplTemplate {\n    id\n    isGroupProject\n    isPublished\n    imageUrl\n    url\n    dueDate\n    repl {\n      id\n    }\n    team {\n      id\n      username\n      displayName\n      members {\n        id\n        ...TeamTemplateReplTemplateMember\n      }\n    }\n    author {\n      id\n      username\n      image\n      ...UserLinkUser\n    }\n    submissions {\n      id\n      ...TeamTemplateReplSubmission\n    }\n    submissionGroups {\n      ...TeamTemplateSubmissionGroup\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return h=function(){return e},e}function v(){var e=(0,i.Z)(["\n  fragment TeamTemplateRepl on Repl {\n    id\n    title\n    slug\n    description\n    ...ReplLinkRepl\n    template {\n      id\n      ...TeamTemplateReplTemplate\n    }\n  }\n  ","\n  ","\n"]);return v=function(){return e},e}function m(){var e=(0,i.Z)(["\n  query TeamTemplate($replUrl: String!) {\n    repl(url: $replUrl) {\n      ... on Repl {\n        id\n        ...TeamTemplateRepl\n      }\n      ... on ReplRedirect {\n        replUrl\n        repl {\n          id\n        }\n      }\n      ... on SubscriptionExpiredError {\n        replId\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}var g={},Z=(0,o.Ps)(d()),y=(0,o.Ps)(p(),Z,a.Y),b=(0,o.Ps)(f(),Z),w=(0,o.Ps)(h(),c,u._,y,b),x=(0,o.Ps)(v(),a.Y,w),R=(0,o.Ps)(m(),x);function T(e){var n=(0,r.Z)({},g,e);return s.a(R,n)}}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[2240,3443,3662,6344,6351,5488,8966,4778,5395,7485,7651,5499,4474,4837,1674,1889,3327,1390,6054,2027,7564,2995,8723,4718,2350,7194,4710,8330,1822,7808,3426,8566,6326,4483,9774,2888,179],(function(){return n(97239),n(60937)}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=replEnvironment2-20522c966eba84d3.js.map
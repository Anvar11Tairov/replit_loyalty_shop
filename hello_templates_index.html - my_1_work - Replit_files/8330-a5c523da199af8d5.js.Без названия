"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8330],{68368:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(35944),i=(t(67294),t(94184)),o=t.n(i),a=t(15085);function c(e){return(0,r.tZ)("div",{className:o()("dialog",{"is-destructive":e.isDestructive}),children:(0,r.BX)(a.G7,{css:[a.l0.colWithGap(24)],children:[(0,r.tZ)(a.h4,{variant:"headerDefault",level:2,children:e.title}),"string"===typeof e.children?(0,r.tZ)(a.xv,{multiline:!0,children:e.children}):e.children,(0,r.BX)(a.G7,{css:[a.l0.rowWithGap(12),a.l0.justify.end],children:[(0,r.tZ)(a.zx,{onClick:e.onCancel,text:"Cancel"}),(0,r.tZ)(a.zx,{colorway:e.isDestructive?"negative":"primary",onClick:e.onConfirm,text:e.confirmLabel||"Confirm"})]})]})})}},92098:function(e,n,t){t.d(n,{Z:function(){return y}});var r=t(35944),i=(t(67294),t(32800)),o=t(49041),a=t(28067),c=t(68548),u=t(1864),l=Array.prototype.concat,s=function(e){return{recursive:!0===e||!!e.recursive,bail:e.bail&&e.bail>0?e.bail:1e3}},d=function(e){return"file"===e.kind},f=function(e){return"function"===typeof e.getAsEntry?e.getAsEntry():e.webkitGetAsEntry?e.webkitGetAsEntry():null},p=function(e){return l.apply([],e)},v=function(e,n,t,r){var i;return i=e.isDirectory?n.recursive?h(e,n,t+1,(0,u.join)(r,e.name)):Promise.resolve([]):function(e){return new Promise((function(n,t){e.file?e.file(n,t):n(null)})).catch((function(){return null}))}(e).then((function(e){return e&&(e.path=(0,u.join)(r,e.name)),e?[e]:[]})),i},h=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.name;return e&&t<n.bail&&e.isDirectory&&e.createReader?new Promise((function(i){e.createReader().readEntries((function(e){return Promise.all(e.map((function(e){return v(e,n,t,r)}))).then((function(e){return i(p(e))}))}),(function(){return i([])}))})):Promise.resolve([])},m=h,g=function(e,n){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m(f(e),s(n))}(e,n).then((function(n){if(!n.length){var t=e.getAsFile();n=t?[t]:n}return n}))};var b={dragDropManager:(0,i.i)((function(e){var n=(0,o.PD)(e),t=n.handleTopDropCapture;return n.handleTopDropCapture=function(e){var r,i=n.monitor.getItemType();i===a.HTML||i===a.TEXT?(n.dropTargetIds=[],null===(r=n.currentNativeSource)||void 0===r||r.loadDataTransfer(e.dataTransfer),n.enterLeaveCounter.reset()):t.call(n,e);n.currentNativeSource&&(n.currentNativeSource.item.dirContent=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=s(n),new Promise((function(t){var r,i;(null===e||void 0===e||null===(r=e.dataTransfer)||void 0===r?void 0:r.items)?Promise.all(p(e.dataTransfer.items).filter((function(e){return d(e)})).map((function(e){return g(e,n)}))).then((function(e){return t(p(e))})):(null===e||void 0===e||null===(i=e.dataTransfer)||void 0===i?void 0:i.files)?t(p(e.dataTransfer.files)):t([])}))}(e,{recursive:!0}))},n}))};function y(e){return(0,r.tZ)(c.L.Provider,{value:b,children:e.children})}},62794:function(e,n,t){var r=t(10253),i=t(35944),o=t(67294),a=t(48821),c=t(1879),u=t(69346),l=t(10164),s=t(81255),d=t(1144);n.Z=function(e){var n=e.feature,t=(0,r.Z)(o.useState(!1),2),f=t[0],p=t[1];return(0,i.BX)(i.HY,{children:[(0,i.tZ)(u.Z,{onClick:function(){return p(!f)},children:(0,i.tZ)(d.x,{css:[s.l0.fontSize("inherit"),s.l0.color.accentPrimaryStronger,s.l0.cursor.pointer,{":hover":{color:s.TV.accentPrimaryStrongest}}],children:"Share feedback"})}),(0,i.tZ)(a.b5,{children:(0,i.tZ)(c.Z,{isOpen:f,onRequestClose:function(){p(!1)},children:(0,i.tZ)(l.Z,{setFeedbackFormOpen:p,feature:n})})})]})}},56724:function(e,n,t){t.d(n,{d:function(){return s}});var r=t(26042),i=t(7297),o=t(31230),a=t(37887);function c(){var e=(0,i.Z)(["\n  query CurrentUserId {\n    currentUser {\n      id\n    }\n  }\n"]);return c=function(){return e},e}var u={},l=(0,o.Ps)(c());function s(){var e,n=function(e){var n=(0,r.Z)({},u,e);return a.a(l,n)}().data;return(null===n||void 0===n||null===(e=n.currentUser)||void 0===e?void 0:e.id)||null}},30758:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(67294);function i(e){var n=(0,r.useState)(!1),t=n[0],i=n[1],o=(0,r.useRef)(0),a=(0,r.useMemo)((function(){return{onDragEnter:function(e){e.preventDefault(),o.current++,i(!0)},onDragLeave:function(e){e.preventDefault(),o.current--,0===o.current&&i(!1)},onDrop:function(n){var t,r;n.preventDefault(),o.current=0,i(!1),n.persist();var a=Array.from(null!==(r=null===n||void 0===n||null===(t=n.dataTransfer)||void 0===t?void 0:t.files)&&void 0!==r?r:[]);0!==a.length?e(a):e(null)},onDragOver:function(e){e.preventDefault()}}}),[e]);return[t,a]}},60459:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(47568),i=t(10253),o=t(70655),a=t(67294),c=t(62722);function u(e){var n=e.onUploadPreview,t=e.onUpload,u=e.onError,l=(0,i.Z)(a.useState(!1),2),s=l[0],d=l[1],f=a.useCallback(function(){var e=(0,r.Z)((function(e,r){var i,a,l,s,f,p,v;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:d(!0),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,c.o1)(e)];case 2:return i=o.sent(),[3,4];case 3:return o.sent(),u(new Error("This image is over the ".concat(c.bq/1e6,"MB maximum"))),[2,!1];case 4:n({dataUrl:i}),a=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,(0,c.mh)(i,r)];case 6:return a=o.sent(),[3,8];case 7:return l=o.sent(),s=l.message.toLowerCase().includes("entity too large")?"This image is over the 1mb maximum":"Something went wrong",u(new Error(s)),[2,!1];case 8:if(f=a.id,p=a.url,"number"!==typeof f)throw new Error("Expected id");if("string"!==typeof p)throw new Error("Expected url");d(!1),o.label=9;case 9:return o.trys.push([9,11,,12]),[4,t({id:f,url:p})];case 10:return o.sent(),[3,12];case 11:return v=o.sent(),u(v),[2,!1];case 12:return[2,!0]}}))}));return function(n,t){return e.apply(this,arguments)}}(),[u,t,n]);return{isLoading:s,uploadImage:f}}},68122:function(e,n,t){var r=t(10253),i=t(67294);n.Z=function(e){var n=(0,r.Z)(i.useState((function(){return e?e.current:null})),2),t=n[0],o=n[1];return i.useEffect((function(){if(o((function(){return e?e.current:null})),e)return e.subscribe((function(e){return o((function(){return e}))}))}),[e]),t}},76216:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(67294),i=t(35621);function o(){var e=r.useContext(i.Z);if(!e)throw new Error("Expected Repl info to be in context");return e.language}},98146:function(e,n,t){t.d(n,{$0:function(){return r.$},hd:function(){return i.hd},su:function(){return r.s}});var r=t(46808),i=t(53144)},48506:function(e,n,t){function r(e){var n=e.trim();return 0===n.length||n.startsWith("#")}function i(e,n){return e.split(n).length-1}function o(e){if(!e.includes("#"))return e;var n=e.split("#"),t=!1,r=[],o=!0,a=!1,c=void 0;try{for(var u,l=n[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;(1===i(s,'"')||i(s,"'"))&&(t?(t=!1,r.push(s)):t=!0),(0===r.length||t)&&r.push(s)}}catch(d){a=!0,c=d}finally{try{o||null==l.return||l.return()}finally{if(a)throw c}}return r.join("#")}function a(e,n){var t=e.trim();if(0===t.length)return t;var r=t.length-1,i='"'===t[0]&&'"'===t[r],o="'"===t[0]&&"'"===t[r];return(o||i)&&(t=t.slice(1,-1)),i&&(t=(t=t.replace(/\\./g,(function(e){return"\\n"===e?"\n":"\\r"===e?"\r":e}))).replace(/\\([^$])/g,"$1")),o||(t=t.replace(/(\\)?(\$)(\()?\{?([A-Z0-9_]+)?\}?/g,(function(e){var t=e.match(/(\\)?(\$)(\()?\{?([A-Z0-9_]+)?\}?/);if(null===t)return e;if("\\"===t[1]||"("===t[2])return t[0].slice(1);var r=t[4];return""!==r?n[r]||"":e}))),t}t.d(n,{Z:function(){return u}});var c=t(10253);var u={parse:function(e){var n={},t=e.split(/\n|\r|\r\n/),i=!0,c=!1,u=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var d=l.value;if(!r(d)){var f=(d=o(d)).indexOf("="),p=d.indexOf(":");if(-1!==p||-1!==f){var v=f;-1!==p&&(p<f||-1===f)&&(v=p);var h=d.slice(0,v).replace(/^\s*(?:export\s+)?(.*?)\s*$/,"$1"),m=a(d.slice(v+1),n);n[h]=m}}}}catch(g){c=!0,u=g}finally{try{i||null==s.return||s.return()}finally{if(c)throw u}}return n},serialize:function(e){return Object.entries(e).reduce((function(e,n){var t=(0,c.Z)(n,2),r=t[0],i=t[1].replace(/\\([^$])/g,"\\\\$1").replace(/\$/g,"\\\\$$").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r");return e+="".concat(r,'="').concat(i,'"\n')}),"")}}},83241:function(e,n){n.Z={sandbox:"allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox allow-modals allow-downloads allow-downloads-without-user-activation allow-presentation allow-orientation-lock allow-scripts",allow:"accelerometer; ambient-light-sensor; autoplay; battery; camera; display-capture; encrypted-media; execution-while-not-rendered; execution-while-out-of-viewport; fullscreen; gamepad; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; navigation-override; oversized-images; payment; picture-in-picture; publickey-credentials; speaker-selection; sync-xhr; unoptimized-images; unsized-media; usb; screen-wake-lock; web-share; xr-spatial-tracking",allowFullScreen:!0,allowTransparency:!0,allowpaymentrequest:!0}},62722:function(e,n,t){t.d(n,{W9:function(){return f},bq:function(){return c},mh:function(){return s},o1:function(){return u}});var r=t(47568),i=t(70655),o=t(15794),a=t(32703),c=1e7;function u(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)((function(e){var n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,a.L0)(e)];case 1:if(n=t.sent(),e.size>c)throw new Error("This image is over the ".concat(c/1e6,"MB maximum"));if(!n)throw new Error("Expected file");return[2,n]}}))}))).apply(this,arguments)}function s(e,n){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)((function(e,n){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,o.uz)("/data/images/upload",{image:e,context:n})];case 1:return[2,t.sent()]}}))}))).apply(this,arguments)}var f=["image/png","image/jpeg","image/gif","image/webp"]},32703:function(e,n,t){t.d(n,{L0:function(){return u},Xy:function(){return a},pV:function(){return c}});var r,i=t(82670);!function(e){e.ArrayBuffer="ARRAY_BUFFER",e.BinaryString="BINARY_STRING",e.DataURL="DATA_URL",e.Text="TEXT"}(r||(r={}));var o=function(e,n){return(0,i.Z)(e,window.File)?new Promise((function(t,i){var o=new window.FileReader;switch(o.onload=function(n){var r;(null===(r=n.target)||void 0===r?void 0:r.result)?t(n.target.result):i(new Error('Failed to read file "'.concat(e.name,'"')))},o.onerror=i,n){case r.ArrayBuffer:o.readAsArrayBuffer(e);break;case r.BinaryString:o.readAsBinaryString(e);break;case r.DataURL:o.readAsDataURL(e);break;case r.Text:o.readAsText(e)}})):Promise.all(Array.from(e).filter((function(e){return!!e})).map((function(e){return o(e,n)})))},a=function(e){return o(e,r.Text)},c=function(e){return o(e,r.ArrayBuffer)},u=function(e){return o(e,r.DataURL)}},42456:function(e,n,t){t.d(n,{A:function(){return u},Z:function(){return c}});var r=t(67294),i=t(91131),o=t(64824),a=t(95068);function c(){return(0,i.Dv)(a.EP)}function u(){return(0,o.lV)((0,r.useCallback)((function(e){return e(a.EP)}),[]))}},95068:function(e,n,t){t.d(n,{EP:function(){return p},MI:function(){return Z},Md:function(){return v},QP:function(){return b},S6:function(){return h},Sg:function(){return y},_E:function(){return s},dD:function(){return w},g4:function(){return d},jM:function(){return x},yv:function(){return f}});var r=t(10253),i=t(29815),o=t(91131),a=t(18172),c=t(48551),u=t(54992),l=t(12727),s=(0,o.cn)(!0),d=(0,o.cn)({tiling:null,floating:[]}),f=(0,o.cn)([]),p=(0,o.cn)((function(e){var n=e(f),t=e(b);return t?n.filter((function(e){return e!==t})):n})),v=(0,o.cn)(null),h=(0,o.cn)((function(e){return e(l.Eh).filter((function(n){return(0,u.KM)(e(n.data))}))})),m=(0,o.cn)((function(e){return e(h).filter((function(e){return!e.isHidden}))})),g=(0,o.cn)((function(e){var n=(0,r.Z)(e(f),1)[0];return n&&e(m).find((function(t){var r=e(t.data);return!!(0,u.KM)(r)&&(0,u.DQ)(r)===n}))||null})),b=(0,o.cn)((function(e){var n=e(g);if(!n)return null;var t=e(n.data);return(0,u.DQ)(t)})),y=(0,o.cn)(null,(function(e,n,t){n(f,(function(e){return[t].concat((0,i.Z)(e.filter((function(e){return e!==t})))).slice(0,6)})),(0,c.gK)(t)&&n(v,t)})),x=(0,o.cn)(null,(function(e,n,t){n(f,(function(e){return e.filter((function(e){return e!==t}))})),e(v)===t&&n(v,null)})),Z=(0,o.cn)(null,(function(e,n,t){var r=e(f),i=r.indexOf(t.from);i>-1&&n(f,(0,a.ZP)(r,(function(e){e.splice(i,1,t.to)}))),e(v)===t.from&&n(v,t.to)})),w=(0,o.cn)((function(e){var n=e(l.CK);return Boolean(n.width&&n.height)}))},12727:function(e,n,t){t.d(n,{CK:function(){return x},Eh:function(){return m},If:function(){return d},M0:function(){return y},WA:function(){return u},X2:function(){return l},Xs:function(){return b},g3:function(){return s},gg:function(){return f},vA:function(){return Z},vv:function(){return g},z:function(){return h},z2:function(){return w}});var r=t(26042),i=t(29815),o=t(91131),a=t(64824),c=t(21131),u=(0,o.cn)([]),l=(0,o.cn)([]),s=(0,o.cn)([]),d=(0,o.cn)([]),f=(0,o.cn)((function(e){var n=(0,i.Z)(e(u)),t=(0,i.Z)(e(l));return(0,i.Z)(n).concat((0,i.Z)(t))})),p={x:0,y:0,width:0,height:0},v={type:"commands",data:{autoFocus:!1}};var h=(0,a.xu)((function(e){return(0,o.cn)(function(e){return{paneId:e,type:"tile",rectAtom:(0,o.cn)((0,r.Z)({},p)),data:(0,o.cn)((0,r.Z)({},v)),isHidden:!1,isDialog:!1}}(e))})),m=(0,o.cn)((function(e){return e(f).map((function(n){return e(h(n))}))})),g=(0,a.xu)((function(e){return(0,o.cn)(function(e){return{handleId:e,rect:p,stacked:!1,parentPath:["tiling"],leftPath:["tiling"],rightPath:["tiling"]}}(e))})),b=(0,a.xu)((function(e){return(0,o.cn)({id:e,rectAtom:(0,o.cn)((0,r.Z)({},p)),panes:[],path:["tiling"],activeIndex:0})})),y=(0,o.cn)((function(){return 36})),x=(0,o.cn)({x:0,y:0,width:0,height:0}),Z=(0,o.cn)(null,(function(e,n){e(f).forEach(h.remove),e(s).forEach(g.remove),e(d).forEach(b.remove),n(u,[]),n(l,[]),n(s,[]),n(d,[]),n(x,{x:0,y:0,width:0,height:0})}));function w(e){var n=(0,c.Z)((function(){return(0,o.cn)((function(n){return n(m).find((function(t){return!t.isHidden&&n(t.data).type===e}))}))}),[e]);return(0,o.Dv)(n)}},29359:function(e,n,t){t.d(n,{sI:function(){return s},wP:function(){return f}});var r=t(26042),i=t(7297),o=t(31230),a=t(50319);function c(){var e=(0,i.Z)(["\n  fragment ReplViewerOutputOverlayRepl on Repl {\n    id\n    title\n    imageUrl\n    lastPublishedAt\n    currentUserPermissions {\n      changeImageUrl\n    }\n  }\n"]);return c=function(){return e},e}function u(){var e=(0,i.Z)(["\n  mutation ReplViewerOutputOverlayUpdateRepl($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        imageUrl\n      }\n    }\n  }\n"]);return u=function(){return e},e}var l={},s=(0,o.Ps)(c()),d=(0,o.Ps)(u());function f(e){var n=(0,r.Z)({},l,e);return a.D(d,n)}},41307:function(e,n,t){t.d(n,{Z:function(){return j},y:function(){return P}});var r=t(26042),i=t(69396),o=t(10253),a=t(35944),c=t(67294),u=t(30758),l=t(81255),s=t(69346),d=t(61756),f=t(57704),p=t(68368),v=t(1879),h=t(29359),m=t(60459),g=t(29163),b=t(62913),y=t(70917),x=t(1144),Z=t(49619),w=t(62722),k=t(7657),C=t(15833),D=t(8633),E=(0,y.iv)({position:"absolute",top:0,left:0,width:"100%",height:"100%"});function P(e){var n=e.src,t=e.alt;return(0,a.BX)(s.Z,{css:[E,{borderBottomLeftRadius:8,borderBottomRightRadius:8,overflow:"hidden"}],children:[(0,a.tZ)(b.Z,{objectFit:"cover",layout:"fill",src:n,alt:t}),(0,a.tZ)(s.Z,{css:[E,{background:"radial-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.6))",backgroundRepeat:"no-repeat"}]})]})}function R(e){var n=e.onClick;return(0,a.tZ)(s.Z,{onClick:n,css:[E,l.l0.center,{":hover > svg":{transform:"scale(1.2)"},"> svg":{transition:"transform 200ms",width:64,height:"auto",cursor:"pointer",filter:l.TV.shadowDefault}}],children:(0,a.tZ)(D.Z,{color:l.TV.white})})}function N(e){var n=e.isPublished,t=e.onChangeClick,r=e.onRemoveClick,i=(0,o.Z)(c.useState(!1),2),u=i[0],h=i[1];return(0,a.BX)(s.Z,{css:[l.l0.rowWithGap(8),l.l0.align.center],children:[(0,a.tZ)(d.ZP,{onClick:function(e){e.stopPropagation(),t()},text:"Change image"}),n?(0,a.tZ)(g.Z,{alt:"Cannot remove cover image of a published Repl",disabled:!0,colorway:"negative",children:(0,a.tZ)(f.Z,{})}):null,n?null:(0,a.tZ)(s.Z,{children:(0,a.tZ)(g.Z,{alt:"Remove Image",colorway:"negative",onClick:function(){h(!0)},children:(0,a.tZ)(f.Z,{})})}),(0,a.tZ)(v.Z,{isOpen:u,onRequestClose:function(){return h(!1)},children:(0,a.tZ)(p.Z,{confirmLabel:"Yes, remove this image",title:"Remove image",isDestructive:!0,onConfirm:function(){r(),h(!1)},onCancel:function(){return h(!1)},children:"This will remove your Repl\u2019s cover image. You can always add one back at any time."})})]})}function T(e){var n=e.onClick,t=e.isActive;return(0,a.BX)(s.Z,{css:[l.l0.colWithGap(16),l.l0.center],children:[(0,a.BX)(s.Z,{css:[l.l0.colWithGap(8),l.l0.center],children:[(0,a.tZ)(s.Z,{css:[{"> svg":{width:44,height:"auto"}},t&&{color:l.TV.accentPrimaryDefault}],children:(0,a.tZ)(Z.Z,{})}),(0,a.tZ)(x.x,{children:"Drag and drop a cover image"})]}),(0,a.tZ)(s.Z,{children:(0,a.tZ)(d.ZP,{onClick:n,iconLeft:(0,a.tZ)(C.Z,{}),colorway:"primary",text:"Or select a file"})})]})}function j(e){var n=e.onClick,t=e.repl,d=function(e){if(null!==e&&0!==e.length){var n=e.find((function(e){return e.type.startsWith("image/")}));n?(g(null),Z.uploadImage(n,k.N.ReplCoverImage)):g("Expected an image file")}},f=c.useRef(null),p=(0,o.Z)(c.useState(null),2),v=p[0],g=p[1],b=(0,o.Z)(c.useState(t.imageUrl),2),y=b[0],x=b[1],Z=(0,m.Z)({onUpload:function(e){var n=e.url;C({variables:{input:{id:t.id,imageUrl:n}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:(0,i.Z)((0,r.Z)({},t),{imageUrl:n})}}})},onUploadPreview:function(e){var n=e.dataUrl;x(n)},onError:function(e){g(e.message)}}),C=(0,o.Z)((0,h.wP)({onCompleted:function(e){g(null),x(e.updateRepl.repl.imageUrl)}}),1)[0],D=t.currentUserPermissions.changeImageUrl,E=(0,o.Z)((0,u.Z)(d),2),j=E[0],S=E[1],F=!y&&D;return(0,a.BX)(s.Z,(0,i.Z)((0,r.Z)({css:[l.l0.center,l.l0.flex.growAndShrink(1),!F&&{backgroundColor:l.TV.black},{borderBottomLeftRadius:8,borderBottomRightRadius:8,position:"relative",":hover .image-controls":{opacity:1}}]},S),{children:[y?(0,a.tZ)(P,{src:y,alt:t.title}):null,F?null:(0,a.tZ)(R,{onClick:n}),y&&D?(0,a.BX)(s.Z,{className:"image-controls",css:[{position:"absolute",top:l.TV.space8,right:l.TV.space8,opacity:0,".is-touch-device &":{opacity:1}}],children:[(0,a.tZ)(N,{onChangeClick:function(){var e;null===(e=f.current)||void 0===e||e.click()},onRemoveClick:function(){C({variables:{input:{id:t.id,imageUrl:null}}})},isPublished:Boolean(t.lastPublishedAt)}),v?(0,a.tZ)("div",{className:"error",children:v}):null]}):null,F?(0,a.tZ)(T,{isActive:j,onClick:function(){var e;null===(e=f.current)||void 0===e||e.click()}}):null,D?(0,a.tZ)("input",{css:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},ref:f,accept:w.W9.join(","),type:"file",onChange:function(e){var n=e.target,t=n.validity,r=n.files;t.valid&&d(r?Array.from(r):null)}}):null]}))}},77402:function(e,n,t){t.d(n,{D:function(){return r},V:function(){return o}});var r,i=t(48551);function o(e){return(0,i.gK)(e)?r.Markdown:(0,i.sL)(e)?r.Draw:(0,i.IQ)(e)?r.Pedit:(0,i.T3)(e)?r.Media:r.Code}!function(e){e.Media="Media",e.Code="Code",e.Markdown="Markdown",e.Draw="Draw",e.Pedit="Pedit"}(r||(r={}))},69183:function(e,n,t){t.d(n,{MF:function(){return u},TI:function(){return c},lv:function(){return d},uC:function(){return l},yb:function(){return s}});var r=t(15519),i=t(48551),o=t(31066),a=t(30345);function c(e){var n=e.split("/")[0];return n===o.oh||n===o.AS}function u(e){return".env"===e||".breakpoints"===e||".cache"===e||e.startsWith(".cache/")}function l(e){return a.nh.includes(e)}function s(e,n){return Boolean(n&&r.Z.isLangFileBinary(n,e))}function d(e,n){if(!n)return!1;var t=(0,i.Xz)(e),r=!0,o=!1,a=void 0;try{for(var c,u=n[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var l=c.value;if(e.match(l))return!0;var s=!0,d=!1,f=void 0;try{for(var p,v=t[Symbol.iterator]();!(s=(p=v.next()).done);s=!0){if(p.value.match(l))return!0}}catch(h){d=!0,f=h}finally{try{s||null==v.return||v.return()}finally{if(d)throw f}}}}catch(h){o=!0,a=h}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return!1}},64926:function(e,n,t){t.d(n,{Z:function(){return f}});var r,i=t(47568),o=t(10253),a=t(70655),c=t(5133),u=t(92876),l=t(50055),s=t(54098),d=t.n(s);function f(e){var n=e.container,t=e.dotReplit,s=function(){if(v)throw new Error("Already called open channel");v=!0,n.openChannel({service:"packager3",name:"packager"},(function(e){var n=e.channel;if(!e.error){if(!n)throw new Error("Expected channel");return n.onCommand((function(e){if(null!=e.state){var n=e.state===l.api.State.Running;f.emit(r.STATE_CHANGED,n)}else null!=e.output?f.emit(r.OUTPUT,e.output):null!=e.error&&f.emit(r.ERROR,e.error)})),p=n,f.emit(r.CHANNEL_OPENED,n),function(){p=null}}}))},f=(0,c.ZP)(),p=null,v=!1;function h(){return m.apply(this,arguments)}function m(){return(m=(0,i.Z)((function(){return(0,a.__generator)(this,(function(e){return v||s(),p&&"open"===p.status?[2,p]:[2,new Promise((function(e){f.once(r.CHANNEL_OPENED,(function(n){e(n)}))}))]}))}))).apply(this,arguments)}function g(){return b.apply(this,arguments)}function b(){return b=(0,i.Z)((function(){return(0,a.__generator)(this,(function(e){return[2,new Promise((function(e,t){var r=!1,i=n.openChannel({service:"packager3"},(function(n){var o=n.channel,a=n.error;if(r)throw new Error("getAnonymousChannel fulfilled but openChannelCb called again");if(!a)return e([o,i]),function(e){e.willReconnect&&i(),r||(r=!0,t(new Error("Expected getAnonymousChannel promise to be fulfilled when closing")))};t(a)}))}))]}))})),b.apply(this,arguments)}return{addPackages:function(e){return(0,i.Z)((function(){var n,t,r;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return[4,h()];case 1:return n=i.sent(),t=e.map((function(e){return{name:e.name,spec:e.version}})),[4,n.request({packageAdd:{pkgs:t}})];case 2:return(r=i.sent()).channelClosed?[2,!1]:[2,Boolean(r.ok)]}}))}))()},removePackages:function(e){return(0,i.Z)((function(){var n,t,r;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return[4,h()];case 1:return n=i.sent(),t=e.map((function(e){return{name:e}})),[4,n.request({packageRemove:{pkgs:t}})];case 2:return(r=i.sent()).channelClosed?[2,!1]:[2,Boolean(r.ok)]}}))}))()},searchPackages:function(e){return(0,i.Z)((function(){var r,i,c,l,s,f,p,v,h,m;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,t.getConfig()];case 1:if((null===(f=null!==(s=null===(r=a.sent())||void 0===r||null===(i=r.config)||void 0===i||null===(c=i.packager)||void 0===c?void 0:c.language)&&void 0!==s?s:null===(l=n.getContext())||void 0===l?void 0:l.repl.language)||void 0===f?void 0:f.includes("python"))||"pygame"===f)try{return[2,d()("https://pipsearch.util.repl.co/search?name="+encodeURIComponent(e),{mode:"cors"}).then((function(e){return e.json()}))]}catch(b){return u.Tb(b),[2,[]]}return[4,g()];case 2:return p=o.Z.apply(void 0,[a.sent(),2]),v=p[0],h=p[1],[4,v.request({packageSearch:{query:e}})];case 3:return(m=a.sent()).channelClosed?[2,[]]:(h(),"packageSearchResp"===m.body&&m.packageSearchResp?[2,m.packageSearchResp.results||[]]:(u.Tb(new Error("Unknown packager3 command ".concat(m.body,". ")+"Expected packageSearchResp. Received error: ".concat(m.error))),[2,[]]))}}))}))()},fetchPackageInfo:function(e){return(0,i.Z)((function(){var n,t,r,i;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,g()];case 1:return n=o.Z.apply(void 0,[a.sent(),2]),t=n[0],r=n[1],[4,t.request({packageInfo:{pkg:{name:e}}})];case 2:return(i=a.sent()).channelClosed?[2,void 0]:(r(),"packageInfoResp"===i.body&&i.packageInfoResp?[2,i.packageInfoResp.pkg||void 0]:(u.Tb(new Error("Unknown packager3 command ".concat(i.body,". ")+"Expected packageInfoResp. Received error: ".concat(i.error))),[2,void 0]))}}))}))()},installPackages:function(){return(0,i.Z)((function(){var e;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,h()];case 1:return[4,n.sent().request({packageInstall:{}})];case 2:return(e=n.sent()).channelClosed?[2,!1]:[2,Boolean(e.ok)]}}))}))()},listSpecfile:function(){return(0,i.Z)((function(){var e,n,t,r,i,c,l;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,g()];case 1:return e=o.Z.apply(void 0,[a.sent(),2]),n=e[0],t=e[1],[4,n.request({packageListSpecfile:{}})];case 2:if((r=a.sent()).channelClosed)return[2,{packages:null,error:"channel closed"}];switch(t(),r.body){case"error":return[2,{packages:null,error:"list specfile failed: ".concat(r.error)}];case"packageListSpecfileResp":return(c=null===(i=r.packageListSpecfileResp)||void 0===i?void 0:i.pkgs)?[2,{packages:c,error:null}]:[2,{packages:null,error:"list specfile returned an empty response"}];default:return l="Unknown packager3 listSpecFile command ".concat(r.body,". ")+"Expected error or packageListSpecfileResp",u.Tb(new Error(l)),[2,{packages:null,error:l}]}return[2]}}))}))()},onOutput:function(e){return f.on(r.OUTPUT,e),function(){f.removeListener(r.OUTPUT,e)}},onError:function(e){return f.on(r.ERROR,e),function(){f.removeListener(r.ERROR,e)}},onStateChanged:function(e){return f.on(r.STATE_CHANGED,e),function(){f.removeListener(r.STATE_CHANGED,e)}}}}!function(e){e.OUTPUT="OUTPUT",e.ERROR="ERROR",e.STATE_CHANGED="STATE_CHANGED",e.CHANNEL_OPENED="CHANNEL_OPENED"}(r||(r={}))},58502:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(10253),i=t(67294);function o(e){var n=e.presence,t=(0,r.Z)(i.useState(n.getActiveUsers()),2),o=t[0],a=t[1];return i.useEffect((function(){return a(n.getActiveUsers()),n.onActiveUsersChange((function(e){return a(e)}))}),[n]),o}},39791:function(e,n,t){var r=t(47568),i=t(70655),o=t(15519),a=function(){var e=(0,r.Z)((function(e,n){var t,r,a,c;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(t=e.getContext())?o.Z.supportsPackager3(t.repl.language)?[2,!0]:t.repl.language.startsWith("nix")?[4,n.getConfig()]:[3,2]:[2,!1];case 1:if(null===(c=i.sent().config)||void 0===c||null===(r=c.packager)||void 0===r||null===(a=r.features)||void 0===a?void 0:a.guessImports)return[2,!0];i.label=2;case 2:return[2,!1]}}))}));return function(n,t){return e.apply(this,arguments)}}();n.Z=a},37806:function(e,n,t){t.d(n,{IY:function(){return u},xm:function(){return c},yF:function(){return a}});var r=t(91131),i=t(75192),o=(0,r.cn)(null);function a(){return(0,r.KO)(o)}var c=(0,r.cn)(null,(function(e,n,t){var r=t.error,a=t.tags,c=t.extras,u=(0,i.Qw)(r,{tags:a,extras:c});n(o,u)}));function u(){return(0,r.b9)(c)}},68928:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(35944),i=(t(67294),t(24561)),o=t(93160),a=t(81255),c=t(70917),u=t(42895),l=(0,c.F4)({"0%":{opacity:0},"100%":{opacity:.5}}),s=(0,c.iv)([a.l0.p(16),{overflow:"hidden",height:"100%",width:"100%","> svg":{opacity:0,animation:"".concat(l," ease 0s forwards"),animationDelay:"400ms",maxWidth:640,minWidth:500,height:"auto"},"@media (min-width: 900px)":a.l0.pl(32)}]);function d(){var e=(0,u.T)();return(0,r.tZ)(o.Z,{background:"default",css:s,children:(0,r.BX)(i.ZP,{animate:!e,speed:2,backgroundColor:a.TV.backgroundHighest,foregroundColor:a.TV.backgroundHigher,uniqueKey:"editorLoader",children:[(0,r.tZ)("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"70",height:"10"}),(0,r.tZ)("rect",{x:"80",y:"0",rx:"3",ry:"3",width:"100",height:"10"}),(0,r.tZ)("rect",{x:"190",y:"0",rx:"3",ry:"3",width:"10",height:"10"}),(0,r.tZ)("rect",{x:"15",y:"20",rx:"3",ry:"3",width:"130",height:"10"}),(0,r.tZ)("rect",{x:"155",y:"20",rx:"3",ry:"3",width:"130",height:"10"}),(0,r.tZ)("rect",{x:"15",y:"40",rx:"3",ry:"3",width:"90",height:"10"}),(0,r.tZ)("rect",{x:"115",y:"40",rx:"3",ry:"3",width:"60",height:"10"}),(0,r.tZ)("rect",{x:"185",y:"40",rx:"3",ry:"3",width:"60",height:"10"}),(0,r.tZ)("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"30",height:"10"}),(0,r.tZ)("rect",{x:"15",y:"80",rx:"3",ry:"3",width:"70",height:"10"}),(0,r.tZ)("rect",{x:"95",y:"80",rx:"3",ry:"3",width:"60",height:"10"}),(0,r.tZ)("rect",{x:"165",y:"80",rx:"3",ry:"3",width:"30",height:"10"}),(0,r.tZ)("rect",{x:"15",y:"100",rx:"3",ry:"3",width:"110",height:"10"}),(0,r.tZ)("rect",{x:"135",y:"100",rx:"3",ry:"3",width:"100",height:"10"}),(0,r.tZ)("rect",{x:"0",y:"120",rx:"3",ry:"3",width:"70",height:"10"})]})})}},34115:function(e,n,t){function r(e){var n="For example, here is a code block in ".concat(e);switch(e){case"python3":return"".concat(n,'\n```python\ndef hello_world():\n  print("hello world!")\n```\n');case"java10":return"".concat(n,'\n```java\npublic class Main {\n  public static void main(String[] args) {\n    System.out.println("hello world");\n  }\n}\n```\n');case"html":return"".concat(n,"\n```python\n<html>\n<body>\n  <h1>hello world</h1>\n</body>\n</html>\n``")}return""}function i(e){var n=e.language;return"# Lesson plan\n  \n  ** this file should contain teacher lesson plan details ** \n\n  __ students will never see this __\n\n  ## Learning Objectives\n  1. \n  2. \n  3. \n\n  Use [Markdown](https://gist.github.com/cuonggt/9b7d08a597b167299f0d) to format your lesson plan.\n\n  ".concat(r(n),"\n  ")}function o(e){var n=e.language;return"# Instructions  \n\n  ** this file should contain student lesson instructions **\n\n  _ students will see these instructions in a read-only workspace tab _\n\n  ## Steps\n  1. \n  2. \n  3. \n\n  Use [Markdown](https://gist.github.com/cuonggt/9b7d08a597b167299f0d) to format your instructions.\n\n  ".concat(r(n),"\n  ")}t.d(n,{G:function(){return i},K:function(){return o}})},6292:function(e,n,t){t.d(n,{Z:function(){return Me}});var r=t(26042),i=t(69396),o=t(10253),a=t(29815),c=t(35944),u=t(87603),l=t.n(u),s=t(67294),d=t(94184),f=t.n(d),p=t(17694),v=t(30345),h=t(76198),m=t(65456),g=t(31066),b=t(38935),y=t(79500),x=t(1879),Z=t(93058),w=t(15085);function k(e){var n=e.activeUsers,t=e.visibleNumOfUsers,r=void 0===t?3:t,i=n.length,o=n[i-1],a=function(){return(0,c.BX)(w.G7,{css:[w.l0.flex.row,{transform:"translateX(0)"}],children:[n.slice(0,r-1).map((function(e,n){return(0,c.tZ)(w.qE,{size:24,src:e.image||null,ringColor:e.color,username:e.username,css:{marginLeft:1===i?0:-10,zIndex:10*n,cursor:"default"}},o.id)})),i===r&&(0,c.tZ)(w.qE,{size:24,src:o.image||null,ringColor:o.color,username:o.username,css:{marginLeft:-10,zIndex:10*r}},o.id),i>r&&(0,c.tZ)(w.G7,{css:[w.l0.width(w.TV.space24),w.l0.height(w.TV.space24),w.l0.center,w.l0.overflow("hidden"),w.l0.backgroundColor.backgroundDefault,w.l0.color.foregroundDimmer,w.l0.cursor.pointer,{borderRadius:"50%",marginLeft:-10,zIndex:10*(r+1)}],children:(0,c.BX)(w.xv,{variant:"small",children:["+",n.length-r+1]})})]})};return(0,c.tZ)(w.u,{tooltip:(0,c.tZ)(w.G7,{css:[w.l0.width(150),{gap:10,gridTemplateColumns:"repeat(auto-fill, 200px)",zIndex:1}],children:n.map((function(e){return(0,c.BX)(w.G7,{css:[w.l0.rowWithGap(w.TV.space2),w.l0.align.center],children:[(0,c.tZ)(w.qE,{size:24,src:e.image||null,ringColor:e.color,username:e.username},e.id),(0,c.tZ)(w.G7,{css:[w.l0.ml(8),w.l0.maxWidth("80%")],children:(0,c.tZ)(w.xv,{variant:"small",multiline:!0,children:e.username})})]},e.username)}))}),children:(0,c.tZ)(a,{})})}var C=t(14314);function D(e){var n=e.path,t=(0,C.tv)(n);return 0===t.length?null:(0,c.tZ)(k,{activeUsers:t})}var E=t(69346),P=t(1144),R=t(81255),N=t(63377),T=t(69453),j=t(46609),S=t(25602),F=t(47568),A=t(70655),O=t(58794),I=t(34115),z="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";function L(){return(L=(0,F.Z)((function(e){var n,t,r,i,o,a,c;return(0,A.__generator)(this,(function(u){switch(u.label){case 0:return n=e.fs,t=e.language,r=void 0===t?"python3":t,[4,n.createDir(".lesson")];case 1:return(i=u.sent()).error?[2,i]:[4,n.writeFile(".lesson/assets/logo.png",O.Z.from(z,"base64"))];case 2:return(o=u.sent()).error?[2,o]:[4,n.writeFile(".lesson/lessonplan.md",O.Z.from((0,I.G)({language:r})))];case 3:return(a=u.sent()).error?[2,a]:[4,n.writeFile(".lesson/instructions.md",O.Z.from((0,I.K)({language:r})))];case 4:return(c=u.sent()).error?[2,c]:[2,{error:null}]}}))}))).apply(this,arguments)}var U=t(6951);function B(e){var n=e.onCreateClick;return(0,c.BX)(h.ZP,{interactive:!1,children:[(0,c.BX)("div",{className:"jsx-d8ed3bbadff3cff2",children:["Add  ",(0,c.tZ)(U.Z,{size:"small",border:!1,onClick:function(){return n(m.Tv.File)},children:"lesson contents"})]}),(0,c.tZ)(l(),{id:"d8ed3bbadff3cff2",children:"div.jsx-d8ed3bbadff3cff2{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:12px;overflow:hidden;white-space:nowrap}"})]})}var M=t(68122);function V(e){var n=(0,M.Z)(e.progress),t=e.size/2,r=t/2,i=2*r*Math.PI,o=i-n*i;return(0,c.BX)("svg",{height:2*t,width:2*t,className:"jsx-2eb96e7905c3afd7 circle",children:[(0,c.tZ)("circle",{fill:"var(--background-higher)",r:t,cx:t,cy:t,className:"jsx-2eb96e7905c3afd7"}),(0,c.tZ)("circle",{stroke:"var(--foreground-dimmest)",fill:"transparent",strokeWidth:t,strokeDasharray:i+" "+i,style:{strokeDashoffset:o},r:r,cx:t,cy:t,className:"jsx-2eb96e7905c3afd7"}),(0,c.tZ)(l(),{id:"2eb96e7905c3afd7",children:".circle.jsx-2eb96e7905c3afd7{margin:4px;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-ms-transform:rotate(-90deg);-o-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transform-origin:50%50%;-moz-transform-origin:50%50%;-ms-transform-origin:50%50%;-o-transform-origin:50%50%;transform-origin:50%50%}"})]})}var Q=t(15716),W=t(10129),K=t(64824),X=t(87588),H=t(89075),Y=t(67911),G=t(15165),q=t(48551),J=t(70034),_=function(e,n){return(0,K.lV)(s.useCallback((function(t,r){var i=t(Q.dv),o=t(Q.ON),a=t(H.tf);Object.prototype.hasOwnProperty.call(i,e)?(r(J.tO,o),a({action:"deleted",fileType:n,multiSelect:!0})):(r(J.tO,[{path:e,type:n}]),a({action:"deleted",fileType:n}))}),[e,n]),G.l)},$=t(63805),ee=t(15902),ne=t(11163),te=t(53201),re=t(88662),ie=t(16495),oe=t(28067),ae=t(55506),ce=t.n(ae),ue=t(93096),le=t.n(ue);function se(e,n,t){return Math.floor(Math.min(n,Math.max(e,t)))}var de=t(15583),fe=t(83043),pe=t(85216),ve=t(44659),he=t(91131),me=t(21131),ge=function(e,n){var t=(0,me.Z)((function(){return(0,he.cn)((function(n){var t=n(Q.dv);return Object.prototype.hasOwnProperty.call(t,e)}))}),[e]),r=(0,me.Z)((function(){return(0,he.cn)((function(r){return r(t)?r(Q.m5):[{path:e,type:n}]}))}),[t,e,n]);return(0,he.Dv)(r,G.l)},be=function(e,n,t){var r=e===g.Ql,i=(0,K.lV)(s.useCallback(function(){var t=(0,F.Z)((function(t,i,o){var a,c,u,l,s;return(0,A.__generator)(this,(function(d){return"dirContent"in o?(o.dirContent.then((function(t){n({parentPath:r?void 0:e,files:t})})),[2]):(a=(0,q.RQ)(o.nodes),c=e,a.some((function(e){return c===e.path||(!!((0,de.pC)(c,e.path)||c===g.Ql&&1===(0,q.U$)(e.path))||!!(0,de.yr)(e.path,c))}))?[2]:(u=a.map((function(e){var n=(0,q.UO)(e.path),t=c===g.Ql?n:c+"/"+n;return{src:e,dst:{type:e.type,path:t}}})),l=t(fe.Aw),s=a.reduce((function(e,n){var t,r=(0,q.UO)(n.path),i=null===(t=l[c])||void 0===t?void 0:t.children,o=null===i||void 0===i?void 0:i.find((function(e){return e.filename===r}));return o&&e.push({type:o.type,path:c===g.Ql?o.filename:c+"/"+o.filename}),e}),[]),s.length>0?(i(pe.oV,s),i(pe.nx,u),[2]):(i(pe.ub,u),[2])))}))}));return function(e,n,r){return t.apply(this,arguments)}}(),[r,e,n]),G.l),a=(0,o.Z)((0,re.L)({accept:[m.Tv.File,m.Tv.Directory,oe.FILE],canDrop:function(){return!0},hover:function(e,n){t.current&&r&&function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{scrollZoneSize:{w:50,h:50},scrollVelocity:{x:50,y:50},scrollUpdateThrottle:100},r=t.scrollZoneSize,i=t.scrollVelocity,a=t.scrollUpdateThrottle,c=le()((function(){var t=n.getClientOffset();if(!t)return[0,0];var a=t.x,c=t.y,u=e.getBoundingClientRect(),l=u.x,s=u.y,d=u.width,f=u.height,p=Math.min(d/2,r.w),v=Math.min(f/2,r.h),h=[[s,s+v],[s+f-v,s+f]],m=function(e,n){var t=(0,o.Z)(n,2),r=t[0],i=t[1];return ce()(e,r[0],r[1])?(e-r[1])/(r[1]-r[0]):ce()(e,i[0],i[1])?(e-i[0])/(i[1]-i[0]):0};return[m(a,[[l,l+p],[l+d-p,l+d]])*i.x,m(c,h)*i.y]}),a,{trailing:!1})();if(c){var u=(0,o.Z)(c,2),l=u[0],s=u[1];if(0!==l||0!==s){var d=e.scrollLeft,f=e.scrollTop,p=e.scrollWidth,v=e.scrollHeight,h=e.clientWidth,m=e.clientHeight;requestAnimationFrame((function(){e.scrollTop=se(0,p-h,d+l),e.scrollTop=se(0,v-m,f+s)}))}}}(t.current,n)},drop:function(e,n){if(!n.didDrop())return i(e)},collect:function(e){return{isOver:e.canDrop()&&e.isOver({shallow:!0})}}}),2);return[{isOver:a[0].isOver},a[1]]};function ye(e){var n=e.path,t=e.readOnly,r=e.progress,i=e.siblings,a=e.isOptimistic,u=e.onMouseEnter,d=e.onMouseLeave,p=(0,X.aR)(n),v=(0,j.y)().duplicateFile,g=(0,ve.D3)(),x=(0,N.Z)(),Z=n.split("/"),w=Z[Z.length-1],k=(0,o.Z)(function(e){var n=m.Tv.File,t=(0,H.GQ)(),r=(0,ve.E7)(),i=(0,H.Z1)(),a=ge(e,n),c=(0,o.Z)((0,te.c)({type:n,item:{type:n,previewNode:{path:e,type:n},nodes:a},canDrag:function(){return!t&&null===r},collect:function(e){return{isDragging:e.isDragging()}},end:function(e){i&&i()}}),3),u=c[0].isDragging,l=c[1],d=c[2];return s.useEffect((function(){d((0,ie.r)(),{captureDraggingState:!0})}),[d]),[{isDragging:u},l,d]}(n),2),C=k[0].isDragging,E=k[1],P=(0,ne.useRouter)(),R=s.useMemo((function(){var e=[b.st.Rename];return(0,$.isMobile)({tablet:!1})||e.push(b.st.OpenTab,b.st.OpenPane),e.push(b.st.CopyLink,b.st.Duplicate),(0,ee.Vg)(P)||e.push(b.st.Download),e.push(b.st.Delete),e}),[P]),O=(0,Q.n5)(n),I=(0,Q.AM)(n),z=(0,Q.uF)(n),L=(0,Q.yQ)(n),U=(0,Q.uH)(n),B=function(e){var n=(0,X.Hq)(),t=(0,Q.qp)(),r=(0,Q.lK)(),i=(0,Q.IQ)(),o=(0,H.G)("flagFiletreeMultiselect");return(0,K.lV)(s.useCallback((function(a,c,u){var l=a(H.Up),s=(0,W.j)(u),d=u.shiftKey,f=u.altKey;if(!o){var p={newTab:s};return n(e),t(e),void l(e,p)}var v=a(H.gI),h="altKey"===(null===v||void 0===v?void 0:v.multiselectModifierKey),m=h?f:s,g={newTab:h?s:f};return m||d?m?(r(e),void n(e)):void(d&&i(e)):(n(e),t(e),void l(e,g))}),[o,n,e,t,r,i]),G.l)}(n),M=function(e){var n=(0,X.Hq)(),t=(0,Q.qp)();return(0,K.lV)(s.useCallback((function(r,i,o){if(1===o.button){var a=r(H.Up);n(e),t(e),a(e,{newTab:!0}),o.preventDefault(),o.stopPropagation()}}),[e,n,t]),G.l)}(n),Y=function(e){return(0,K.lV)(s.useCallback((function(n){var t=n(Q.m5),r=n(Q.dv),i=Object.prototype.hasOwnProperty.call(r,e),o=n(H.Up);i?t.filter((function(e){return e.type===m.Tv.File})).forEach((function(e){var n=e.path;o(n,{newTab:!0})})):o(e,{newTab:!0})}),[e]),G.l)}(n),J=function(e){return(0,K.lV)(s.useCallback((function(n){var t=n(Q.m5),r=n(Q.dv),i=Object.prototype.hasOwnProperty.call(r,e),o=n(H.Up);i?t.filter((function(e){return e.type===m.Tv.File})).forEach((function(e,n){var t=e.path;o(t,0===n?{newPane:!0}:{newTab:!0})})):o(e,{newPane:!0})}),[e]),G.l)}(n),re=function(e){return(0,K.lV)(s.useCallback(function(){var n=(0,F.Z)((function(n){var t,r,i,a,c,u,l,s,d,f,p,v,h,g;return(0,A.__generator)(this,(function(b){switch(b.label){case 0:if(t=n(H.BM),r=n(H.eN),i=function(){var e=(0,F.Z)((function(e){var n,i,o,a;return(0,A.__generator)(this,(function(c){switch(c.label){case 0:return t?[4,t(e)]:[2];case 1:return(n=c.sent()).error?(r(n.error),[2]):(i=(0,q.yC)(e),(o=document.createElement("a")).setAttribute("href","data:".concat(i,";base64,").concat(n.content.toString("base64"))),a=(0,q.UO)(e),o.setAttribute("download",a),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o),[2])}}))}));return function(n){return e.apply(this,arguments)}}(),a=n(Q.m5),c=n(Q.dv),u=Object.prototype.hasOwnProperty.call(c,e),l=n(H.tf),!u)return[3,9];s=!0,d=!1,f=void 0,b.label=1;case 1:b.trys.push([1,6,7,8]),p=function(){var e,n,t,r;return(0,A.__generator)(this,(function(a){switch(a.label){case 0:return e=(0,o.Z)(h.value,2),n=e[0],t=e[1],r=t.path,n%10!==0?[3,2]:[4,new Promise((function(e){setTimeout(e,1500)}))];case 1:a.sent(),a.label=2;case 2:return i(r),[2]}}))},v=a.filter((function(e){return e.type===m.Tv.File})).entries()[Symbol.iterator](),b.label=2;case 2:return(s=(h=v.next()).done)?[3,5]:[5,(0,A.__values)(p())];case 3:b.sent(),b.label=4;case 4:return s=!0,[3,2];case 5:return[3,8];case 6:return g=b.sent(),d=!0,f=g,[3,8];case 7:try{s||null==v.return||v.return()}finally{if(d)throw f}return[7];case 8:return l({action:"downloaded",fileType:m.Tv.File,multiSelect:a.length>1}),[3,10];case 9:i(e),l({action:"downloaded",fileType:m.Tv.File}),b.label=10;case 10:return[2]}}))}));return function(e){return n.apply(this,arguments)}}(),[e]),G.l)}(n),oe=_(n,m.Tv.File);return(0,c.BX)("div",{ref:E,onMouseEnter:u,onMouseLeave:d,className:"jsx-fdb89ac6def34b5b "+(f()({"is-dragging":C,"is-optimistic":a})||""),children:[(0,c.tZ)(h.ZP,{active:p,selected:O,isPrevNodeSelected:I,isNextNodeSelected:z,isPrevNodeSameLevel:L,isNextNodeSameLevel:U,onClick:B,onAuxClick:M,actions:t?void 0:R,onAction:function(e){switch(e){case b.st.Rename:return g(n),void(0,T.Z)({replId:x,action:"renamed",fileType:m.Tv.File});case b.st.OpenTab:return void Y();case b.st.OpenPane:return void J();case b.st.CopyLink:var t=(0,S.dr)({path:n});return void(0,y.Z)(t);case b.st.Download:return void re();case b.st.Duplicate:return v(n,i.map((function(e){return e.filename}))),void(0,T.Z)({replId:x,action:"duplicated",fileType:m.Tv.File});case b.st.Delete:return void oe()}},children:(0,c.BX)("div",{className:"jsx-fdb89ac6def34b5b node-info",children:[(0,c.tZ)(h.qh,{type:m.Tv.File,path:n,active:p||O}),(0,c.tZ)(h.tJ,{title:n,children:w}),t?null:(0,c.tZ)(D,{path:n}),r?(0,c.tZ)(V,{size:16,progress:r}):null]})}),(0,c.tZ)(l(),{id:"fdb89ac6def34b5b",children:"div.jsx-fdb89ac6def34b5b{max-width:100%;width:100%}.node-info.jsx-fdb89ac6def34b5b{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.is-dragging.jsx-fdb89ac6def34b5b{opacity:.7}.is-optimistic.jsx-fdb89ac6def34b5b{opacity:.5;pointer-events:none}"})]})}var xe=t(49906),Ze=t(6625);function we(e){var n=e.type,t=e.create,r=e.onCreate,i=e.onError,a=e.onCancel,u=e.parentPath,d=e.siblings,f=(0,Ze.Z)(),p=(0,o.Z)(s.useState(null),2),v=p[0],m=p[1];return v?(0,c.BX)("div",{className:"jsx-610c999e6cd0a051 pending-node",children:[(0,c.BX)(h.ZP,{onClick:function(){return null},children:[(0,c.tZ)(h.qh,{path:v.filename,type:v.type}),(0,c.tZ)(h.tJ,{children:v.filename})]}),(0,c.tZ)(l(),{id:"610c999e6cd0a051",children:".pending-node.jsx-610c999e6cd0a051{pointer-events:none;opacity:.5}"})]}):(0,c.tZ)(xe.Z,{parentPath:u,siblings:d,type:n,onCancel:a,onSubmit:function(e){if(!v){var o={path:u===g.Ql?e:u+"/"+e,type:n};m({filename:e,type:n}),t(o).then((function(){f.current&&(m(null),r(o))})).catch((function(e){f.current&&i(e)}))}}})}var ke=t(70917),Ce=t(42895),De=t(21603),Ee=t(24561),Pe=t(14840),Re=(0,ke.iv)([w.l0.justify.center,w.l0.pl(8),{overflow:"hidden",height:"100%",width:"100%","> svg":{opacity:.5,width:250,display:"flex"}}]);function Ne(e){var n,t=e.index,r=32*t+8;return(0,c.BX)(c.HY,{children:[(0,c.tZ)("rect",{x:0,y:r,rx:"3",ry:"3",width:16,height:16}),(0,c.tZ)("rect",{x:28,y:r,rx:"3",ry:"3",width:"".concat(100+(n=t,n%2!==0?-10*n:10*n)),height:16})]})}function Te(e){var n=e.path,t=n===g.Ql,r=t?5:1;s.useEffect((function(){var e=De.kg.timeStart({isRootPath:t});return function(){e("time to load filetree folder")}}),[t,n]);var i="fileTreeLoader-"+Math.random().toString(),o=(0,Ce.T)();return(0,c.tZ)(w.G7,{css:Re,children:(0,c.tZ)(Ee.ZP,{animate:!o,speed:2,backgroundColor:Pe.TV.backgroundHighest,foregroundColor:Pe.TV.backgroundHigher,height:32*r,width:250,viewBox:"0 0 250 ".concat(32*r),uniqueKey:i,children:Array(r).fill(null).map((function(e,n){return(0,c.tZ)(Ne,{index:n},n)}))})})}function je(e){var n=e.onCreateClick;return(0,c.tZ)(h.ZP,{interactive:!1,children:(0,c.BX)(w.G7,{css:[w.l0.rowWithGap(4),w.l0.align.center,w.l0.px(4)],children:[(0,c.tZ)(w.xv,{variant:"small",color:"dimmer",children:"Add a"}),(0,c.tZ)(w.zx,{small:!0,onClick:function(){return n(m.Tv.File)},text:"file",css:[w.l0.height(24),w.l0.color.foregroundDefault]}),(0,c.tZ)(w.xv,{variant:"small",color:"dimmer",children:"or"}),(0,c.tZ)(w.zx,{small:!0,onClick:function(){return n(m.Tv.Directory)},text:"folder",css:[w.l0.height(24),w.l0.color.foregroundDefault]})]})})}function Se(e){var n=e.readOnly,t=void 0!==n&&n,r=e.onCreateClick;return t?(0,c.tZ)(h.ZP,{interactive:!1,children:(0,c.tZ)(w.G7,{css:[w.l0.rowWithGap(4),w.l0.align.center],children:(0,c.tZ)(w.xv,{variant:"small",color:"dimmer",children:"There is nothing here."})})}):(0,c.tZ)(je,{onCreateClick:r})}var Fe=t(30992),Ae=t(77365),Oe=t(88961),Ie=t(48730);function ze(e){var n=e.type,t=e.parentPath,r=(e.siblings,e.create),i=e.onCreate,o=e.initialFileName,a=e.onRename,u=e.onError,l=e.onClose,d=(0,s.useState)(null),f=d[0],p=d[1],v=(0,s.useRef)(null),b=(0,Ie.IF)(t);(0,s.useEffect)((function(){if(o){var e=o.lastIndexOf(".");-1===e&&(e=o.length),v.current&&v.current.setSelectionRange(0,e)}}),[o]);var y=(0,Fe.Y)(o||"",(function(e){var n=(0,xe.z)({siblingNames:b,fileName:e,initialValue:o,parentPath:t});return n?{message:n}:null})),x=!!y.error||""===y.value,Z=n===m.Tv.File?"File":"Folder",k=o?"Rename ".concat(Z):"Add ".concat(Z),C=function(){return y.error?(0,c.tZ)(E.Z,{css:[w.l0.height(24),w.l0.width(24),w.l0.center],children:(0,c.tZ)(Oe.Z,{color:w.TV.accentNegativeDefault})}):(0,h.qh)({type:n,path:y.value,gutter:!1})};return(0,c.tZ)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),x||(o?a(y.value):function(){if(!f){var e={path:t===g.Ql?y.value:t+"/"+y.value,type:n};p({filename:y.value,type:n}),r(e).then((function(){p(null),i(e)})).catch((function(e){u(e)}))}}())},children:(0,c.BX)(E.Z,{css:[w.l0.colWithGap(16)],children:[(0,c.tZ)(P.x,{variant:"subheadDefault",children:k}),(0,c.BX)(E.Z,{css:[w.l0.rowWithGap(4),w.l0.center],children:[(0,c.tZ)(C,{}),(0,c.tZ)(w.II,{id:"fileName",ref:v,value:y.value,autoFocus:!0,onChange:function(e){return y.setValue(e.target.value)},autoCapitalize:"off",autoComplete:"off",autoCorrect:"off"})]}),y.error?(0,c.tZ)(P.x,{variant:"small",color:"dimmer",children:y.error.message}):null,(0,c.BX)(E.Z,{css:[w.l0.rowWithGap(8)],children:[(0,c.tZ)(w.zx,{text:"Cancel",outlined:!0,colorway:"negative",css:{flex:1},type:"button",onClick:l}),(0,c.tZ)(w.zx,{text:o?"Rename":"Add",colorway:"primary",iconLeft:f?(0,c.tZ)(Ae.Z,{}):void 0,css:{flex:1},disabled:x,type:"submit"})]})]})})}var Le=t(58977);function Ue(e){var n,t,i,o=e.parentPath,u=e.nodes,l=e.unfilteredNodes,d=void 0===l?[]:l,f=e.loading,p=e.error,v=e.readOnly,b=e.disableCreate,y=(0,Z.Z)().showError,w=o===g.Ql?[]:o.split("/"),k=(0,ee.T3)(),C=(0,j.y)(),D=C.fs,E=C.pendingUploads,P=(0,X.Hq)(),R=(0,Q.qp)(),N=(0,Ie.kN)(),T=(0,Ie.Hl)(),S=(0,Ie.IU)(o),F=(0,Ie.QF)(),A=(0,ve.d5)(),I=(0,ve.E7)(),z=(0,ve.D3)(),U=s.useRef(null),M=function(){U.current=null,z(null)};if(f)return(0,c.tZ)(Te,{path:o});if(p)return(0,c.tZ)(h.ZP,{interactive:!1,children:null!==(i=p.message)&&void 0!==i?i:p});if(!u)return null;var V,W=!v&&!b&&S,K=new Set(u.map((function(e){return e.filename}))),H=(null!==E&&void 0!==E?E:[]).filter((function(e){var n=e.targetPath,t=n.lastIndexOf("/");return(-1!==t?n.slice(0,t):g.Ql)===o&&!K.has(n)})),Y=function(e){var n=e.path;return e.type===m.Tv.File?D.writeFile(n,O.Z.from("")):D.createDir(n)};return(0,c.BX)(c.HY,{children:[u.map((function(e){var n=e.filename,t=e.type,i=e.isOptimistic,u=(0,a.Z)(w).concat([n]).join("/"),l=d.filter((function(e){return e.filename!==n}));if(I===u&&k&&(U.current={initialFileName:n,path:u,siblings:l,type:t}),I===u&&!k)return(0,c.tZ)(h.ZP,{onClick:function(){return null},children:(0,c.tZ)(xe.Z,{type:t,parentPath:o,siblings:l,initialValue:n,rename:!0,onSubmit:function(e){z(null);var n=(0,a.Z)(w).concat([e]).join("/");A({fileType:t,path:u,to:n})},onCancel:function(){return z(null)}})},n);var s={siblings:l,readOnly:v||i,path:u,key:i?"(optimistic) ".concat(n):n,isOptimistic:i};return t===m.Tv.File?(0,c.tZ)(ye,(0,r.Z)({},s)):(0,c.tZ)(Me,(0,r.Z)({},s))})),H.map((function(e,n){var t=e.targetPath,r=e.progress;return(0,c.tZ)(ye,{siblings:d.filter((function(e){return e.filename!==t})),path:t,progress:r,readOnly:!0},"".concat(t,"_").concat(n))})),!v&&!u.length&&o===g.oh&&(0,c.tZ)(B,{onCreateClick:function(){return function(e){return L.apply(this,arguments)}({fs:D})}}),u.length||o===g.oh||W?null:(0,c.tZ)(Se,{onCreateClick:function(e){P(o),R(o),T(e)},readOnly:v}),W&&N&&!k&&(0,c.tZ)(Le.ZP,{group:"focus-group-filetree-create",children:(0,c.tZ)(we,{siblings:d||[],parentPath:o,create:Y,type:N,onError:function(e){return y("Something went wrong: ".concat(e))},onCancel:function(){return T(null)},onCreate:F})}),k?(0,c.tZ)(x.Z,{isOpen:Boolean(k&&(W&&N||U.current)),onRequestClose:function(){T(null),M()},centered:!0,children:N||U.current?(0,c.tZ)(ze,{type:null!==(V=null!==N&&void 0!==N?N:null===(n=U.current)||void 0===n?void 0:n.type)&&void 0!==V?V:m.Tv.File,parentPath:o,siblings:U.current?U.current.siblings:d||[],create:Y,onCreate:F,initialFileName:null===(t=U.current)||void 0===t?void 0:t.initialFileName,onRename:function(e){if(U.current){var n=(0,a.Z)(w).concat([e]).join("/");A({fileType:U.current.type,path:U.current.path,to:n}),M()}},onError:function(e){return y("Something went wrong: ".concat(e))},onClose:function(){T(null),M()}}):null}):null]})}var Be=function(e){var n=e.dirPath,t=(0,X.dZ)(n),r=function(e){var n=(0,X.Hq)(),t=(0,Q.qp)(),r=(0,Y.p$)(e).collapse;return s.useCallback((function(i){n(e),t(e),r()}),[r,e,t,n])}(n);return(0,c.BX)("div",{onClick:r,className:"jsx-9ef365edfcf64d74 dir-node-gutter",children:[(0,c.tZ)("div",{className:"jsx-9ef365edfcf64d74 "+(f()("rule",{drawn:t})||"")}),(0,c.tZ)(l(),{id:"9ef365edfcf64d74",children:".dir-node-gutter.jsx-9ef365edfcf64d74{min-width:1em;padding:0 10px 0 12px;cursor:pointer}.rule.jsx-9ef365edfcf64d74{height:100%;width:1px;-webkit-transition:all.1s;-moz-transition:all.1s;-o-transition:all.1s;transition:all.1s}.rule.drawn.jsx-9ef365edfcf64d74,.root-node:hover .rule.jsx-9ef365edfcf64d74{background-color:var(--background-highest)}.dir-node-gutter.jsx-9ef365edfcf64d74:hover .rule.jsx-9ef365edfcf64d74{background-color:var(--accent-primary-default)}"})]})};function Me(e){var n=e.path,t=e.readOnly,u=e.siblings,d=e.progress,x=e.isOptimistic,Z=(0,X.aR)(n),w=(0,N.Z)(),k=(0,Ie.Hl)(),C=(0,j.y)(),E=C.fs,P=C.uploadFiles,F=(0,ve.D3)(),A=n.split("/"),O=A[A.length-1],I=n===g.Ql,z=n===g.oh,L=s.useRef(null),U=(0,o.Z)(s.useState([]),2),B=U[0],M=U[1],V=(0,o.Z)(s.useState([]),2),q=V[0],J=V[1],$=(0,fe.Ol)();s.useEffect((function(){$(n)}),[E,n,$]);var ee=(0,p.Z)({path:n,initialExpanded:I||z}),ne=ee.expand,re=ee.children,oe=ee.loading,ae=ee.error,ce=ee.expanded,ue=(0,o.Z)(function(e){var n=m.Tv.Directory,t=(0,H.GQ)(),r=(0,ve.E7)(),i=ge(e,m.Tv.Directory),a=(0,o.Z)((0,te.c)({type:n,item:{type:n,previewNode:{path:e,type:n},nodes:i},canDrag:function(){return!t&&e!==g.Ql&&null===r},collect:function(e){return{isDragging:e.isDragging()}}}),3),c=a[0].isDragging,u=a[1],l=a[2];return s.useEffect((function(){l((0,ie.r)(),{captureDraggingState:!0})}),[l]),[{isDragging:c},u,l]}(n),2),le=ue[0].isDragging,se=ue[1],de=(0,o.Z)(be(n,P,L),2),pe=de[0].isOver,he=de[1];s.useEffect((function(){if(pe&&!ce){var e=setTimeout(ne,500);return function(){clearTimeout(e)}}}),[pe,ne,ce]),s.useEffect((function(){if(re&&n===g.Ql){var e=re.filter((function(e){return v.uP.includes(e.filename)}));M(e)}}),[n,re]),s.useEffect((function(){if(re&&n===g.Ql){var e=re.filter((function(e){return v.nh.includes(e.filename)}));J(e)}}),[n,re]);var me,ye=re?(0,a.Z)(re):null;if(ye){var xe=n!==g.Ql?"".concat(n,"/"):"";ye=ye.filter((function(e){return!v.ZP.includes(xe+e.filename)}))}if(ye&&n===g.Ql){var Ze=ye.findIndex((function(e){return e.type===m.Tv.Directory&&".lesson"===e.filename}));if(Ze>=0)me=(0,o.Z)(ye.splice(Ze,1),1)[0]}var we={readOnly:t,siblings:u,progress:d,parentPath:n},ke=(0,Q.n5)(n),Ce=(0,Q.AM)(n),De=(0,Q.uF)(n),Ee=(0,Q.yQ)(n),Pe=(0,Q.uH)(n),Re=function(e){var n=(0,X.Hq)(),t=(0,Q.qp)(),r=(0,Q.lK)(),i=(0,Q.IQ)(),o=(0,Y.Fz)(),a=(0,H.G)("flagFiletreeMultiselect");return(0,K.lV)(s.useCallback((function(c,u,l){var s=(0,W.j)(l),d=l.shiftKey,f=l.altKey;if(!a)return o(e),n(e),void t(e);var p=c(H.gI),v="altKey"===(null===p||void 0===p?void 0:p.multiselectModifierKey)?f:s;return v||d?v?(r(e),void n(e)):void(d&&i(e)):(o(e),n(e),void t(e))}),[a,o,e,n,t,r,i]),G.l)}(n),Ne=_(n,m.Tv.Directory),Te=(0,Q.qp)(),je=(0,X.Hq)();return(0,c.BX)("div",{title:n===g.Ql?void 0:n,ref:function(e){L.current=e,he(e),se(e)},className:"jsx-c933128b357fd438 "+(f()("dir-node",{"is-dropping":pe,"is-dragging":le,"is-optimistic":x,"root-node":n===g.Ql})||""),children:[I||z?null:(0,c.tZ)(h.ZP,{active:Z||pe,selected:ke,isPrevNodeSelected:Ce,isNextNodeSelected:De,isPrevNodeSameLevel:Ee,isNextNodeSameLevel:Pe,onClick:Re,actions:t?void 0:[b.st.Rename,b.st.AddFile,b.st.AddFolder,b.st.CopyLink,b.st.Delete],onAction:function(e){switch(e!==b.st.Delete&&(Z||(Te(n),je(n)),ce||ne()),e){case b.st.Rename:return F(n),void(0,T.Z)({replId:w,action:"renamed",fileType:m.Tv.Directory});case b.st.AddFile:return void k(m.Tv.File);case b.st.AddFolder:return void k(m.Tv.Directory);case b.st.CopyLink:var t=(0,S.dr)({path:n});return void(0,y.Z)(t);case b.st.Delete:return void Ne()}},children:(0,c.BX)("div",{className:"jsx-c933128b357fd438 node-info",children:[(0,c.tZ)(h.qh,{type:m.Tv.Directory,path:n,expanded:ce,active:Z||ke}),(0,c.tZ)(h.tJ,{title:n,children:O}),ce||t?null:(0,c.tZ)(D,{path:n})]})}),(0,c.BX)("div",{css:[R.l0.flex.row],className:"jsx-c933128b357fd438 file-nodes-container",children:[I?null:(0,c.tZ)(Be,{dirPath:n}),(0,c.tZ)("div",{css:[R.l0.flex.grow(1),R.l0.maxWidth("100%"),R.l0.overflow("hidden")],className:"jsx-c933128b357fd438 "+(f()({hidden:!ce})||""),children:(0,c.tZ)(Ue,(0,r.Z)({nodes:ye,unfilteredNodes:null!==re&&void 0!==re?re:[],loading:oe,error:ae},we))})]}),q.length&&!oe?(0,c.tZ)(Qe,{children:(0,c.tZ)(Ue,(0,i.Z)((0,r.Z)({},we),{unfilteredNodes:null!==re&&void 0!==re?re:[],nodes:q,disableCreate:!0}))}):null,me&&!oe?(0,c.tZ)(Ke,{readOnly:Boolean(t),children:(0,c.tZ)(Ue,(0,i.Z)((0,r.Z)({},we),{nodes:[me],disableCreate:!0}))}):null,B.length&&!oe?(0,c.tZ)(We,{children:(0,c.tZ)(Ue,(0,i.Z)((0,r.Z)({},we),{nodes:B,unfilteredNodes:null!==re&&void 0!==re?re:[],disableCreate:!0}))}):null,(0,c.tZ)(l(),{id:"c933128b357fd438",children:".dir-node.jsx-c933128b357fd438{-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);width:100%}.root-node.jsx-c933128b357fd438{overflow-y:auto;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding:0 var(--space-8)var(--space-16)}.node-info.jsx-c933128b357fd438{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.hidden.jsx-c933128b357fd438{display:none;height:0;width:0}.is-dropping.jsx-c933128b357fd438{background-color:var(--background-default);outline:1px dashed var(--accent-primary-default);outline-offset:-1px}.is-dragging.jsx-c933128b357fd438{opacity:.7}.is-optimistic.jsx-c933128b357fd438{opacity:.5;pointer-events:none}"})]})}function Ve(e){var n=e.title,t=e.notice,r=e.children;return(0,c.BX)(E.Z,{css:[R.l0.flex.column],children:[(0,c.tZ)(E.Z,{css:[R.l0.p(8),R.l0.mt(8),{borderTop:"1px dashed ".concat(R.TV.outlineDimmest)}],children:(0,c.tZ)(P.x,{variant:"text",css:[R.l0.fontWeight.medium,R.l0.color.foregroundDimmest,{userSelect:"none"}],children:n})}),t,(0,c.tZ)(E.Z,{css:[R.l0.width("100%")],children:r})]})}function Qe(e){var n=e.children;return(0,c.tZ)(Ve,{title:"Config files",children:n})}function We(e){var n=e.children;return(0,c.tZ)(Ve,{title:"Packager files",children:n})}function Ke(e){var n=e.children,t=e.readOnly;return(0,c.tZ)(Ve,{title:"Lesson",notice:t?null:(0,c.tZ)(E.Z,{css:[R.l0.p(16),R.l0.pt(0),R.l0.pb(8),R.l0.width("100%")],children:(0,c.tZ)(E.Z,{css:[R.l0.py(8),R.l0.px(16),R.l0.backgroundColor.accentPrimaryDimmest,R.l0.borderRadius(8)],children:(0,c.BX)(P.x,{children:["Place your lesson contents here.",(0,c.tZ)("br",{}),(0,c.tZ)("a",{href:"https://docs.replit.com/teams-edu/lesson-authoring",target:"_blank",children:"Learn more"})]})})}),children:n})}},46609:function(e,n,t){t.d(n,{i:function(){return i},y:function(){return o}});var r=t(67294),i=r.createContext({fs:{},pendingUploads:[],uploadFiles:function(){},duplicateFile:function(){throw new Error("duplicateFile not implemented")}});function o(){return r.useContext(i)}},38935:function(e,n,t){t.d(n,{dk:function(){return b},st:function(){return r}});var r,i,o=t(14924),a=t(26042),c=t(69396),u=t(35944),l=t(87603),s=t.n(l),d=t(67294),f=t(94184),p=t.n(f),v=t(44781),h=t(49051),m=t(96594),g=t(70804);!function(e){e.AddFile="AddFile",e.AddFolder="AddFolder",e.UploadFile="UploadFile",e.UploadFolder="UploadFolder",e.DownloadZip="DownloadZip",e.Duplicate="Duplicate",e.ShowHiddenFiles="ShowHiddenFiles",e.HideHiddenFiles="HideHiddenFiles",e.OpenTab="OpenTab",e.OpenPane="OpenPane",e.CopyLink="CopyLink",e.Rename="Rename",e.Download="Download",e.Delete="Delete"}(r||(r={}));var b=(i={},(0,o.Z)(i,r.AddFile,"Add file"),(0,o.Z)(i,r.AddFolder,"Add folder"),(0,o.Z)(i,r.UploadFile,"Upload file"),(0,o.Z)(i,r.UploadFolder,"Upload folder"),(0,o.Z)(i,r.ShowHiddenFiles,"Show hidden files"),(0,o.Z)(i,r.HideHiddenFiles,"Hide hidden files"),(0,o.Z)(i,r.DownloadZip,"Download as zip"),(0,o.Z)(i,r.Duplicate,"Duplicate"),(0,o.Z)(i,r.OpenTab,"Open tab"),(0,o.Z)(i,r.OpenPane,"Open pane"),(0,o.Z)(i,r.CopyLink,"Copy link"),(0,o.Z)(i,r.Rename,"Rename"),(0,o.Z)(i,r.Download,"Download"),(0,o.Z)(i,r.Delete,"Delete"),i);function y(e){var n=e.isNegative,t=e.isHighlighted,r=e.children;return(0,u.BX)("div",{className:"jsx-5b1d60dcc3720e48 "+(p()({"is-negative":n,"is-highlighted":t})||""),children:[(0,u.tZ)(v.Z,{size:"small",children:r}),(0,u.tZ)(s(),{id:"5b1d60dcc3720e48",children:"div.jsx-5b1d60dcc3720e48{color:var(--foreground-default);padding:var(--space-8);margin:var(--space-4);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);font-weight:var(--font-weight-regular);cursor:pointer;white-space:nowrap}div.jsx-5b1d60dcc3720e48:hover{cursor:pointer}.is-highlighted.jsx-5b1d60dcc3720e48{background-color:var(--background-higher)}.is-negative.jsx-5b1d60dcc3720e48 *{color:var(--accent-negative-default)!important}.is-negative.jsx-5b1d60dcc3720e48:hover{background-color:var(--accent-negative-default)}.is-negative.jsx-5b1d60dcc3720e48:hover *{color:var(--white)!important}"})]})}var x=function(e,n){var t=e.isActive,i=e.actions,o=e.onAction,l=e.onOpenChange,f=d.useRef(!1),p=(0,m.L7)({items:i,onSelectedItemChange:function(e){var n=e.selectedItem;n&&(f.current||o(n),D())}}),v=p.isOpen,x=p.getToggleButtonProps,Z=p.getMenuProps,w=p.highlightedIndex,k=p.getItemProps,C=p.openMenu,D=p.reset;d.useImperativeHandle(n,(function(){return{open:C}})),d.useEffect((function(){l&&l(v)}),[v,l]);var E=x(),P=i.includes(r.UploadFile);return(0,u.BX)("div",{className:s().dynamic([["5657a3620e829be3",[t?"auto":"var(--foreground-default)"]]])+" node-actions-menu",children:[(0,u.BX)(g.Z,{elevated:!0,showArrow:!0,isOpen:v,placement:"right-start",padding:0,onClickOutside:D,children:[(0,u.tZ)("button",(0,c.Z)((0,a.Z)({},E),{onClick:function(e){e.stopPropagation(),E.onClick(e)},className:s().dynamic([["5657a3620e829be3",[t?"auto":"var(--foreground-default)"]]])+" "+(E&&null!=E.className&&E.className||""),children:(0,u.tZ)(h.MoreVertical,{size:20})})),(0,u.tZ)("div",(0,c.Z)((0,a.Z)({},Z({},{suppressRefError:!0})),{className:s().dynamic([["5657a3620e829be3",[t?"auto":"var(--foreground-default)"]]]),children:v?(0,u.BX)("ul",{className:s().dynamic([["5657a3620e829be3",[t?"auto":"var(--foreground-default)"]]]),children:[i.map((function(e,n){return(0,u.tZ)("li",(0,c.Z)((0,a.Z)({"data-cy":"filetree-node-action-".concat(e)},k({item:e,index:n,onClick:function(n){f.current=!0,setTimeout((function(){f.current=!1})),o(e),n.stopPropagation()}})),{className:s().dynamic([["5657a3620e829be3",[t?"auto":"var(--foreground-default)"]]]),children:(0,u.tZ)(y,{isHighlighted:w===n,isNegative:e===r.Delete,children:b[e]})}),e)})),P?(0,u.BX)("div",{className:s().dynamic([["5657a3620e829be3",[t?"auto":"var(--foreground-default)"]]])+" protip",children:[(0,u.tZ)("span",{className:s().dynamic([["5657a3620e829be3",[t?"auto":"var(--foreground-default)"]]]),children:"PROTIP:"})," drag and drop files or folders to upload!"]}):null]}):null}))]}),(0,u.tZ)(s(),{id:"5657a3620e829be3",dynamic:[t?"auto":"var(--foreground-default)"],children:".node-actions-menu.__jsx-style-dynamic-selector{position:relative;width:20px;height:100%}.is-touch-device .protip.__jsx-style-dynamic-selector{display:none}.protip.__jsx-style-dynamic-selector{font-size:13px;padding:10px 5px;text-align:center;color:var(--foreground-default);border-top:1px solid var(--outline-dimmest);width:135px}.protip.__jsx-style-dynamic-selector>span.__jsx-style-dynamic-selector{color:var(--accent-positive-default);font-weight:var(--font-weight-bold);font-size:12px}button.__jsx-style-dynamic-selector{top:0;width:100%;height:100%;display:block;background-color:transparent;border:0 none;cursor:pointer;color:var(--foreground-dimmest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4)}button.__jsx-style-dynamic-selector:hover{color:".concat(t?"auto":"var(--foreground-default)","}ul.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;list-style:none;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);z-index:1;-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);background:var(--background-default)}ul.__jsx-style-dynamic-selector:focus{outline:none}")})]})};n.ZP=d.forwardRef(x)},76198:function(e,n,t){t.d(n,{qh:function(){return w},tJ:function(){return k},ZP:function(){return Z}});var r=t(26042),i=t(10253),o=t(35944),a=t(87603),c=t.n(a),u=t(67294),l=t(94184),s=t.n(l),d=t(38935),f=t(3401),p=t(52456),v=t(65456),h=t(63736);function m(e){return null==e?null:e.scrollHeight>e.clientHeight?e:m(e.parentElement)}function g(e){var n=e.element,t=m(n);if(t){var r=window.getComputedStyle(t,null),i=parseInt(r.getPropertyValue("border-top-width"),10),o=parseInt(r.getPropertyValue("border-left-width"),10),a=n.offsetTop-t.offsetTop<t.scrollTop,c=n.offsetTop-t.offsetTop+n.clientHeight-i>t.scrollTop+t.clientHeight,u=n.offsetLeft-t.offsetLeft<t.scrollLeft,l=n.offsetLeft-t.offsetLeft+n.clientWidth-o>t.scrollLeft+t.clientWidth,s=a&&!c;(a||c||u||l)&&n.scrollIntoView(s)}}var b=t(21641),y=t(15085),x=t(85861);function Z(e){var n=e.active,t=e.selected,a=void 0!==t&&t,l=e.isPrevNodeSelected,f=void 0!==l&&l,p=e.isNextNodeSelected,v=void 0!==p&&p,h=e.isPrevNodeSameLevel,m=e.isNextNodeSameLevel,Z=e.children,w=e.onClick,k=e.onAuxClick,C=e.interactive,D=void 0===C||C,E=e.className,P=e.actions,R=e.onAction,N=u.useRef(null),T=(0,i.Z)(u.useState(!1),2),j=T[0],S=T[1],F=u.useRef(null),A=(0,b.N)();u.useLayoutEffect((function(){n&&N.current&&(A.getMonitor().isDragging()||g({element:N.current}))}),[n,A]);var O=(0,x.Fg)().isDarkColorScheme?"backgroundHigher":"greyDimmest";return(0,o.BX)("div",{ref:N,onClick:w,onAuxClick:k,css:[y.l0.height(y.TV.space32),y.l0.cursor.pointer,y.l0.display.flex,y.l0.align.center,y.l0.color.foregroundDimmer,y.l0.borderRadius(8),y.l0.fontSize(y.TV.fontSizeDefault),a?[y.l0.backgroundColor[O],y.l0.color.foregroundDefault,{border:"1px solid ".concat(y.TV[O])}]:(0,r.Z)({},y.gU.nofill),n?[{border:"1px solid ".concat(y.TV[O])}]:[],{transition:"initial"},a&&f?[(0,r.Z)({borderTopRightRadius:0},h?{borderTopLeftRadius:0}:null)]:[],a&&v?[(0,r.Z)({borderBottomRightRadius:0},m?{borderBottomLeftRadius:0}:null)]:[]],onContextMenu:function(e){F.current&&(e.preventDefault(),F.current.open())},className:c().dynamic([["4c1359979efd5c22",[n||a||j?"flex":"none",n||a||j?1:0]]])+" "+(s()(E,"node",{active:n,interactive:D})||""),children:[Z,P&&P.length&&R?(0,o.tZ)("div",{className:c().dynamic([["4c1359979efd5c22",[n||a||j?"flex":"none",n||a||j?1:0]]])+" actions",children:(0,o.tZ)(d.ZP,{ref:F,onOpenChange:S,actions:P,onAction:R,isActive:n||a})}):null,(0,o.tZ)(c(),{id:"4c1359979efd5c22",dynamic:[n||a||j?"flex":"none",n||a||j?1:0],children:".actions.__jsx-style-dynamic-selector{display:".concat(n||a||j?"flex":"none",";opacity:").concat(n||a||j?1:0,";-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-left:auto;-webkit-transition:opacity;-moz-transition:opacity;-o-transition:opacity;transition:opacity;height:100%}.is-touch-device .actions.__jsx-style-dynamic-selector,.node.__jsx-style-dynamic-selector:hover .actions.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;opacity:1}")})]})}function w(e){var n=e.expanded,t=e.type,r=e.path,i=e.gutter,a=void 0===i||i,u=null;return u=t===v.Tv.Directory&&n?(0,o.tZ)(p.Z,{}):t===v.Tv.Directory?(0,o.tZ)(f.Z,{}):(0,o.tZ)(h.Z,{path:r}),(0,o.BX)("div",{className:"jsx-a0e8f07e5ed8d484 node-icon",children:[a?(0,o.tZ)("div",{className:"jsx-a0e8f07e5ed8d484 gutter"}):null,(0,o.tZ)("div",{className:"jsx-a0e8f07e5ed8d484 icon",children:u}),(0,o.tZ)(c(),{id:"a0e8f07e5ed8d484",children:".node-icon.jsx-a0e8f07e5ed8d484{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.icon.jsx-a0e8f07e5ed8d484{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:24px;height:24px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.gutter.jsx-a0e8f07e5ed8d484{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:var(--space-4);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}"})]})}function k(e){var n=e.children,t=e.title;return(0,o.BX)("div",{title:null!==t&&void 0!==t?t:n,className:"jsx-55d3ca1db7a8ec81",children:[(0,o.tZ)("span",{css:[{userSelect:"none"}],className:"jsx-55d3ca1db7a8ec81",children:n}),(0,o.tZ)(c(),{id:"55d3ca1db7a8ec81",children:"div.jsx-55d3ca1db7a8ec81{font-size:var(--font-size-default);-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;padding-left:var(--space-8);padding-right:var(--space-4);overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}"})]})}},49906:function(e,n,t){t.d(n,{Z:function(){return z},z:function(){return F}});var r=t(26042),i=t(69396),o=t(10253),a=t(29815),c=t(35944),u=t(87603),l=t.n(u),s=t(67294),d=t(65456),f=t(30992),p=t(27206),v=t(76198),h=t(63377),m=t(7297),g=t(31230),b=t(37887);function y(){var e=(0,m.Z)(["\n  query FiletreeRepl($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        url\n      }\n    }\n  }\n"]);return y=function(){return e},e}var x={},Z=(0,g.Ps)(y());var w=t(15519),k=t(96594),C=t(99408),D=t(1864),E=t(50009),P=t(84810),R=t(31066),N=t(42456),T=t(63805),j=t(76216),S=t(48730);function F(e){var n=e.siblingNames,t=e.fileName,r=e.initialValue,i=e.parentPath;if(t.includes("/"))return"File names cannot include forward slashes";if("."===t||".."===t)return'File names cannot be "'.concat(t,'"');if(t.match(/^\s/)||t.match(/\s$/))return"File names cannot start or end with whitespace";if(r!==t&&n.includes(t))return"A file or folder with that name already exists";if(t.length>100)return"File names cannot be longer than 100 characters";var o=i===R.Ql?t:i+"/"+t;return".env"===o?"You can create environment variables via the environment variables sidebar! (.env files are deprecated)":(0,P.C)(o)?'"'.concat(o,'" is reserved'):null}function A(){var e=(0,h.Z)(),n=(0,j.Z)(),t=function(e){var n=(0,r.Z)({},x,e);return b.a(Z,n)}({variables:{replId:e}}).data,i=null;return"Repl"===(null===t||void 0===t?void 0:t.repl.__typename)&&(i=w.Z.getMainFileName(n)),i}function O(){var e=[".md",".draw"],n=A();n&&"."!==n[0]&&e.unshift((0,D.extname)(n));var t=function(){var e=(0,C.Z)().session.getRecentFiles(),n=(0,N.Z)();return(0,T.isMobile)()?e:n}();if(t&&t.length>0){var r=(0,D.extname)(t[0]);r&&"."!==r&&e.unshift(r)}var i=(0,a.Z)(new Set(e)),o=w.Z.allSupportedByPopularity().map((function(e){return"."+e.ext})).sort(),c=(0,a.Z)(new Set(i.concat(o).concat([".json",".txt",".toml",".css",".nix"])));return{defaultExtensions:i,dotExtensions:[".gitignore",".replit"],allSuggestions:c}}var I=function(e){var n=e.onSelect,t=e.onCancel,a=e.parentPath,u=e.type,d=(e.siblings,(0,S.IF)(a)),f=O(),h=f.defaultExtensions,m=f.dotExtensions,g=f.allSuggestions,b=(0,o.Z)(s.useState(""),2),y=b[0],x=b[1],Z=s.useRef(null);s.useEffect((function(){y&&n(y)}),[y,n]);var w=(0,o.Z)(s.useState([]),2),C=w[0],P=w[1],R=(0,o.Z)(s.useState(!1),2),N=R[0],T=R[1],j=(0,k.Kb)({items:C,defaultHighlightedIndex:0,initialHighlightedIndex:0,onInputValueChange:function(e){var n=e.inputValue;if(!n)return P([]),void j.reset();var t=n.includes(".")?n.slice(0,n.lastIndexOf(".")):n,r=n.includes(".")?(0,D.extname)(n):null,i=(""===r?m:"."===r||null===r||h.includes(r)?h:g).map((function(e){return t+e})).filter((function(e){return!F({siblingNames:d,fileName:e,parentPath:a})})).filter((function(e){return e!==n}));if(i.unshift(n),"string"===typeof r){var o=i.filter((function(e){return e.startsWith(n)&&""!==n}));return 0===o.length?(P([]),void j.reset()):void P(o)}P(i)},onSelectedItemChange:function(e){e.selectedItem&&x(A)}}),A=j.highlightedIndex>-1&&j.inputValue&&C[j.highlightedIndex]?C[j.highlightedIndex]:"",I=F({siblingNames:d,fileName:A,parentPath:a});return(0,c.BX)("div",{children:[(0,c.tZ)("div",(0,i.Z)((0,r.Z)({className:"combobox"},j.getComboboxProps()),{children:(0,c.tZ)(p.ZP,(0,r.Z)({autoFocus:!0,validationResults:I?[{state:"error",message:I}]:void 0},j.getInputProps({placeholder:"",ref:Z,onBlur:function(){t()},onKeyDown:function(e){var r=function(){e.nativeEvent.preventDownshiftDefault=!0};if("Home"!==e.key&&"End"!==e.key)return"Tab"===e.key?(r(),void n(A)):void("Escape"!==e.key||""!==A?"ArrowDown"===e.key||"ArrowUp"===e.key?T(!0):T(!1):t());N||r()}})))})),(0,c.BX)("div",(0,i.Z)((0,r.Z)({},j.getMenuProps()),{className:"jsx-3334e859a3d5803a",children:[j.isOpen?(0,c.tZ)("ul",{className:"jsx-3334e859a3d5803a menu",children:C.map((function(e,n){return(0,c.BX)("div",{className:"jsx-3334e859a3d5803a liwrap",children:[(0,c.tZ)("div",{className:"jsx-3334e859a3d5803a icon",children:(0,c.tZ)(v.qh,{type:u,path:e})}),(0,c.BX)("li",(0,i.Z)((0,r.Z)({style:j.highlightedIndex===n?{backgroundColor:"var(--accent-primary-dimmer)"}:{}},j.getItemProps({item:e,index:n})),{onMouseDown:function(){x(e)},className:"jsx-3334e859a3d5803a truncate",children:[" ",(0,c.BX)("bdi",{className:"jsx-3334e859a3d5803a",children:[j.inputValue?(0,c.tZ)(E.gr,{source:e,match:j.inputValue,matchStyle:{color:j.highlightedIndex===n?"var(--foreground-dimmer)":"var(--accent-primary-default)"},style:{color:"var(--foreground-dimmer)"}}):e," "]})]}),"".concat(e).concat(n))]},"".concat(n).concat(e).concat(n))}))}):null,(0,c.tZ)(l(),{id:"3334e859a3d5803a",children:'.menu.jsx-3334e859a3d5803a{font-weight:var(--font-weight-regular);cursor:pointer;overflow-y:auto;top:100%;width:100%;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:var(--background-default);border:1px solid var(--background-higher);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);list-style:none;-webkit-box-shadow:var(--shadow-1);-moz-box-shadow:var(--shadow-1);box-shadow:var(--shadow-1)}.truncate.jsx-3334e859a3d5803a{white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;direction:rtl;text-align:left}@media not all and (min-resolution:.001dpcm),not all and (-webkit-min-device-pixel-ratio:0),not all and (min--moz-device-pixel-ratio:0){@media{.truncate.jsx-3334e859a3d5803a{direction:ltr}}}@mediaand(-webkit-min-device-pixel-ratio:0){@media{.truncate.jsx-3334e859a3d5803a{direction:ltr}}}@media not all and (min-resolution:.001dpcm),not all and (-webkit-min-device-pixel-ratio:0),not all and (min--moz-device-pixel-ratio:0){@supports(-webkit-appearance:none)and (stroke-color:transparent){.truncate.jsx-3334e859a3d5803a{direction:ltr}}}.combobox.jsx-3334e859a3d5803a{display:"inline-block"}.li-wrap.jsx-3334e859a3d5803a{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;position:relative}li.jsx-3334e859a3d5803a{color:var(--foreground-default);margin:var(--space-4);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);font-weight:var(--font-weight-regular);cursor:pointer;white-space:nowrap;padding-top:var(--space-8);padding-right:var(--space-8);padding-bottom:var(--space-8);padding-left:var(--space-48)}.icon.jsx-3334e859a3d5803a{position:absolute;padding-left:var(--space-8);margin-top:var(--space-4);color:var(--foreground-dimmer)}'})]}))]})};function z(e){var n=e.type,t=e.initialValue,r=e.onSubmit,i=e.onCancel,o=e.siblings,a=e.parentPath,u=e.rename,h=(0,S.IF)(a),m=s.useRef(null),g=(0,f.Y)(t||"",(function(e){var n=F({siblingNames:h,fileName:e,initialValue:t,parentPath:a});return n?{message:n}:null}));return s.useEffect((function(){if(t){var e=t.lastIndexOf(".");-1===e&&(e=t.length),m.current&&m.current.setSelectionRange(0,e)}}),[t]),(0,c.BX)("div",{className:"jsx-214be0f492dbcad3 input-wrap",children:[u||n===d.Tv.Directory?(0,c.BX)(c.HY,{children:[(0,c.tZ)(p.ZP,{ref:m,validationResults:g.error?[{state:"error",message:g.error.message}]:void 0,autoFocus:!0,value:g.value,onBlur:function(){g.value&&g.value!==t?g.error?i():r(g.value):i()},onKeyUp:g.validate,onKeyDown:function(e){if("Enter"===e.key){if(g.error)return;return g.value!==t&&g.value?void r(g.value):void i()}"Escape"===e.key&&i()},onChange:function(e){g.setValue(e.target.value)}}),(0,c.tZ)("div",{className:"jsx-214be0f492dbcad3 icon",children:(0,c.tZ)(v.qh,{type:n,path:g.value})})]}):(0,c.tZ)(I,{onSelect:function(e){F({siblingNames:h,fileName:e,parentPath:a})||r(e)},onCancel:i,parentPath:a,type:n,siblings:o}),(0,c.tZ)(l(),{id:"a7badbaaf49636d0",children:".input-wrap.jsx-214be0f492dbcad3 input{padding-left:-webkit-calc(var(--space-32));padding-left:-moz-calc(var(--space-32));padding-left:calc(var(--space-32))}.icon.jsx-214be0f492dbcad3{padding-left:-webkit-calc(0*var(--space-16));padding-left:-moz-calc(0*var(--space-16));padding-left:calc(0*var(--space-16))}"}),(0,c.tZ)(l(),{id:"c77e680a97c77adf",children:".input-wrap.jsx-214be0f492dbcad3{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;font-size:var(--font-size-default);position:relative}.input-wrap.jsx-214be0f492dbcad3 input{font-size:inherit;padding-top:var(--space-4);padding-bottom:var(--space-4);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);min-height:var(--space-32)}.icon.jsx-214be0f492dbcad3{color:var(--foreground-dimmer);pointer-events none;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;top:0;left:0;height:100%}"})]})}},87588:function(e,n,t){t.d(n,{G2:function(){return l},Hq:function(){return s},aR:function(){return d},dZ:function(){return f}});var r=t(15165),i=t(91131),o=t(21131),a=t(15583),c=t(48551),u=t(31066),l=(0,i.cn)(null),s=function(){return(0,i.b9)(l,r.l)},d=function(e){var n=(0,o.Z)((function(){return(0,i.cn)((function(n){var t=n(l);return e===t}))}),[e]);return(0,i.Dv)(n,r.l)},f=function(e){var n=(0,o.Z)((function(){return(0,i.cn)((function(n){var t=n(l);return!!t&&((0,a.pC)(e,t)||e===u.Ql&&1===(0,c.U$)(t))}))}),[e]);return(0,i.Dv)(n,r.l)}},89075:function(e,n,t){t.d(n,{BM:function(){return x},Dm:function(){return y},G:function(){return l},GQ:function(){return f},Oh:function(){return g},P0:function(){return m},Uo:function(){return v},Up:function(){return p},X_:function(){return h},Z1:function(){return C},dd:function(){return u},eN:function(){return Z},gI:function(){return s},n1:function(){return b},tf:function(){return w}});var r=t(91131),i=t(15165),o=t(64824),a=t(21131),c=t(48551),u=(t(67294),(0,r.cn)({flags:{flagFiletreeMultiselect:!1},preferences:{multiselectModifierKey:"altKey"},readOnly:!1,openFile:function(e){},shouldHideFile:function(){return!1},sortNode:function(e,n){return(0,c.x$)(e,n)},onError:function(){},onAction:function(){}})),l=function(e){var n=(0,a.Z)((function(){return(0,o.kv)(u,(function(n){return Boolean(n.flags[e])}))}),[e]);return(0,r.Dv)(n,i.l)},s=(0,r.cn)((function(e){return e(u).preferences})),d=(0,r.cn)((function(e){return e(u).readOnly})),f=function(){return(0,r.Dv)(d,i.l)},p=(0,r.cn)((function(e){return e(u).openFile})),v=(0,r.cn)((function(e){return e(u).shouldHideFile})),h=function(){return(0,r.Dv)(v,i.l)},m=(0,r.cn)((function(e){return e(u).deleteDir})),g=(0,r.cn)((function(e){return e(u).deleteFile})),b=(0,r.cn)((function(e){return e(u).moveFile})),y=(0,r.cn)((function(e){return e(u).moveDir})),x=(0,r.cn)((function(e){return e(u).readFile})),Z=(0,r.cn)((function(e){return e(u).onError})),w=(0,r.cn)((function(e){return e(u).onAction})),k=(0,r.cn)((function(e){return e(u).onFileDragEnd})),C=function(){return(0,r.Dv)(k,i.l)}},48730:function(e,n,t){t.d(n,{Hl:function(){return w},IF:function(){return m},IU:function(){return Z},QF:function(){return k},kN:function(){return x}});var r=t(67294),i=t(21131),o=t(65456),a=t(64824),c=t(91131),u=t(83043),l=t(15165),s=t(87588),d=t(15716),f=t(89075),p=t(31066),v=t(48551),h=t(67911),m=function(e){var n=(0,i.Z)((function(){return(0,a.kv)(u.Aw,(function(n){var t,r;return(null===(t=n[e])||void 0===t||null===(r=t.children)||void 0===r?void 0:r.map((function(e){return e.filename})))||[]}))}),[e]);return(0,c.Dv)(n,l.l)},g=(0,c.cn)(null),b=(0,c.cn)(null),y=(0,c.cn)(null,(function(e,n,t){if(n(b,t),t){var r=e(s.G2);if(r){var i=e(u.Aw);if(r&&Object.prototype.hasOwnProperty.call(i,r))n(g,r),n(h.Uk,{path:r,expanded:!0});else{var o=(0,v.Il)(r)||p.Ql;n(g,o)}e(f.tf)({action:"added",source:"filetree",fileType:t})}else n(g,p.Ql)}else n(g,null)})),x=function(){return(0,c.Dv)(b,l.l)},Z=function(e){var n=(0,i.Z)((function(){return(0,c.cn)((function(n){var t=n(b),r=n(g);return t&&e===r}))}),[e]);return(0,c.Dv)(n,l.l)},w=function(){return(0,c.b9)(y,l.l)},k=function(){return(0,a.lV)(r.useCallback((function(e,n,t){n(b,null);var r=t.path,i=t.type,a=e(f.Up);n(s.G2,r),n(d.cf,r),i===o.Tv.File&&a(r,{newTab:!1})}),[]),l.l)}},70034:function(e,n,t){t.d(n,{Db:function(){return f},Fe:function(){return s},_7:function(){return p},tO:function(){return u},zA:function(){return d}});var r=t(47568),i=t(70655),o=t(65456),a=t(91131),c=t(89075),u=(0,a.cn)([]),l=function(e){if(1===e.length)return e[0].type===o.Tv.File?"file":"folder";if(e.length>1){var n=e.filter((function(e){return e.type===o.Tv.File})).length,t=e.filter((function(e){return e.type===o.Tv.Directory})).length,r=n>1?"files":"file",i=t>1?"folders":"folder",a="file";return n>0&&t>0?a="".concat(r," and ").concat(i):n>0?a="".concat(r):t>0&&(a="".concat(i)),"".concat(a)}return""},s=(0,a.cn)((function(e){var n=e(u),t=n.slice(0,5).map((function(e){return e.path})).join(", ");return n.length>5?"".concat(t," and ").concat(n.length-5," more ").concat(l(n.slice(5))):t})),d=(0,a.cn)((function(e){var n=e(u),t=l(n);return 1===n.length?t:"".concat(n.length," ").concat(t)})),f=(0,a.cn)([]),p=(0,a.cn)(null,function(){var e=(0,r.Z)((function(e,n,t){var r,a,u,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:r=e(c.Oh),a=e(c.P0),u=e(c.eN),i.label=1;case 1:return i.trys.push([1,3,4,5]),n(f,t),[4,Promise.all(t.map((function(e){return a&&r?e.type===o.Tv.Directory?a(e.path).then((function(e){var n=e.error;if(n)throw n})):r(e.path).then((function(e){var n=e.error;if(n)throw n})):Promise.resolve()})))];case 2:return i.sent(),[3,5];case 3:return l=i.sent(),u("Something went wrong trying to delete files: ".concat(l)),[3,5];case 4:return n(f,[]),[7];case 5:return[2]}}))}));return function(n,t,r){return e.apply(this,arguments)}}())},67911:function(e,n,t){t.d(n,{Fz:function(){return Z},Th:function(){return w},Uk:function(){return y},dg:function(){return b},p$:function(){return k}});var r=t(14924),i=t(26042),o=t(69396),a=t(29815),c=t(21131),u=t(31066),l=t(91131),s=t(64824),d=t(67294),f=t(15223),p=t(95249),v=t(83043),h=t(15165),m=t(62826),g=t(48551),b=function(e){var n=(0,c.Z)((function(){return(0,s.kv)(v.Aw,(function(n){return n[e]}))}),[e]),t=(0,p.k)(),r=(0,f.l)(),d=(0,c.Z)((function(){return(0,l.cn)((function(c){var l,s=c(n);if(s){var d=c(m.v).filter((function(n){var t,r=(0,g.Il)(n.path)||u.Ql,i=(0,g.UO)(n.path),o=r===e,a=null===(t=s.children)||void 0===t?void 0:t.some((function(e){return e.filename===i}));return o&&!a})).map((function(e){return{filename:(0,g.UO)(e.path),type:e.type,path:e.path,isOptimistic:!0}}));return(0,o.Z)((0,i.Z)({},s),{children:(0,a.Z)(d).concat((0,a.Z)((null===(l=s.children)||void 0===l?void 0:l.map((function(n){var t=n.filename;return{filename:t,type:n.type,path:e===u.Ql?t:"".concat(e,"/").concat(t)}})))||[])).filter(t).sort(r)})}}))}),[n,e,t,r]);return(0,l.Dv)(d,h.l)},y=(0,l.cn)(null,(function(e,n,t){var a,c=t.path,u=t.expanded,l=e(v.Aw);(null===(a=l[c])||void 0===a?void 0:a.expanded)!==u&&(u&&n(v.AQ,{path:c}),n(v.Aw,(0,o.Z)((0,i.Z)({},l),(0,r.Z)({},c,(0,o.Z)((0,i.Z)({},l[c]),{expanded:u})))))})),x=(0,l.cn)(null,(function(e,n,t){var r,i=null===(r=e(v.Aw)[t])||void 0===r?void 0:r.expanded;n(y,{path:t,expanded:!i})})),Z=function(){return(0,l.b9)(x,h.l)},w=(0,l.cn)(null,(function(e,n,t){if(null!=t){var r=t.split("/").slice(0,-1);r.map((function(e,n){return r.slice(0,n+1).join("/")})).forEach((function(e){n(y,{path:e,expanded:!0})}))}})),k=function(e){var n=(0,l.b9)(y,h.l);return{expand:d.useCallback((function(){n({path:e,expanded:!0})}),[e,n]),collapse:d.useCallback((function(){n({path:e,expanded:!1})}),[e,n])}}},95249:function(e,n,t){t.d(n,{X:function(){return c},k:function(){return u}});var r=t(91131),i=t(15165),o=t(89075),a=t(62826),c=(0,r.cn)((function(e){var n=e(o.Uo),t=e(a.o);return function(e){var r=e.path;return!n(r)&&!t.find((function(e){return e.path===r}))}})),u=function(){return(0,r.Dv)(c,i.l)}},83043:function(e,n,t){t.d(n,{AQ:function(){return g},Aw:function(){return v},Ol:function(){return b},Yc:function(){return y}});var r=t(14924),i=t(26042),o=t(69396),a=t(67294),c=t(31066),u=t(91131),l=t(15165),s=t(18172),d=t(21131),f=(0,u.cn)(null),p=(0,u.cn)({}),v=(0,u.cn)({}),h=(0,u.cn)(null,(function(e,n,t){var r=e(p),i=(0,s.ZP)(r,(function(e){delete e[t]}));n(p,i)})),m=(0,u.cn)(null,(function(e){var n=e(p),t=Object.values(n),r=!0,i=!1,o=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){(0,a.value)()}}catch(u){i=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}})),g=(0,u.cn)(null,(function(e,n,t){var a=t.path,c=e(f);if(c){var u=e(p);if(!u[a]){var l=c.watchDir(a,{onChange:function(t){var c=e(v);n(v,(0,o.Z)((0,i.Z)({},c),(0,r.Z)({},a,(0,o.Z)((0,i.Z)({},c[a]),{children:t}))))},onMoveOrDelete:function(){n(h,a);var t=e(v),r=(0,s.ZP)(t,(function(e){delete e[a]}));n(v,r)},onError:function(t){var r=e(v),c=(0,s.ZP)(r,(function(e){e[a]=(0,o.Z)((0,i.Z)({},e[a]),{error:t})}));n(v,c)}}),d=(0,s.ZP)(u,(function(e){e[a]=l}));n(p,d)}}})),b=function(){var e=(0,u.b9)(g,l.l);return(0,d.Z)((function(){return function(n){return e({path:n})}}),[e])},y=function(e){var n=e.fs,t=(0,u.b9)(f,l.l),r=b(),i=(0,u.b9)(m,l.l);a.useEffect((function(){return t(n),r(c.Ql),function(){i(),t(null)}}),[i,r,n,t])}},12365:function(e,n,t){t.d(n,{D:function(){return c},S:function(){return s}});var r=t(35944),i=t(67294),o=t(91131),a=t(15165),c=function(e){var n=e.children;return(0,r.tZ)(o.zt,{scope:a.l,children:n})},u=t(15716),l=t(89075),s=function(e){var n=(0,o.b9)(l.dd,a.l);i.useEffect((function(){n(e)}),[e,n]);var t=e.activeFile,r=(0,u.Hc)();i.useEffect((function(){t&&r(t)}),[t,r])}},85216:function(e,n,t){t.d(n,{GC:function(){return p},dK:function(){return l},nx:function(){return d},oV:function(){return s},ub:function(){return f}});var r=t(47568),i=t(70655),o=t(65456),a=t(15583),c=t(91131),u=t(89075),l=(0,c.cn)([]),s=(0,c.cn)([]),d=(0,c.cn)([]),f=(0,c.cn)(null,function(){var e=(0,r.Z)((function(e,n,t){var r,a,c,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:r=e(u.n1),a=e(u.Dm),c=e(u.eN),i.label=1;case 1:return i.trys.push([1,3,4,5]),n(l,t),[4,Promise.all(t.map((function(e){var n=e.src,t=e.dst;return r&&a?n.type===o.Tv.Directory?a(n.path,t.path).then((function(e){var n=e.error;if(n)throw n})):r(n.path,t.path).then((function(e){var n=e.error;if(n)throw n})):Promise.resolve()})))];case 2:return i.sent(),[3,5];case 3:return s=i.sent(),c("Something went wrong trying to move files: ".concat(s)),[3,5];case 4:return n(l,[]),[7];case 5:return[2]}}))}));return function(n,t,r){return e.apply(this,arguments)}}()),p=(0,c.cn)(null,function(){var e=(0,r.Z)((function(e,n,t){var r,c,l,s,d,p,v;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:r=t.moveOps,c=t.dstConflicts,l=e(u.Oh),s=e(u.P0),d=e(u.eN),i.label=1;case 1:if(i.trys.push([1,3,,4]),p=c.some((function(e){return r.some((function(n){var t=n.src;return(0,a.yr)(e.path,t.path)}))})),p)throw new Error("Cannot overwrite ancestor folder with the same name");return[4,Promise.all(c.map((function(e){return s&&l?e.type===o.Tv.Directory?s(e.path).then((function(e){var n=e.error;if(n)throw n})):l(e.path).then((function(e){var n=e.error;if(n)throw n})):Promise.resolve()})))];case 2:return i.sent(),n(f,r),[3,4];case 3:return v=i.sent(),d("Something went wrong trying to overwrite files: ".concat(v)),[3,4];case 4:return[2]}}))}));return function(n,t,r){return e.apply(this,arguments)}}())},27709:function(e,n,t){t.d(n,{Sv:function(){return p},ZC:function(){return v},h6:function(){return h}});var r=t(29815),i=t(31066),o=t(65456),a=t(91131),c=t(15223),u=t(95249),l=t(83043),s=t(15165),d=t(21131);function f(e){var n=e.path,t=e.dirInfo,a=e.filterNode,c=e.sortNode,u=e.isRootPath,l=u(n)?[]:[{path:n,type:o.Tv.Directory}],s=t[n];if(!s)return l;var d=s.children,p=s.error;return!s.expanded&&!u(n)||p||null===d||void 0===d||d.map((function(e){var t=e.filename;return{filename:t,type:e.type,path:n===i.Ql?t:"".concat(n,"/").concat(t)}})).filter(a).sort(c).forEach((function(e){var n,i=e.type,s=e.path;i===o.Tv.Directory?(n=l).push.apply(n,(0,r.Z)(f({path:s,dirInfo:t,filterNode:a,sortNode:c,isRootPath:u}))):l.push({type:i,path:s})})),l}var p=(0,a.cn)((function(e){return f({path:i.Ql,dirInfo:e(l.Aw),filterNode:e(u.X),sortNode:e(c.o),isRootPath:function(e){return e===i.oh||e===i.Ql}})})),v=function(e){return(0,d.Z)((function(){return(0,a.cn)((function(n){return f({path:e,dirInfo:n(l.Aw),filterNode:n(u.X),sortNode:n(c.o),isRootPath:function(n){return n===e}})}))}),[e])},h=function(e){var n=v(e);return(0,a.Dv)(n,s.l)}},62826:function(e,n,t){t.d(n,{o:function(){return c},v:function(){return u}});var r=t(29815),i=t(91131),o=t(70034),a=t(85216),c=(0,i.cn)((function(e){var n=e(o.Db),t=e(a.dK).map((function(e){return e.src}));return(0,r.Z)(n).concat((0,r.Z)(t))})),u=(0,i.cn)((function(e){return e(a.dK).map((function(e){return e.dst}))}))},44659:function(e,n,t){t.d(n,{D3:function(){return f},E7:function(){return d},d5:function(){return p}});var r=t(47568),i=t(70655),o=t(67294),a=t(64824),c=t(85216),u=t(15165),l=t(91131),s=(0,l.cn)(null),d=function(){return(0,l.Dv)(s,u.l)},f=function(){return(0,l.b9)(s,u.l)},p=function(){return(0,a.lV)(o.useCallback(function(){var e=(0,r.Z)((function(e,n,t){var r,o,a;return(0,i.__generator)(this,(function(e){return r=t.path,o=t.to,a=t.fileType,n(c.ub,[{src:{path:r,type:a},dst:{path:o,type:a}}]),[2]}))}));return function(n,t,r){return e.apply(this,arguments)}}(),[]),u.l)}},15716:function(e,n,t){t.d(n,{AM:function(){return P},Hc:function(){return g},IQ:function(){return F},ON:function(){return w},cf:function(){return k},dv:function(){return x},lK:function(){return S},m5:function(){return Z},n5:function(){return E},qp:function(){return j},uF:function(){return R},uH:function(){return T},yQ:function(){return N}});var r=t(14924),i=t(26042),o=t(18172),a=t(91131),c=t(65456),u=t(15165),l=t(21131),s=t(64824),d=t(83043),f=t(27709),p=t(87588),v=t(67911),h=t(48551),m=(0,a.cn)(null,(function(e,n,t){n(p.G2,t),n(k,t),n(v.Th,t)})),g=function(){return(0,a.b9)(m,u.l)},b=(0,a.cn)({}),y=(0,a.cn)({}),x=(0,a.cn)((function(e){var n=e(b),t=e(y);return(0,i.Z)({},n,t)})),Z=(0,a.cn)((function(e){var n=e(d.Aw),t=e(x);return Object.keys(t).map((function(e){return{path:e,type:Object.prototype.hasOwnProperty.call(n,e)?c.Tv.Directory:c.Tv.File}}))})),w=(0,a.cn)((function(e){var n=e(Z);return(0,h.RQ)(n)})),k=(0,a.cn)(null,(function(e,n,t){n(b,t?(0,r.Z)({},t,!0):{}),n(y,{})})),C=(0,a.cn)(null,(function(e,n,t){var r=e(b),i=e(y),a=(0,o.ZP)(r,(function(e){e[t]||i[t]?delete e[t]:e[t]=!0}));n(b,a);var c=(0,o.ZP)(i,(function(e){e[t]&&delete e[t]}));n(y,c)})),D=(0,a.cn)(null,(function(e,n,t){var r=e(f.Sv);if(r){var i=r.findIndex((function(e){return e.path===t})),a=e(p.G2),c=r.findIndex((function(e){return e.path===a})),u=r.slice(Math.min(i,c),Math.max(i,c)+1),l=e(b),s=(0,o.ZP)(l,(function(e){u.forEach((function(n){e[n.path]&&delete e[n.path]}))}));n(b,s);var d=u.reduce((function(e,n){return e[n.path]=!0,e}),{});n(y,d)}})),E=function(e){var n=(0,l.Z)((function(){return(0,s.kv)(x,(function(n){return n[e]}))}),[e]);return(0,a.Dv)(n,u.l)},P=function(e){var n=(0,l.Z)((function(){return(0,a.cn)((function(n){var t=n(x),r=n(f.Sv),i=r.findIndex((function(n){return n.path===e}));if(i<0)return!1;var o=r[i-1];return o&&Object.hasOwnProperty.call(t,o.path)}))}),[e]);return(0,a.Dv)(n,u.l)},R=function(e){var n=(0,l.Z)((function(){return(0,a.cn)((function(n){var t=n(x),r=n(f.Sv),i=r.findIndex((function(n){return n.path===e}));if(i<0)return!1;var o=r[i+1];return o&&Object.hasOwnProperty.call(t,o.path)}))}),[e]);return(0,a.Dv)(n,u.l)},N=function(e){var n=(0,l.Z)((function(){return(0,a.cn)((function(n){var t=n(f.Sv),r=t.findIndex((function(n){return n.path===e}));if(r<0)return!1;var i=t[r],o=t[r-1];return!!o&&(0,h.U$)(o.path)<=(0,h.U$)(i.path)}))}),[e]);return(0,a.Dv)(n,u.l)},T=function(e){var n=(0,l.Z)((function(){return(0,a.cn)((function(n){var t=n(f.Sv),r=t.findIndex((function(n){return n.path===e}));if(r<0)return!1;var i=t[r],o=t[r+1];return!!o&&(0,h.U$)(o.path)<=(0,h.U$)(i.path)}))}),[e]);return(0,a.Dv)(n,u.l)},j=function(){return(0,a.b9)(k,u.l)},S=function(){return(0,a.b9)(C,u.l)},F=function(){return(0,a.b9)(D,u.l)}},15223:function(e,n,t){t.d(n,{l:function(){return c},o:function(){return a}});var r=t(91131),i=t(15165),o=t(89075),a=(0,r.cn)((function(e){return e(o.dd).sortNode})),c=function(){return(0,r.Dv)(a,i.l)}},15165:function(e,n,t){t.d(n,{l:function(){return r}});var r=Symbol("filetree")},17694:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(67911);function i(e){var n,t,i,o=e.path,a=e.initialExpanded,c=(0,r.dg)(o),u=null!==(n=null===c||void 0===c?void 0:c.children)&&void 0!==n?n:null,l=null!==(t=null===c||void 0===c?void 0:c.error)&&void 0!==t?t:null,s=Boolean(null!==(i=null===c||void 0===c?void 0:c.expanded)&&void 0!==i?i:a),d=(0,r.p$)(o),f=d.expand,p=d.collapse;return s?l?{collapse:p,expand:f,children:null,expanded:s,loading:!1,error:l}:u?{collapse:p,expand:f,children:u,loading:!1,error:l,expanded:s}:{collapse:p,expand:f,children:u,loading:!0,error:l,expanded:s}:{collapse:p,expand:f,children:null,loading:!1,error:null,expanded:s}}},66681:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(26042),i=t(35944),o=t(67294),a=t(92350),c=t(96711),u=t(51010),l=t(24351),s=t(21131),d=o.memo(a.ZP);function f(e){var n=e.source,t=e.sourcePos,o=e.fs,a=e.path,f=(0,c.l)(o,a),p=(0,l.Z)(n,100),v=(0,s.Z)((function(){return{img:f,a:function(e){return(0,i.tZ)(u.Z,(0,r.Z)({filePath:a},e))}}}),[f,a]);return(0,i.tZ)(d,{components:v,sourcePos:t,children:p})}},63872:function(e,n,t){t.d(n,{A:function(){return s},Z:function(){return l}});var r=t(35944),i=t(67294),o=t(48551),a=t(15085),c=t(6148),u=t(77365);function l(e){var n=e.fs,t=e.filePath,l=(0,i.useState)(null),d=l[0],f=l[1],p=(0,i.useState)(!0),v=p[0],h=p[1];return(0,i.useEffect)((function(){var e=n.watchFile(t,{onChange:function(e){f(e.toString("base64")),h(!1)},onError:function(){f(null),h(!1)},onMoveOrDelete:function(){f(null),h(!1)}});return function(){e(),h(!0),f(null)}}),[n,t]),v?(0,r.tZ)(u.Z,{}):d?(0,r.BX)(r.HY,{children:[(0,r.tZ)(s,{content:d,mime:(0,o.yC)(t)}),(0,r.tZ)(a.hU,{alt:"Download",css:[a.l0.position.absolute,a.l0.bottom(8),a.l0.right(8),a.l0.p(16)],children:(0,r.tZ)("a",{href:"data:text/plain;base64,".concat(d),download:(0,o.UO)(t),css:[a.l0.color.foregroundDimmer],children:(0,r.tZ)(c.Z,{})})})]}):(0,r.tZ)(a.xv,{children:"Failed to load media file"})}var s=function(e){var n=e.content,t=e.mime,i=void 0===t?"":t;if(i.startsWith("video/"))return(0,r.tZ)("video",{src:"data:".concat(i,";base64,").concat(n),css:{maxHeight:"100%",maxWidth:"100%"},controls:!0});if(i.startsWith("image/"))return(0,r.tZ)("img",{alt:"Preview",src:"data:".concat(i,";base64,").concat(n),css:{width:"80%",height:"80%",objectFit:"contain",imageRendering:"pixelated"}});if(i.startsWith("audio/")){var o=i;return"audio/wave"===o&&(o="audio/wav"),(0,r.tZ)("audio",{src:"data:".concat(o,";base64,").concat(n),css:{maxHeight:"100%",maxWidth:"100%"},controls:!0})}return"application/pdf"===i?(0,r.tZ)("object",{data:"data:".concat(i,";base64,").concat(n),type:"application/pdf",css:{width:"100%",height:"100%",flex:1},children:(0,r.tZ)("embed",{src:"data:".concat(i,";base64,").concat(n),type:"application/pdf",css:{width:"100%",height:"100%"}})}):(0,r.tZ)(a.xv,{children:"File type not supported."})}},24337:function(e,n,t){t.d(n,{Z:function(){return y}});var r,i=t(47568),o=t(10253),a=t(70655),c=t(35944),u=t(87603),l=t.n(u),s=t(67294),d=t(92876),f=t(96189),p=t(60977),v=t(48506),h=t(75240),m=t(6625),g=t(77365);!function(e){e.Connecting="Connecting",e.Connected="Connected",e.Disconnected="Disconnected"}(r||(r={}));var b="VNC_PASSWORD";function y(e){var n=e.fs,u=e.container,y=(0,o.Z)(s.useState(null),2),x=y[0],Z=y[1],w=(0,o.Z)(s.useState(void 0),2),k=w[0],C=w[1],D=(0,o.Z)(s.useState(r.Connecting),2),E=D[0],P=D[1],R=(0,o.Z)(s.useState(null),2),N=R[0],T=R[1],j=(0,o.Z)(s.useState(!1),2),S=j[0],F=j[1],A=(0,o.Z)(s.useState(!1),2),O=A[0],I=A[1],z=(0,o.Z)(s.useState(null),2),L=z[0],U=z[1],B=s.useRef(0),M=(0,m.Z)();(0,p.j)(p.U3.VNC_OPENED),s.useEffect((function(){if(u.getConnectionState()!==h.e.CONNECTED)return u.onConnectionStateChanged((function(e){e===h.e.CONNECTED&&U(u.getVncUrl())}));U(u.getVncUrl())}),[u]);var V=(0,o.Z)(s.useState(null),2),Q=V[0],W=V[1],K=s.useRef((function(){return null}));s.useEffect((function(){K.current()}),[Q]);var X=(0,f.Z)((function(e){return W(e.width&&e.height?{width:e.width,height:e.height}:null)}),{type:"throttle",wait:100}),H=s.useRef((function(e){}));s.useEffect((function(){H.current(O)}),[O]),s.useEffect((function(){if(!x){var e=!1;return t.e(581).then(t.bind(t,80581)).then((function(n){e||Z(n)})),function(){e=!0}}}),[x]),s.useEffect((function(){E===r.Disconnected&&setTimeout((function(){M.current&&P(r.Connecting)}),Math.random()*(Math.pow(2,B.current)-1)*1e3)}),[E,M]),s.useEffect((function(){if(L&&N&&x&&E===r.Connecting){B.current++;var e=x.default,t=u.getConnectionMetadata(),o={credentials:{username:null===t||void 0===t?void 0:t.token,password:k||""}};(0,p.j)(p.U3.VNC_CONNECTED);var c=new e(N,L,o);c.scaleViewport=!0,c.resizeSession=!0;var l=function(){M.current&&(B.current=0,P(r.Connected))},s=function(e){var n=e.detail.capabilities.audio;F(void 0!==window.MediaSource&&!!n)},f=function(){K.current=function(){return null},H.current=function(e){},c.removeEventListener("securityfailure",h),c.removeEventListener("disconnect",f),c.removeEventListener("capabilities",s),c.removeEventListener("connect",l),M.current&&P(r.Disconnected)},h=function(){if(M.current){var e=function(){var e=window.prompt("The output is password protected, please input it:");e&&C(e)},t=function(){var t=(0,i.Z)((function(){var t,r,i;return(0,a.__generator)(this,(function(o){switch(o.label){case 0:return[4,n.readFile(".env")];case 1:return t=o.sent(),M.current?t.error?(e(),[2]):(r=t.content.toString("utf8"),i=v.Z.parse(r),b in i?(C(i.VNC_PASSWORD),[2]):(e(),[2])):[2]}}))}));return function(){return t.apply(this,arguments)}}();t().catch((function(e){return d.Tb(e)}))}};return c.addEventListener("connect",l),c.addEventListener("capabilities",s),c.addEventListener("disconnect",f),c.addEventListener("securityfailure",h),K.current=function(){return c._windowResize()},F(!1),I(!1),H.current=function(n){n?((0,p.j)(p.U3.VNC_AUDIO_ENABLED),c.enableAudio(2,window.MediaSource.isTypeSupported("audio/webm;codecs=opus")?e.audioCodecs.OpusWebM:e.audioCodecs.MP3,32768)):c.disableAudio()},function(){M.current||(K.current=function(){return null},H.current=function(e){},c.removeEventListener("securityfailure",h),c.removeEventListener("disconnect",f),c.removeEventListener("capabilities",s),c.removeEventListener("connect",l),c.disconnect())}}}),[x,N,u,L,n,k,E,M]);var Y="vnc-output-".concat(E.toLowerCase());return(0,c.BX)("div",{className:"jsx-612fb0831fb3a82c vnc",children:[S?(0,c.BX)("label",{className:"jsx-612fb0831fb3a82c vnc-audio",children:["\ud83c\udfa7"," ",(0,c.tZ)("input",{type:"checkbox",checked:O,onChange:function(e){return I(e.target.checked)},className:"jsx-612fb0831fb3a82c"})]}):null,(0,c.tZ)("div",{ref:function(e){X(e),T(e)},"data-cy":Y,className:"jsx-612fb0831fb3a82c vnc-target"}),E!==r.Connected&&(0,c.tZ)("div",{className:"jsx-612fb0831fb3a82c vnc-overlay",children:(0,c.tZ)(g.Z,{size:32})}),(0,c.tZ)(l(),{id:"612fb0831fb3a82c",children:".vnc.jsx-612fb0831fb3a82c{position:relative}.vnc.jsx-612fb0831fb3a82c,.vnc-target.jsx-612fb0831fb3a82c{height:100%;width:100%}.vnc-audio.jsx-612fb0831fb3a82c{position:absolute;bottom:0;right:0;padding:.2em}.vnc-overlay.jsx-612fb0831fb3a82c{top:0;position:absolute;height:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;background:rgba(0,0,0,.85);color:var(--white)}"})]})}},14314:function(e,n,t){t.d(n,{aG:function(){return b},tv:function(){return y},pu:function(){return g}});var r=t(56724),i=t(58502),o=t(10253),a=t(29815),c=t(67294),u=t(15583);var l=t(99408),s=t(26042),d=t(7297),f=t(31230),p=t(37887);function v(){var e=(0,d.Z)(["\n  query WorkspaceActiveUsers($userIds: [Int!]!) {\n    usersByIds(ids: $userIds) {\n      id\n      image\n    }\n  }\n"]);return v=function(){return e},e}var h={},m=(0,f.Ps)(v());function g(e){var n=function(e){var n=(0,s.Z)({},h,e);return p.a(m,n)}({variables:{userIds:e},skip:0===e.length}).data;return n?new Map(n.usersByIds.map((function(e){return[e.id,e.image]}))):null}function b(){var e=function(){var e=(0,l.Z)().presence,n=(0,i.Z)({presence:e}),t=(0,r.d)();return n.filter((function(e){return e.id!==t}))}(),n=g(e.map((function(e){return e.id}))),t=[],o=!0,a=!1,c=void 0;try{for(var u,s=e[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var d=u.value;t.push({id:d.id,username:d.username,color:d.color,image:null===n||void 0===n?void 0:n.get(d.id)})}}catch(f){a=!0,c=f}finally{try{o||null==s.return||s.return()}finally{if(a)throw c}}return t}function y(e){var n=(0,l.Z)().presence,t=b(),r=function(e){var n=e.presence,t=e.path,r=n.getPathToUserIds().get(t)||[],i=(0,o.Z)(c.useState(r),2),l=i[0],s=i[1];return c.useEffect((function(){s(n.getPathToUserIds().get(t)||[]);var e=n.onActiveUsersChange((function(e){s((function(n){return n.filter((function(n){return e.some((function(e){return n===e.id}))}))}))})),r=n.onUserOpenedFile((function(e){var n=e.user,r=e.file;r&&(t===r||(0,u.yr)(t,r))?s((function(e){return e.includes(n.id)?e:(0,a.Z)(e).concat([n.id])})):s((function(e){return e.filter((function(e){return e!==n.id}))}))}));return function(){e(),r()}}),[n,t]),l}({path:e,presence:n});return t.filter((function(e){return r.includes(e.id)}))}},37452:function(e,n,t){t.d(n,{T:function(){return b},W:function(){return y}});var r=t(47568),i=t(10253),o=t(70655),a=t(15519),c=t(84810),u=t(65456),l=t(31066),s=t(17780),d=t(7297),f=t(31230);function p(){var e=(0,d.Z)(["\n  query LoadDefaultFile($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        language\n      }\n    }\n  }\n"]);return p=function(){return e},e}var v=(0,f.Ps)(p());var h=t(48551),m=".replit",g="replit.nix";function b(e,n){var t=n.startsWith("nix"),r=t?null:a.Z.getMainFileName(n);if(r&&a.Z.usesInterpreter(n)&&e.includes(r))return r;if(e.includes("Makefile"))return"Makefile";if(r&&e.includes(r))return r;if(!t&&e.includes(m))return".replit";var i=e.find(h.gK);return i||e.find((function(e){return(!t||![m,g].includes(e))&&!(0,c.C)(e)}))}function y(e){return x.apply(this,arguments)}function x(){return x=(0,r.Z)((function(e){var n,t,a,c,d,f,p,m,g,y,x,Z,w;function k(){return C.apply(this,arguments)}function C(){return C=(0,r.Z)((function(){var e,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return(e=null===m||void 0===m?void 0:m.entrypoint)?(0,h.Il)(e)?[4,t.stat(e)]:[2,x.includes(e)?e:null]:[2,null];case 1:return[2,(n=r.sent()).exists&&n.type===u.Tv.File?e:null]}}))})),C.apply(this,arguments)}return(0,o.__generator)(this,(function(r){switch(r.label){case 0:if(n=e.dotReplit,t=e.fs,a=e.replId,!s.l)throw new Error("Expected apollo client");return[4,Promise.all([s.l.query({query:v,variables:{replId:a}}),t.readDir(l.Ql),n.getConfig()])];case 1:if(c=i.Z.apply(void 0,[r.sent(),3]),d=c[0].data,f=c[1],p=c[2],m=p.config,!f||f.error)throw new Error("Could not read files");return g=f.children,y=g.find((function(e){return e.type===u.Tv.File&&e.filename.toLowerCase().endsWith("readme.md")})),x=g.filter((function(e){return e.type===u.Tv.File})).map((function(e){return e.filename})),[4,k()];case 2:return(Z=r.sent())?[2,{entrypoint:Z,readmeFile:null===y||void 0===y?void 0:y.filename}]:(w="Repl"===d.repl.__typename?d.repl.language:"",[2,{entrypoint:b(x,w),readmeFile:null===y||void 0===y?void 0:y.filename}])}}))})),x.apply(this,arguments)}},69453:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(60977);function i(e){(0,r.j)(r.U3.FILETREE_USED,e)}},54992:function(e,n,t){t.d(n,{DQ:function(){return l},Dp:function(){return a},F3:function(){return s},KM:function(){return u},Zh:function(){return c},b:function(){return f}});var r=t(70917),i=t(15085),o=t(48551);function a(e){var n=e.path;return n?(0,o.T3)(n)?"media":(0,o.sL)(n)?"draw":(0,o.IQ)(n)?"pedit":"codeEditor":"codeEditor"}function c(e){return"codeEditor"===e||"media"===e||"pedit"===e||"draw"===e||"history"===e}function u(e){return c(e.type)}function l(e){return u(e)?e.data.path:null}var s=(0,r.iv)([i.l0.width("100%"),i.l0.maxWidth(600),{marginLeft:"auto",marginRight:"auto"}]),d=["autograder","education","instructions","markdown","threadInbox","chat","docs","webview","vnc","runnerOutput","git","packager","envEditor","debugger","tutorial","kaboombar","database","neon","replAuth","autograder","unitTests","education","preferences","adminPanel","deployments"];function f(e){return d.includes(e)}},7657:function(e,n,t){var r;t.d(n,{N:function(){return r}}),function(e){e.AdminTutorialUpdate="admin-tutorial-update",e.CommunityPost="community-post",e.ProfileImage="profile-image",e.ProfileCoverImage="profile-cover-image",e.TemplateIcon="template-icon",e.ReplIcon="repl-icon",e.ReplCoverImage="repl-cover-image",e.TrainingProfileImage="training-profile-image"}(r||(r={}))}}]);
//# sourceMappingURL=8330-a5c523da199af8d5.js.map
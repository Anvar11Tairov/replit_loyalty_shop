"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3426],{71255:function(e,t,r){r.d(t,{Z:function(){return l},c:function(){return n}});var n="https://twitter.com/intent/tweet";function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.text,r=e.url,l=e.hashtags,i=e.via,a=new URLSearchParams;t&&a.append("text",t),r&&a.append("url",r),l&&a.append("hashtags",l.join(",")),i&&a.append("via",i);var o=a.toString();return o.length>0?"".concat(n,"?").concat(o):n}},61179:function(e,t,r){function n(e,t){var r=t.existing,n=t.getKey,l=new Map,i=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;l.set(n(c),c)}}catch(T){a=!0,o=T}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}var d=new Set,p=[],h=!0,f=!1,g=void 0;try{for(var v,m=r[Symbol.iterator]();!(h=(v=m.next()).done);h=!0){var Z=n(v.value),b=l.get(Z);b&&(p.push(b),d.add(Z))}}catch(T){f=!0,g=T}finally{try{h||null==m.return||m.return()}finally{if(f)throw g}}var w=!0,y=!1,R=void 0;try{for(var x,C=e[Symbol.iterator]();!(w=(x=C.next()).done);w=!0){var S=x.value;d.has(n(S))||p.push(S)}}catch(T){y=!0,R=T}finally{try{w||null==C.return||C.return()}finally{if(y)throw R}}return p}r.d(t,{Z:function(){return n}})},93426:function(e,t,r){r.d(t,{Z:function(){return ir}});var n=r(35944),l=r(67294),i=r(69346),a=r(15764),o=r(15085),s=r(77365),u=r(47568),c=r(14924),d=r(26042),p=r(69396),h=r(10253),f=r(70655),g=r(88961),v=r(18048),m=r(38630),Z=r(9517),b=r(85485),w=r(87340),y=r(51438),R=r(28668),x=r(33227),C=r(25171),S=r(64063),T=r.n(S),B=r(90317),V=r(7297),I=r(31230),k=r(37887);function G(){var e=(0,V.Z)(["\n  query ReplPublishInputRepl($id: String!) {\n    repl(id: $id) {\n      ... on Repl {\n        id\n        ...PublishReplData\n      }\n    }\n  }\n  ","\n"]);return G=function(){return e},e}var P={},F=(0,I.Ps)(G(),a.FW);var _=r(30992),E=r(49483),U=r(16965),D=r(50319);function W(){var e=(0,V.Z)(["\n  mutation UpdateReplUpdate($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        ...PublishReplData\n      }\n    }\n  }\n  ","\n"]);return W=function(){return e},e}var X={},H=(0,I.Ps)(W(),a.FW);function L(e){return e.message||"Something went wrong saving updates to your Repl"}function A(){var e=(0,h.Z)(function(e){var t=(0,d.Z)({},X,e);return D.D(H,t)}(),2),t=e[0],r=e[1];function n(){return(n=(0,u.Z)((function(e){return(0,f.__generator)(this,(function(n){switch(n.label){case 0:if(r.loading)return[2,{data:null,error:null}];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t({variables:{input:e}})];case 2:return[2,{data:n.sent().data,error:null}];case 3:return[2,{data:null,error:L(n.sent())}];case 4:return[2]}}))}))).apply(this,arguments)}return{data:r.data,loading:r.loading,error:r.error&&L(r.error),updateRepl:function(e){return n.apply(this,arguments)}}}function z(){var e=(0,V.Z)(["\n  mutation SetReplViewSettingsSetSettings($input: SetReplViewSettingsInput!) {\n    setReplViewSettings(input: $input) {\n      ... on ReplViewSettings {\n        id\n        repl {\n          id\n          ...PublishReplData\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return z=function(){return e},e}var N={},O=(0,I.Ps)(z(),a.FW);function M(e){var t,r,n,l,i,a,o;return e.error?e.error.message||"Something went wrong saving your Cover page":"NotFoundError"===(null===(t=e.data)||void 0===t||null===(r=t.setReplViewSettings)||void 0===r?void 0:r.__typename)||"UnauthorizedError"===(null===(n=e.data)||void 0===n||null===(l=n.setReplViewSettings)||void 0===l?void 0:l.__typename)||"UserError"===(null===(i=e.data)||void 0===i||null===(a=i.setReplViewSettings)||void 0===a?void 0:a.__typename)?e.data.setReplViewSettings.message:(null===(o=e.data)||void 0===o?void 0:o.setReplViewSettings)&&"ReplViewSettings"!==e.data.setReplViewSettings.__typename?"Something went wrong saving your Cover page":void 0}function K(){var e=(0,h.Z)(function(e){var t=(0,d.Z)({},N,e);return D.D(O,t)}(),2),t=e[0],r=e[1];function n(){return(n=(0,u.Z)((function(e){var n;return(0,f.__generator)(this,(function(l){switch(l.label){case 0:if(r.loading)return[2,{data:null,error:null}];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,t({variables:{input:e}})];case 2:return[2,{data:(n=l.sent()).data,error:M(n)}];case 3:return l.sent(),[2,{data:null,error:"Something went wrong saving your Cover page"}];case 4:return[2]}}))}))).apply(this,arguments)}return{data:r.data,loading:r.loading,error:M(r),setReplViewSettings:function(e){return n.apply(this,arguments)}}}function $(){var e=(0,V.Z)(["\n  mutation UseSetReplTagsSetTags($input: SetReplTagsInput!) {\n    setReplTags(input: $input) {\n      ... on Repl {\n        id\n        ...PublishReplData\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return $=function(){return e},e}var j={},Y=(0,I.Ps)($(),a.FW);function q(e){var t,r,n,l,i,a,o;return e.error?e.error.message||"Something went wrong saving your Repl Tags":"NotFoundError"===(null===(t=e.data)||void 0===t||null===(r=t.setReplTags)||void 0===r?void 0:r.__typename)||"UnauthorizedError"===(null===(n=e.data)||void 0===n||null===(l=n.setReplTags)||void 0===l?void 0:l.__typename)||"UserError"===(null===(i=e.data)||void 0===i||null===(a=i.setReplTags)||void 0===a?void 0:a.__typename)?e.data.setReplTags.message:(null===(o=e.data)||void 0===o?void 0:o.setReplTags)&&"Repl"!==e.data.setReplTags.__typename?"Something went wrong posting your Repl":void 0}function Q(){var e=(0,h.Z)(function(e){var t=(0,d.Z)({},j,e);return D.D(Y,t)}(),2),t=e[0],r=e[1];function n(){return(n=(0,u.Z)((function(e){var n;return(0,f.__generator)(this,(function(l){switch(l.label){case 0:if(r.loading)return[2,{data:null,error:null}];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,t({variables:{input:e}})];case 2:return[2,{data:(n=l.sent()).data,error:q(n)}];case 3:return l.sent(),[2,{data:null,error:"Something went wrong saving your Repl Tags"}];case 4:return[2]}}))}))).apply(this,arguments)}return{data:r.data,loading:r.loading,error:q(r),setReplTags:function(e){return n.apply(this,arguments)}}}var J,ee=r(19244),te=r(40914),re=r(60977),ne=1e3;function le(e){return"repl_file"===e||"repl_image"===e}!function(e){e.ReplFile="repl_file",e.ReplImage="repl_image"}(J||(J={}));var ie=function(e){(0,R.Z)(r,e);var t=(0,C.Z)(r);function r(){return(0,y.Z)(this,r),t.apply(this,arguments)}return r}((0,x.Z)(Error)),ae=function(e){(0,R.Z)(r,e);var t=(0,C.Z)(r);function r(){return(0,y.Z)(this,r),t.apply(this,arguments)}return r}((0,x.Z)(Error)),oe=function(e){(0,R.Z)(r,e);var t=(0,C.Z)(r);function r(){return(0,y.Z)(this,r),t.apply(this,arguments)}return r}((0,x.Z)(Error));function se(e){return e?e.length>60?{message:"Title should not be more than ".concat(60," characters")}:void 0:{message:"Give your Repl a title"}}function ue(e){return e?e.length>ne?{message:"Description should not be more than ".concat(ne," characters")}:void 0:{message:"What does this Repl do?"}}function ce(e){var t,r,n,i,a,o=(0,_.Y)(e.replId||null,(function(e){return e?null:{message:"Select a Repl to share"}})),s=function(e){var t=(0,d.Z)({},P,e);return k.a(F,t)}({variables:{id:o.value||""},skip:!o.value}),c="Repl"===(null===(t=s.data)||void 0===t?void 0:t.repl.__typename)?s.data.repl:null,p=Boolean(null===c||void 0===c?void 0:c.publishedAs),h=(0,_.Y)("",se),g=(0,_.Y)("",ue),v=(0,_.Y)(null,(function(){return null})),m=(0,_.Y)(J.ReplImage,(function(){return null})),Z=(0,_.Y)(null,(function(){return null})),b=(0,_.Y)("",e.fileValidator),w=(0,_.Y)([],(function(){return null})),y=(0,U.Z)(c),R=(0,_.Y)(!1,(function(e){var t=y.current;return e&&(null===t||void 0===t?void 0:t.lastPublishedAt)?{message:"This Repl has already been published. Please unpublish before publishing as a Template."}:e||(null===t||void 0===t?void 0:t.publishedAs)!==B.O2.Template?void 0:{message:"This Repl has already been published as a Template. Please unpublish before publishing as a Repl."}})),x=[o,h,g,v,m,Z,w,b,R],C=K(),S=Q(),V=A(),I=(0,ee.O)(),G=(0,te.r)(),D=(null===c||void 0===c||null===(r=c.replViewSettings)||void 0===r?void 0:r.defaultView)&&le(c.replViewSettings.defaultView)?c.replViewSettings.defaultView:J.ReplImage,W=(0,U.Z)(h.setValue),X=(0,U.Z)(g.setValue),H=(0,U.Z)(w.setValue),L=(0,U.Z)(v.setValue),z=(0,U.Z)(Z.setValue),N=(0,U.Z)(m.setValue),O=(0,U.Z)(b.setValue),M=(0,U.Z)(R.setValue);(0,l.useEffect)((function(){var e,t,r,n;c&&(M.current("Template"===c.publishedAs),N.current(D),O.current(null!==(t=null===(e=c.replViewSettings)||void 0===e?void 0:e.replFile)&&void 0!==t?t:""),W.current(c.isRenamed?c.title:"",{preventTouch:!0}),X.current(null!==(r=c.description)&&void 0!==r?r:"",{preventTouch:!0}),H.current(c.tags),L.current(c.iconUrl.endsWith(".svg")?null:c.iconUrl),z.current(null!==(n=c.imageUrl)&&void 0!==n?n:null))}),[c,z,L,H,W,X,D,N,O,M]);var $,j=(0,E.W)(v.setValue),Y=j.previewUrl||v.value||(null===c||void 0===c?void 0:c.iconUrl)||(null===c||void 0===c?void 0:c.templateInfo.iconUrl),q=null!==($=null===(n=x.filter((function(e){return(e!==b||m.value===J.ReplFile)&&e.error})))||void 0===n||null===(i=n[0])||void 0===i||null===(a=i.error)||void 0===a?void 0:a.message)&&void 0!==$?$:null;function ne(){return ne=(0,u.Z)((function(){var e,t,r,n,l,i,a,o,s,u,d;return(0,f.__generator)(this,(function(p){switch(p.label){case 0:if(!c)throw new ie("Missing repl");if(t=c.title!==h.value,r=c.description!==g.value,n=c.iconUrl!==v.value,l="repl_image"===m.value&&c.imageUrl!==Z.value,i=b.value&&"repl_file"===m.value&&(null===(e=c.replViewSettings)||void 0===e?void 0:e.replFile)!==b.value,a=m.value&&D!==m.value,o=!T()(c.tags,w.value),!(t||r||n))return[3,2];if(h.error||g.error||v.error)throw new ie;return[4,V.updateRepl({id:c.id,title:t?h.value:void 0,description:r?g.value:void 0,iconUrl:n?v.value:void 0})];case 1:if((s=p.sent()).error)throw new ae(s.error);p.label=2;case 2:if(!(a||l||i))return[3,4];if(m.value===J.ReplImage&&Z.error||m.value===J.ReplFile&&b.error)throw new ie;return[4,C.setReplViewSettings({replId:c.id,defaultView:"repl_image"===m.value?B.bV.ReplImage:B.bV.ReplFile,replImage:l?Z.value:void 0,replFile:i?b.value:void 0})];case 3:if((u=p.sent()).error)throw new ae(u.error);p.label=4;case 4:if(!o)return[3,6];if(w.error)throw new ie;return[4,S.setReplTags({replId:c.id,tags:w.value.map((function(e){return e.id}))})];case 5:if((d=p.sent()).error)throw new ae(d.error);p.label=6;case 6:return[2]}}))})),ne.apply(this,arguments)}function ce(){return(ce=(0,u.Z)((function(){var t,r;return(0,f.__generator)(this,(function(n){switch(n.label){case 0:if(!c)throw new ie("Missing repl");if(q)throw new ie(null!==q&&void 0!==q?q:"Something went wrong");return R.value?[4,G.createDeployment({input:{replId:c.id,description:g.value,iconUrl:Y||c.iconUrl}})]:[3,2];case 1:if((t=n.sent()).error)throw new oe(t.error);return(0,re.j)(re.U3.POST_MADE,{source:e.source,replType:"template_repl",title:h.value,description:g.value,tags:w.value.map((function(e){return e.id})),defaultView:m.value}),[2];case 2:return[4,I.publish({input:{replId:c.id}})];case 3:if((r=n.sent()).error)throw new oe(r.error);return(0,re.j)(re.U3.POST_MADE,{source:e.source,replType:"regular_repl",title:h.value,description:g.value,tags:w.value.map((function(e){return e.id})),defaultView:m.value}),[2]}}))}))).apply(this,arguments)}var de=V.loading||C.loading||S.loading,pe=V.error||C.error||S.error,he=I.loading||G.loading,fe=I.error||G.error;return{selectedRepl:c,isReplLoading:s.loading,replLoadingError:s.error,replIdField:o,replTitleField:h,replDescriptionField:g,iconUrlField:v,coverDefaultViewField:m,coverUrlField:Z,coverFileField:b,tagsField:w,isTemplateField:R,replIconInput:j,replIconUrl:Y,inputError:q,save:function(){return ne.apply(this,arguments)},isSaving:de,savingError:pe,publish:function(){return ce.apply(this,arguments)},isPublishing:he,publishingError:fe,isPublished:p}}var de=l.createContext(null),pe=function(e){var t=l.useContext(de);if(!t)throw new Error("usePublishField must be used within a PublishInputContext");return t["".concat(e,"Field")]},he=function(){var e=l.useContext(de);if(!e)throw new Error("usePublishForm must be used within a PublishInputContext");return e},fe=r(29815),ge=r(81255),ve=r(72917),me=r(70917),Ze=r(93160),be=r(92002),we=r(1144),ye=r(96594);function Re(){var e=(0,V.Z)(["\n  fragment TagsComboboxTag on Tag {\n    id\n    isOfficial\n  }\n"]);return Re=function(){return e},e}function xe(){var e=(0,V.Z)(["\n  query TagsCombobox($limit: Int, $search: String) {\n    tagGroups {\n      official(limit: $limit, search: $search) {\n        id\n        ...TagsComboboxTag\n      }\n      community(limit: $limit, search: $search) {\n        id\n        ...TagsComboboxTag\n      }\n    }\n  }\n  ","\n"]);return xe=function(){return e},e}var Ce={},Se=(0,I.Ps)(Re()),Te=(0,I.Ps)(xe(),Se);var Be=r(32951),Ve=r(24351),Ie=r(61179),ke=/^[0-9a-zA-Z]+$/,Ge=function(e){return e.id};function Pe(e){var t=e.search,r=e.filter,n=function(e){var t=(0,d.Z)({},Ce,e);return k.a(Te,t)}({variables:{limit:t?10:3,search:t}}).data,i=(0,l.useState)({official:[],community:[],newTag:[]}),a=i[0],o=i[1],s=(0,l.useMemo)((function(){if(n){var e=[],l=[],i=new Set,a=!0,o=!1,s=void 0;try{for(var u,c=n.tagGroups.official[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;i.add(d.id.toLowerCase()),r(d)&&e.push(d)}}catch(w){o=!0,s=w}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}var p=!0,h=!1,f=void 0;try{for(var g,v=n.tagGroups.community[Symbol.iterator]();!(p=(g=v.next()).done);p=!0){var m=g.value;i.add(m.id.toLowerCase()),r(m)&&l.push(m)}}catch(w){h=!0,f=w}finally{try{p||null==v.return||v.return()}finally{if(h)throw f}}var Z=l.find((function(e){return e.id===t})),b=!t||Z||i.has(t.toLowerCase())?void 0:{id:t,isOfficial:!1};return{official:e,community:l,newTag:b&&r(b)?[b]:[]}}}),[n,r,t]);return(0,l.useEffect)((function(){if(s){var e=s.official,t=s.community,r=s.newTag;o((function(n){return{official:(0,Ie.Z)(e,{existing:n.official,getKey:Ge}),community:(0,Ie.Z)(t,{existing:n.community,getKey:Ge}),newTag:r}}))}}),[s]),{tagGroups:a,reset:function(){o({official:[],community:[],newTag:[]})}}}var Fe=r(44044),_e=r(25019),Ee=r(16857),Ue=i.K.ul,De=i.K.li;function We(e){var t=e.children;return(0,n.tZ)(i.Z,{css:[ge.l0.px(8),ge.l0.pt(8)],children:(0,n.tZ)(we.x,{css:[{textTransform:"uppercase"}],variant:"small",color:"dimmer",children:t})})}function Xe(e){var t=e.highlighted,r=e.tag;return(0,n.tZ)(i.Z,{css:[ge.l0.rowWithGap(8),ge.l0.p(8),t&&{backgroundColor:Fe.gU.listItem[":not([disabled])"][":not(textarea):active"].backgroundColor},{cursor:"pointer"}],children:(0,n.BX)(i.Z,{css:[ge.l0.flex.growAndShrink(1),ge.l0.rowWithGap(4)],children:[(0,n.tZ)(we.x,{children:r.id}),r.isOfficial?(0,n.tZ)(Ee.Z,{}):null]})})}var He=l.memo((function(e){var t=e.getItemProps,r=e.highlightedIndex,l=e.data;return(0,n.tZ)(_e.Z,{css:[ge.l0.minWidth(200)],children:l.sections.reduce((function(e,l){return e.sections.push((0,n.BX)(De,{children:[(0,n.tZ)(We,{children:l.title}),(0,n.tZ)(Ue,{css:[ge.l0.pt(4),ge.l0.pb(8)],children:l.tags.map((function(l){var i=e.itemIndex++;return(0,n.tZ)(De,(0,p.Z)((0,d.Z)({},t({item:l,index:i})),{children:(0,n.tZ)(Xe,{tag:l,highlighted:r===i})}),l.id)}))})]},l.title)),e}),{sections:[],itemIndex:0}).sections})})),Le=i.K.div,Ae=i.K.input,ze=(0,me.iv)([ge.l0.fontSize(12),ge.l0.pl(24),ge.l0.pr(8),ge.l0.py(4)]);function Ne(){return(0,n.tZ)(we.x,{css:[ge.l0.px(4),ge.l0.flex.row,ge.l0.align.center,ge.l0.position.absolute,ge.l0.height("100%"),ge.l0.color.foregroundDefault,{top:0,left:4,pointerEvents:"none"}],children:(0,n.tZ)(be.Z,{size:12})})}function Oe(e){var t=e.text,r=e.children;return(0,n.BX)(Ze.Z,{elevated:!0,css:[ge.l0.position.relative,ge.l0.minWidth(30),ge.l0.borderRadius(16),{border:"1px solid transparent","&:focus-within":{borderColor:ge.TV.outlineDimmer,backgroundColor:"transparent"}}],children:[(0,n.tZ)(Ne,{}),(0,n.tZ)(we.x,{css:[{visibility:"hidden"},ze],children:t}),r]})}function Me(e){var t=e.onSelect,r=function(e){var t=e.onSelect,r=e.filter,n=void 0===r?function(){return!0}:r,i=(0,l.useState)(""),a=i[0],o=i[1],s=(0,Ve.Z)(a,100),u=(0,U.Z)(t),c=Pe({search:s,filter:n}),d=c.tagGroups,p=c.reset,h=(0,ye.Kb)({inputValue:a,items:(0,fe.Z)(d.official).concat((0,fe.Z)(d.community),(0,fe.Z)(d.newTag)),defaultHighlightedIndex:0,itemToString:function(e){return e?e.id:""},onSelectedItemChange:function(e){e.selectedItem&&(p(),o(""),h.reset(),h.openMenu())}});return(0,Be.Z)((function(){h.selectedItem&&u.current(h.selectedItem)}),[h.selectedItem]),{tagGroups:d,combobox:h,onChange:function(e){var t=e.currentTarget.value;t&&!ke.test(t)||t.length>30||o(t)}}}({filter:e.filter,onSelect:t}),a=r.combobox,o=r.tagGroups,s=r.onChange,u=(0,l.useMemo)((function(){return function(e){var t=[];return e.official.length&&t.push({title:"Official Tags",tags:e.official}),e.community.length&&t.push({title:"Community Tags",tags:e.community}),e.newTag.length&&t.push({title:"Create new tag",tags:e.newTag}),0===t.length?null:{type:"sections",sections:t}}(o)}),[o]),c="Add tag";return(0,n.BX)(i.Z,{children:[(0,n.tZ)(Le,(0,p.Z)((0,d.Z)({},a.getComboboxProps()),{css:[ge.l0.flex.row],children:(0,n.tZ)(Oe,{text:a.inputValue||c,children:(0,n.tZ)(Ae,(0,d.Z)({css:[ge.l0.coverContainer,ze,ge.l0.color.foregroundDefault,{backgroundColor:"transparent","&::placeholder":ge.l0.color.foregroundDefault,"&:focus::placeholder":ge.l0.color.foregroundDimmest}]},a.getInputProps({placeholder:c,onChange:s,onFocus:function(){a.openMenu()}})))})})),(0,n.tZ)(Le,(0,p.Z)((0,d.Z)({},a.getMenuProps()),{css:[ge.l0.position.relative],children:u&&a.isOpen?(0,n.tZ)(He,{getItemProps:a.getItemProps,highlightedIndex:a.highlightedIndex,data:u}):null}))]})}function Ke(e){var t=e.tags,r=e.max,l=void 0===r?5:r,a=e.onAdd,o=e.onRemove,s=t.map((function(e){return e.id}));return(0,n.BX)(i.Z,{css:[ge.l0.flex.row,ge.l0.flex.wrap,{margin:"calc(-1 * ".concat(ge.TV.space4,")")}],children:[t.map((function(e,t){return(0,n.tZ)(i.Z,{css:[ge.l0.m(4)],children:(0,n.tZ)(ve.g,{small:!0,tag:e,onClick:function(){return o(t)}})},e.id)})),t.length<l?(0,n.tZ)(i.Z,{css:[ge.l0.m(4)],children:(0,n.tZ)(Me,{onSelect:a,filter:function(e){return!s.includes(e.id.toLowerCase())}})}):null]})}var $e=function(){var e=pe("tags");return(0,n.BX)(o.G7,{css:[o.l0.colWithGap(8)],children:[(0,n.tZ)(o.G7,{css:[o.l0.colWithGap(4)],children:(0,n.tZ)(Ke,{max:5,tags:e.value,onAdd:function(t){return e.setValue((0,fe.Z)(e.value).concat([t]))},onRemove:function(t){return e.setValue((0,fe.Z)(e.value.slice(0,t)).concat((0,fe.Z)(e.value.slice(t+1))))}})}),(0,n.BX)(o.G7,{css:o.l0.rowWithGap(4),children:[(0,n.tZ)(o.xv,{color:"dimmer",variant:"small",children:"Adding tags helps others find your Repl."}),(0,n.BX)(o.xv,{color:"dimmest",variant:"small",children:[e.value.length,"/",5]})]})]})};function je(){var e=(0,V.Z)(["\n  fragment PublishableReplSelectorRepl on Repl {\n    id\n    title\n    timeUpdated\n    url\n    slug\n    owner {\n      ... on User {\n        id\n        username\n        image\n      }\n      ... on Team {\n        id\n        username\n        image\n      }\n    }\n    iconUrl\n  }\n"]);return je=function(){return e},e}function Ye(){var e=(0,V.Z)(["\n  query PublishableReplSelector($search: String!) {\n    currentUser {\n      id\n      publishableReplSearch(search: $search) {\n        id\n        ...PublishableReplSelectorRepl\n      }\n    }\n  }\n  ","\n"]);return Ye=function(){return e},e}var qe={},Qe=(0,I.Ps)(je()),Je=(0,I.Ps)(Ye(),Qe);var et=r(40963),tt=r(93604),rt=r(53427),nt=r(87653),lt=r(4306),it=r(83952),at=i.K.div,ot=i.K.li,st={searchValue:"",loading:!1,repls:[]};function ut(e,t){switch(t.type){case"data":var r,n=(null===(r=t.data.currentUser)||void 0===r?void 0:r.publishableReplSearch)||[];return(0,p.Z)((0,d.Z)({},e),{loading:!1,repls:(0,Ie.Z)(n,{existing:e.repls,getKey:function(e){return e.id}})});case"loading":return(0,p.Z)((0,d.Z)({},e),{loading:!0});case"searchValue":return(0,p.Z)((0,d.Z)({},e),{searchValue:t.searchValue})}}function ct(){var e=(0,l.useReducer)(ut,st),t=e[0],r=e[1],n=function(e){var t=(0,d.Z)({},qe,e);return k.a(Je,t)}({variables:{search:(0,Ve.Z)(t.searchValue,200)},notifyOnNetworkStatusChange:!0,onCompleted:function(e){r({type:"data",data:e})}}).loading;(0,l.useEffect)((function(){n&&r({type:"loading"})}),[n]);var i=(0,l.useCallback)((function(e){return r({type:"searchValue",searchValue:e||""})}),[]);return{repls:t.repls,loading:t.loading,searchValue:t.searchValue,setSearchValue:i}}function dt(e){var t;return e?"".concat(null===(t=e.owner)||void 0===t?void 0:t.username,"/").concat(e.title):""}function pt(e){var t,r=l.useRef(null);(0,it.rf)((function(){var t;e.selectedRepl&&(null===(t=r.current)||void 0===t||t.blur())}),[e.selectedRepl]);var a=(null===(t=e.selectedRepl)||void 0===t?void 0:t.iconUrl)&&e.inputValue&&dt(e.selectedRepl)===e.inputValue?(0,n.tZ)(i.Z,{css:[ge.l0.px(8),ge.l0.center,{position:"absolute",top:0,left:0,height:"100%"}],children:(0,n.tZ)(rt.ZP,{alt:e.selectedRepl.title,iconUrl:e.selectedRepl.iconUrl,size:16})}):null;return(0,n.BX)(i.Z,{css:[{position:"relative"}],children:[(0,n.BX)(at,(0,p.Z)((0,d.Z)({},e.getComboboxProps()),{css:{position:"relative"},children:[a,(0,n.tZ)(et.ZP,(0,d.Z)({css:[ge.l0.pr(32),a&&ge.l0.pl(32)]},e.getInputProps({placeholder:"Search for a Repl",onFocus:e.onFocus,ref:r}))),(0,n.tZ)(i.Z,{css:[ge.l0.center,ge.l0.px(8),{position:"absolute",top:0,right:0,height:"100%"}],children:e.loading&&e.isOpen?(0,n.tZ)(s.Z,{}):(0,n.tZ)(nt.Z,{})})]})),(0,n.tZ)(at,(0,p.Z)((0,d.Z)({},e.getMenuProps()),{css:{position:"relative"},children:e.isOpen?(0,n.BX)(_e.Z,{children:[e.loading&&0===e.repls.length?(0,n.tZ)(ot,{css:[ge.l0.center,ge.l0.py(32)],children:(0,n.tZ)(s.Z,{})}):null,e.loading||0!==e.repls.length?null:(0,n.tZ)(ot,{css:[ge.l0.center,ge.l0.py(32)],children:(0,n.tZ)(we.x,{color:"dimmer",variant:"small",children:"No repls found"})}),e.repls.map((function(t,r){return(0,n.tZ)(ot,(0,p.Z)((0,d.Z)({},e.getItemProps({item:t,index:r})),{children:(0,n.tZ)(lt.Z,{filter:"",title:dt(t),subtitle:(0,tt.F)(t.timeUpdated),selected:e.selectedRepl===t,highlighted:e.highlightedIndex===r,icon:t.iconUrl?(0,n.tZ)(rt.ZP,{iconUrl:t.iconUrl,alt:t.title,size:16}):void 0})}),t.id)}))]}):null}))]})}var ht=r(37424);function ft(e){var t=e.error,r=e.dataCy;return t?(0,n.BX)(o.G7,{css:[o.l0.rowWithGap(4),o.l0.align.center],children:[(0,n.tZ)(g.Z,{css:[o.l0.color.accentNegativeStronger]}),(0,n.tZ)(o.xv,{multiline:!0,css:[o.l0.flex.growAndShrink(1),o.l0.color.accentNegativeStronger],dataCy:r,children:t.message})]}):null}var gt=o.KD.label,vt=l.forwardRef((function(e,t){return(0,n.tZ)(gt,(0,p.Z)((0,d.Z)({},e),{ref:t,css:o.l0.color.foregroundDimmer}))})),mt=function(){var e=(0,ht.H)()("repl"),t=pe("replId"),r=pe("iconUrl"),l=ct(),i=(0,ye.Kb)({id:e,items:l.repls,initialHighlightedIndex:-1,onInputValueChange:function(e){var t=e.inputValue;l.setSearchValue(t)},onSelectedItemChange:function(e){(null===e||void 0===e?void 0:e.selectedItem)&&(t.setValue(e.selectedItem.id),i.closeMenu())},itemToString:dt});return(0,n.BX)(o.G7,{css:[o.l0.colWithGap(4)],children:[(0,n.tZ)(vt,{css:o.l0.color.foregroundDimmer,htmlFor:e,children:"Repl"}),(0,n.tZ)(pt,{getComboboxProps:i.getComboboxProps,getInputProps:i.getInputProps,getItemProps:i.getItemProps,getMenuProps:i.getMenuProps,isOpen:i.isOpen,highlightedIndex:i.highlightedIndex,inputValue:i.inputValue,selectedRepl:i.selectedItem?(0,p.Z)((0,d.Z)({},i.selectedItem),{iconUrl:r.value||i.selectedItem.iconUrl}):void 0,repls:l.repls,loading:l.loading,onFocus:function(e){i.selectedItem&&(e.preventDefault(),e.currentTarget.select(),l.setSearchValue("")),i.openMenu()}})]})},Zt=function(){var e=(0,ht.H)(),t=e("replName"),r=e("replDescription"),l=he(),i=l.replIdField,a=l.replTitleField,s=l.replDescriptionField,u=l.isSaving,c=l.selectedRepl,d=c&&!c.isRenamed?"Default name: ".concat(c.title):"Enter a name for your Repl";return(0,n.BX)(o.G7,{css:[o.l0.colWithGap(16),o.l0.flex.growAndShrink(1)],children:[!i.value||i.touched?(0,n.tZ)(mt,{}):null,(0,n.BX)(o.G7,{css:[o.l0.colWithGap(4)],children:[(0,n.BX)(o.G7,{css:[o.l0.flex.row,o.l0.align.baseline,o.l0.justify.spaceBetween],children:[(0,n.tZ)(vt,{css:[o.l0.color.foregroundDimmer,{lineHeight:o.TV.lineHeightSmall}],htmlFor:t,children:"Repl name"}),(0,n.BX)(o.xv,{css:{color:a.value.length>60?o.TV.accentNegativeStronger:o.TV.foregroundDimmest},children:[a.value.length,"/",60]})]}),(0,n.tZ)(o.II,{id:t,disabled:!i.value||u,value:a.value,onChange:function(e){a.setValue(e.currentTarget.value)},placeholder:d,dataCy:"publish-form-repl-title-input"}),a.touched?(0,n.tZ)(ft,{error:a.error,dataCy:"publish-form-repl-title-error"}):null]}),(0,n.BX)(o.G7,{css:[o.l0.colWithGap(4)],children:[(0,n.BX)(o.G7,{css:[o.l0.flex.row,o.l0.align.baseline,o.l0.justify.spaceBetween],children:[(0,n.tZ)(vt,{css:[o.l0.color.foregroundDimmer,{lineHeight:o.TV.lineHeightSmall}],htmlFor:r,children:"Repl description"}),(0,n.BX)(o.xv,{css:{color:s.value.length>ne?o.TV.accentNegativeStronger:o.TV.foregroundDimmest},children:[s.value.length,"/",ne]})]}),(0,n.tZ)(o.B,{id:r,value:s.value,disabled:!i.value||u,onChange:function(e){s.setValue(e.currentTarget.value)},placeholder:"What does this Repl do?",css:[o.l0.minHeight(128),o.l0.maxHeight(256),{resize:"vertical"}],dataCy:"publish-form-repl-description-input"}),s.touched?(0,n.tZ)(ft,{error:s.error,dataCy:"publish-form-repl-description-error"}):null]})]})},bt=function(e){var t=e.showPlayButton,r=e.children;return(0,n.BX)("div",{css:{position:"relative",aspectRatio:"".concat(268,"/").concat(164),overflow:"hidden"},children:[(0,n.tZ)("div",{css:{position:"absolute",top:"calc(".concat(18," / ").concat(164," * 100%)"),bottom:"calc(".concat(1," / ").concat(164," * 100%)"),left:"calc(".concat(1," / ").concat(268," * 100%)"),right:"calc(".concat(1," / ").concat(268," * 100%)"),borderBottomLeftRadius:4,borderBottomRightRadius:4,overflow:"hidden"},children:r}),(0,n.BX)("svg",{viewBox:"0 0 268 164",fill:"none",xmlns:"http://www.w3.org/2000/svg",css:{position:"relative"},children:[(0,n.tZ)("rect",{width:"268",height:"17",fill:o.TV.backgroundDefault}),(0,n.tZ)("rect",{x:"241.5",y:"4.5",width:"22",height:"10",rx:"2",fill:o.TV.accentPositiveDimmer}),(0,n.tZ)("rect",{x:"228.5",y:"4.5",width:"10",height:"10",rx:"2",fill:o.TV.backgroundHighest}),(0,n.tZ)("rect",{x:"4.5",y:"4.5",width:"32",height:"10",rx:"2",fill:o.TV.backgroundHighest}),(0,n.tZ)("rect",{x:"1",y:"18",width:"266",height:"1",fill:o.TV.outlineDimmer}),t?(0,n.tZ)("path",{d:"M142.225 90.5642C142.565 90.7554 142.565 91.2446 142.225 91.4358L127.745 99.5809C127.412 99.7683 127 99.5275 127 99.1451L127 82.8549C127 82.4725 127.412 82.2317 127.745 82.4191L142.225 90.5642Z",fill:o.TV.white}):null,(0,n.tZ)("rect",{x:"1",y:"1",width:"266",height:"162",rx:"4",stroke:o.TV.outlineDimmer,strokeWidth:"1"})]})]})},wt=r(62722),yt=function(e){var t=function(e){var t=l.useRef(null),r={onClick:function(e){var r;return e.preventDefault(),e.stopPropagation(),null===(r=t.current)||void 0===r?void 0:r.click()}};return{inputProps:{onChange:function(t){var r=t.target,n=r.validity,l=r.files;if(n.valid){var i=l?l[0]:null;i&&e(i)}},"aria-hidden":"true",ref:t,accept:wt.W9.join(","),type:"file"},buttonProps:r,inputRef:t}}(e.onFile),r=t.inputProps,i=t.buttonProps;return(0,n.BX)(n.HY,{children:[(0,n.tZ)("input",(0,p.Z)((0,d.Z)({},r),{css:{display:"none"}})),l.cloneElement(e.children,i)]})},Rt=r(15833),xt=r(48551);function Ct(e){return e.slice().sort((function(e,t){return e.localeCompare(t)})).map((function(e){return{file:e,pathDepth:(0,xt.U$)(e)}})).sort((function(e,t){return e.pathDepth-t.pathDepth})).map((function(e){return e.file}))}var St=o.KD.ol,Tt=o.KD.li,Bt=(0,me.iv)([ge.l0.py(4),ge.l0.borderRadius(8),{border:"1px solid ".concat(o.TV.outlineDimmest),borderRadius:o.TV.borderRadius8,backgroundColor:o.vb.interactiveBackground,zIndex:o.n0,maxHeight:300,position:"absolute",overflowY:"auto",width:"100%",left:0,top:o.TV.space8,listStyle:"none"}]),Vt={backgroundColor:o.vb.interactiveBackgroundActive},It={backgroundColor:o.TV.accentPrimaryDefault},kt=(0,me.iv)([ge.l0.p(8),{":not([disabled])":{cursor:"pointer",":hover":(0,d.Z)({},Vt),":active":(0,d.Z)({},It)}}]);function Gt(e){var t=e.fs,r=e.initiallySelectedFile,i=e.onFileSelect,a=e.onClear,s=l.useRef(null),c=function(e){var t=e.fs,r=(0,h.Z)(l.useState({isLoading:!0,error:null,files:[]}),2),n=r[0],i=r[1];return l.useEffect((function(){function e(){return(e=(0,u.Z)((function(){var e,r,n;return(0,f.__generator)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,t.listFiles()];case 1:if((e=l.sent()).error)throw new Error(e.error);return n=Ct(null!==(r=e.files)&&void 0!==r?r:[]),i({isLoading:!1,error:null,files:n}),[3,3];case 2:return l.sent(),i({isLoading:!1,error:"Could not load files",files:[]}),[3,3];case 3:return[2]}}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),(0,d.Z)({},n)}({fs:t}),g=c.isLoading,v=c.files,m=c.error,Z=function(e){var t=e.files,r=e.inputRef,n=e.initiallySelectedFile,i=(0,h.Z)(l.useState(!1),2),a=i[0],o=i[1],s=(0,h.Z)(l.useState(t),2),u=s[0],c=s[1],f=l.useCallback((function(e){return t.filter((function(t){return t.toLowerCase().includes(e.toLowerCase())}))}),[t]),g=(0,ye.Kb)({items:u,isOpen:a,initialInputValue:n,initialSelectedItem:u.find((function(e){return e===n})),onIsOpenChange:function(e){o(Boolean(e.isOpen))},onInputValueChange:function(e){var t;c(f(null!==(t=e.inputValue)&&void 0!==t?t:""))}}),v=l.useCallback((function(){var e;o(!1),null===(e=r.current)||void 0===e||e.blur()}),[r]);return l.useEffect((function(){var e;c(f(null!==(e=g.inputValue)&&void 0!==e?e:""))}),[t,f,g.inputValue]),l.useEffect((function(){g.selectedItem&&v()}),[g.selectedItem,v]),(0,p.Z)((0,d.Z)({},g),{closeMenu:v,items:u})}({files:v,inputRef:s,initiallySelectedFile:r}),b=(0,U.Z)(i);return l.useEffect((function(){Z.selectedItem&&b.current(Z.selectedItem)}),[Z.selectedItem,b]),(0,n.BX)(o.G7,{children:[(0,n.tZ)(o.G7,(0,p.Z)((0,d.Z)({},Z.getComboboxProps({refKey:"innerRef"})),{css:[ge.l0.position.relative],children:(0,n.tZ)(o.E1,(0,p.Z)((0,d.Z)({},Z.getInputProps({onFocus:Z.openMenu,ref:s,refKey:"inputRef",disabled:g,placeholder:"Search your files"})),{onClear:function(){var e;Z.reset(),null===(e=s.current)||void 0===e||e.focus(),a()},loading:g}))})),(0,n.BX)(o.G7,(0,p.Z)((0,d.Z)({},Z.getMenuProps({refKey:"innerRef"})),{css:[ge.l0.position.relative],children:[m?(0,n.tZ)(o.G7,{css:[ge.l0.p(8)],children:(0,n.tZ)(o.xv,{children:"Something went wrong loading your files. Please try again."})}):null,!m&&Z.isOpen?(0,n.tZ)(St,{css:[Bt],children:Z.items.length>0?Z.items.map((function(e,t){return(0,n.tZ)(Tt,(0,p.Z)((0,d.Z)({css:[kt,Z.highlightedIndex===t&&Vt,e===Z.selectedItem&&It]},Z.getItemProps({item:e,index:t,onClick:function(){Z.closeMenu()}})),{children:(0,n.tZ)(o.xv,{children:e})}),e)})):(0,n.tZ)(Tt,{css:[ge.l0.p(8)],children:(0,n.BX)(o.xv,{children:['No files found for "',Z.inputValue,'"']})})}):null]}))]})}var Pt=r(7657),Ft=r(41307),_t=[{value:J.ReplImage,text:"Photo"},{value:J.ReplFile,text:"File"}],Et=function(e){var t=e.fs,r=(0,ht.H)(),l=r("coverPage"),i=he(),a=i.selectedRepl,s=i.coverFileField,u=i.coverUrlField,c=i.coverDefaultViewField,d=(0,E.W)(u.setValue);return(0,n.BX)(o.G7,{css:[o.l0.colWithGap(16)],children:[(0,n.BX)(o.G7,{css:o.l0.colWithGap(12),children:[(0,n.tZ)(o.G7,{css:[o.l0.rowWithGap(8)],children:(0,n.tZ)(o.Ee,{tag:"fieldset",css:[o.l0.rowWithGap(24)],name:l,value:c.value,onChange:function(e){le(e.target.value)&&c.setValue(e.target.value)},children:_t.map((function(e){return(0,n.BX)(o.G7,{css:[o.l0.rowWithGap(8)],children:[(0,n.tZ)(o.Y8,{id:r(e.value),value:e.value}),(0,n.tZ)("label",{htmlFor:r(e.value),children:e.text})]},e.value)}))})}),c.value===J.ReplImage&&(0,n.tZ)(n.HY,{children:(0,n.tZ)(yt,{onFile:function(e){return d.uploadImage(e,Pt.N.ReplCoverImage)},children:(0,n.tZ)(o.zx,{text:"Upload a cover photo",iconLeft:(0,n.tZ)(Rt.Z,{})})})}),c.value===J.ReplFile&&(0,n.BX)(o.G7,{css:[o.l0.colWithGap(8)],children:[(0,n.tZ)(Gt,{fs:t,initiallySelectedFile:s.value,onFileSelect:s.setValue,onClear:function(){return s.setValue("")}},null===a||void 0===a?void 0:a.id),(0,n.tZ)(ft,{error:s.error})]})]}),c.value===J.ReplImage&&(0,n.tZ)(bt,{showPlayButton:c.value===J.ReplImage&&!!u.value,children:c.value===J.ReplImage&&u.value?(0,n.tZ)(Ft.y,{src:u.value,alt:"cover"}):null})]})},Ut=(r(67629),function(){pe("iconUrl");var e=he(),t=e.replIconInput,r=e.replIconUrl;return(0,n.BX)(o.G7,{css:[o.l0.colWithGap(16),o.l0.align.center],children:[(0,n.BX)(o.G7,{css:[o.l0.colWithGap(8)],children:[(0,n.BX)(o.G7,{css:[o.l0.rowWithGap(8)],children:[(0,n.tZ)(yt,{onFile:function(e){return t.uploadImage(e,Pt.N.ReplIcon)},css:o.l0.backgroundColor.accentNegativeDefault,children:(0,n.tZ)(o.zx,{text:"Upload image",iconLeft:(0,n.tZ)(Rt.Z,{}),css:[o.l0.backgroundColor.backgroundHigher],type:"button",stretch:!0})}),null]}),t.error?(0,n.tZ)(o.G7,{children:(0,n.tZ)(o.E_,{icon:(0,n.tZ)(g.Z,{}),colorway:"negative",text:t.error,closable:!0,closeAction:t.clearError})}):null]}),(0,n.tZ)(rt.LN,{alt:"icon",size:84,iconUrl:r,isLoading:Boolean(t.previewUrl),css:[o.l0.backgroundColor.backgroundHigher]})]})}),Dt=r(92876),Wt=r(18962),Xt=r(45528),Ht=r(87194),Lt=r(75240),At=r(75192),zt=r(59916),Nt=r(37806);function Ot(e){var t=e.repl,r=e.currentUser,n=(0,h.Z)((0,Nt.yF)(),2),i=n[0],a=n[1],o=(0,h.Z)(l.useState((function(){return function(e){var t=e.setBsodSentryEventId,r=(0,Lt.Z)({onUnrecoverableError:function(e){Dt.Tb(e);var r=(0,At.Qw)(e,{tags:{publish2:"true"}});t(r)}}),n=(0,Ht.Z)({container:r});return{container:r,fs:n,dotReplit:(0,zt.Z)({container:r,fs:n})}}({setBsodSentryEventId:a})})),1),s=o[0],u=s.container,c=s.fs,d=s.dotReplit,p=(0,h.Z)(l.useState((function(){return u.getConnectionState()===Wt.e.CONNECTED})),2),f=p[0],g=p[1],v=(0,Xt.b)(t?{repl:t,currentUser:r}:null);return l.useEffect((function(){if(t&&v&&u.getConnectionState()===Wt.e.DISCONNECTED)return u.connect({context:v}),function(){return u.close()}}),[t,u,v]),l.useEffect((function(){var e=u.onConnectionStateChanged((function(e){g(e===Wt.e.CONNECTED)}));return e}),[u]),{isConnected:f,container:u,fs:c,dotReplit:d,bsodId:i,devClearBsod:function(){return a(null)}}}var Mt=r(73515),Kt=r(65456);var $t=r(88075),jt=o.KD.button,Yt=function(){return(0,n.tZ)(i.Z,{css:[o.l0.flex.row,o.l0.flex.grow(1),{borderTop:"1px solid ".concat(o.TV.outlineDimmest)}]})},qt=function(e){var t=e.isActive,r=e.isComplete,l=e.children,i=e.onClick,a=e.disabled;return(0,n.BX)(jt,{type:"button",css:[o.l0.reset.button,o.l0.position.relative,o.gU.nofill,t&&o.l0.backgroundColor.backgroundHigher,o.l0.p(4),o.l0.borderRadius(4)],onClick:i,disabled:a,children:[(0,n.tZ)(o.xv,{variant:"small",children:l}),r?(0,n.tZ)($t.Z,{size:6,strokeWidth:6,color:o.TV.foregroundDimmer,css:[o.l0.position.absolute,{top:2,right:-2}]}):null]})},Qt=r(46702),Jt=function(){var e=pe("isTemplate"),t=(0,ht.H)()("templateCheckbox");return(0,n.BX)(o.G7,{css:[o.l0.colWithGap(8)],children:[(0,n.BX)(o.G7,{css:[o.l0.colWithGap(8)],children:[(0,n.BX)(o.G7,{css:[o.l0.rowWithGap(8)],children:[(0,n.tZ)(o.XZ,{id:t,checked:e.value,onChange:function(t){return e.setValue(t.target.checked)}}),(0,n.tZ)("label",{htmlFor:t,children:"Submit as Template for Review"})]}),(0,n.tZ)(ft,{error:e.error})]}),(0,n.tZ)(o.xv,{variant:"small",color:"dimmer",multiline:!0,children:"This is a good option for Repls meant as starting points for future work."}),(0,n.tZ)(o.xv,{variant:"small",color:"dimmer",multiline:!0,children:"The Replit team will review your Template before it is live on the Templates page."}),(0,n.tZ)(o.G7,{css:[o.l0.align.start],children:(0,n.tZ)(o.ZP,{href:"https://docs.replit.com/programming-ide/how-to-make-a-replit-template",target:"_blank",text:"What makes a good Template?",iconRight:(0,n.tZ)(Qt.Z,{}),outlined:!0,small:!0})}),(0,n.tZ)(o.G7,{css:[o.l0.pt(16)],children:(0,n.BX)(o.xv,{multiline:!0,children:["Please make sure your Repl abides by the"," ",(0,n.tZ)("a",{href:"https://welcome.moderation.repl.co/#communitystandards",target:"_blank",children:"Replit community rules and guidelines"})," ","before publishing."]})})]})},er=r(79064),tr=o.KD.form,rr=function(e){var t=e.user,r=he(),l=r.selectedRepl,i=r.replTitleField,a=r.replDescriptionField,u=r.replIconUrl,h=r.tagsField,f=r.isTemplateField;return(0,n.BX)(o.Tg,{background:"root",css:[(0,c.Z)({},(0,b.et)("tabletMin"),{display:"flex"}),o.l0.flex.growAndShrink(1),o.l0.p(16),o.l0.colWithGap(12),o.l0.align.center,o.l0.display.none],children:[(0,n.tZ)(o.xv,{variant:"small",color:"dimmer",css:[o.l0.width("100%"),{fontWeight:o.TV.fontWeightMedium}],children:"Preview"}),(0,n.BX)(o.G7,{css:[o.l0.width("100%"),o.l0.maxWidth(432),o.l0.position.relative],children:[(0,n.tZ)(o.G7,{css:{position:"absolute",zIndex:2,inset:0,boxShadow:"inset 0 48px 24px -24px "+o.TV.backgroundRoot+", inset 0 -48px 24px -24px "+o.TV.backgroundRoot}}),(0,n.BX)(o.G7,{css:[o.l0.height(416),o.l0.colWithGap(24),o.l0.justify.center,o.l0.overflow("hidden"),o.l0.backgroundColor.backgroundRoot],children:[(0,n.tZ)(w.O,{}),l&&u?(0,n.tZ)(w.Z,{post:{user:t,repl:(0,p.Z)((0,d.Z)({},l),{title:i.value,iconUrl:u,tags:h.value,description:a.value,isTemplate:f.value})}}):(0,n.tZ)(o.G7,{css:[o.l0.flex.grow(1),o.l0.align.center,o.l0.justify.center],children:(0,n.tZ)(s.Z,{})}),(0,n.tZ)(w.O,{})]})]})]})},nr=["Basics","Tags","Icon","Cover page","Publishing"];function lr(e){var t=e.replId,r=e.currentUser,i=e.source,a=function(){var e=(0,u.Z)((function(e){var t;return(0,f.__generator)(this,(function(r){switch(r.label){case 0:if(!L)return[2,{message:"Could not get file"}];if(!e)return[2,{message:"File path cannot be blank"}];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,L.stat(e)];case 2:return(t=r.sent()).exists&&t.type===Kt.Tv.File?[3,4]:[2,{message:"File does not exist"}];case 3:return r.sent(),[2,{message:"Could not get file"}];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),p=ce({replId:t,fileValidator:a,source:i}),w=p.selectedRepl,y=p.isReplLoading,R=p.replLoadingError,x=p.replIdField,C=p.replTitleField,S=p.replDescriptionField,T=p.iconUrlField,B=p.tagsField,V=p.coverDefaultViewField,I=p.coverUrlField,k=p.coverFileField,G=p.isTemplateField,P=p.save,F=p.isSaving,_=p.savingError,E=p.publish,D=p.isPublishing,W=p.publishingError,X=p.isPublished,H=Ot({repl:w,currentUser:r}),L=H.fs,A=H.dotReplit,z=H.bsodId,N=H.devClearBsod,O=(0,h.Z)(l.useState(0),2),M=O[0],K=O[1],$=nr[M],j=M===nr.length-1,Y=(0,h.Z)(l.useState({show:!1,isUpdate:!1}),2),q=Y[0],Q=Y[1],ee=(0,h.Z)(l.useState((function(){return Array(nr.length).fill(!1)})),2),te=ee[0],ne=ee[1],le=l.useCallback((function(e,t){var r=te;r[e]=t,ne(r)}),[te]);l.useEffect((function(){p.replTitleField.value&&p.replDescriptionField.value?le(0,!0):le(0,!1),p.tagsField.value.length>0?le(1,!0):le(1,!1),p.iconUrlField.value?le(2,!0):le(2,!1),p.coverDefaultViewField.value===J.ReplImage&&p.coverUrlField.value||p.coverDefaultViewField.value===J.ReplFile&&p.coverFileField.value?le(3,!0):le(3,!1)}),[te,p,le]);var ie=function(e){var t=e.dotReplit,r=(0,h.Z)(l.useState({isLoading:!0,error:null,entryPoint:null}),2),n=r[0],i=r[1];return l.useEffect((function(){function e(){return e=(0,u.Z)((function(){var e,r,n;return(0,f.__generator)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,t.getConfig()];case 1:if((r=l.sent()).error)throw new Error(r.errorMessage);return i({isLoading:!1,error:null,entryPoint:null!==(n=null===r||void 0===r||null===(e=r.config)||void 0===e?void 0:e.entrypoint)&&void 0!==n?n:null}),[3,3];case 2:return l.sent(),i({isLoading:!1,error:"Could not load .replit config",entryPoint:null}),[3,3];case 3:return[2]}}))})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),(0,d.Z)({},n)}({dotReplit:A});l.useEffect((function(){ie.isLoading||!ie.entryPoint||k.value||k.setValue(ie.entryPoint)}),[ie.isLoading,ie.entryPoint,k]);var ae=(0,h.Z)(l.useState(!1),2),oe=ae[0],se=ae[1];l.useEffect((function(){oe||t&&(y||X)||(se(!0),(0,re.j)(re.U3.PUBLISH_SELECTED,{source:i}))}),[oe,i,t,y,X]);var ue=(0,U.Z)(Boolean((null===w||void 0===w?void 0:w.publishedAs)||(null===w||void 0===w?void 0:w.lastPublishedAt))),pe=(0,U.Z)($);if(l.useEffect((function(){return function(){ue.current||(0,re.j)(re.U3.PUBLISH_FLOW_EXITED,{source:i,lastSectionVisited:pe.current})}}),[i,ue,pe]),z)return(0,n.tZ)(Mt.Z,{eventId:z,devHide:N});if(q.show&&w)return(0,n.tZ)(er.q,{repl:w,isUpdate:q.isUpdate});var he,fe={Basics:{hasError:Boolean(x.error||C.error||S.error),isValid:(0,u.Z)((function(){return(0,f.__generator)(this,(function(e){switch(e.label){case 0:return[4,Promise.all([x.validate(),C.validate(),S.validate()])];case 1:return[2,e.sent().every((function(e){return!e}))]}}))}))},Tags:{hasError:Boolean(B.error),isValid:(0,u.Z)((function(){return(0,f.__generator)(this,(function(e){switch(e.label){case 0:return[4,B.validate()];case 1:return[2,!e.sent()]}}))}))},Icon:{hasError:Boolean(T.error),isValid:(0,u.Z)((function(){return(0,f.__generator)(this,(function(e){switch(e.label){case 0:return[4,T.validate()];case 1:return[2,!e.sent()]}}))}))},"Cover page":{hasError:Boolean(V.value===J.ReplImage?I.error:k.error),isValid:(0,u.Z)((function(){var e;return(0,f.__generator)(this,(function(t){switch(t.label){case 0:return V.value!==J.ReplImage?[3,2]:[4,I.validate()];case 1:return e=!t.sent(),[3,4];case 2:return[4,k.validate()];case 3:e=!t.sent(),t.label=4;case 4:return[2,e]}}))}))},Publishing:{hasError:Boolean(G.error),isValid:(0,u.Z)((function(){return(0,f.__generator)(this,(function(e){switch(e.label){case 0:return[4,G.validate()];case 1:return[2,!e.sent()]}}))}))}},ge=fe[$].hasError,ve=fe[$].isValid,me=null!==(he=nr.find((function(e){return fe[e].hasError})))&&void 0!==he?he:null,Ze=null;w?R||_||W?Ze="Something went wrong - please try again":ge&&(Ze="Please fill out the the form"):Ze="Please select a Repl";var be=Boolean(!w||ge||R||y||F||D),we=Boolean(G.value),ye=we?"Submitting...":"Publishing...",Re=we?"Submit Template":"Publish to Community",xe=function(){var e=(0,u.Z)((function(e){var t;return(0,f.__generator)(this,(function(r){switch(r.label){case 0:return(t=be)?[3,2]:[4,ve()];case 1:t=!r.sent(),r.label=2;case 2:if(t)return[2];r.label=3;case 3:return r.trys.push([3,5,,6]),[4,P()];case 4:return r.sent(),K(e),[3,6];case 5:return r.sent(),[2];case 6:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,n.tZ)(de.Provider,{value:p,children:(0,n.BX)(o.Tg,{css:[o.l0.borderRadius(8),o.l0.flex.row,o.l0.overflow("hidden"),(0,c.Z)({},(0,b.et)("tabletMax"),{minWidth:850})],background:"default",dataCy:"publish-form-container",children:[(0,n.BX)(o.G7,{css:[o.l0.colWithGap(12),o.l0.p(16),o.l0.minWidth(320),o.l0.flex.growAndShrink(1),(0,c.Z)({},(0,b.et)("tabletMin"),{maxWidth:320})],children:[(0,n.tZ)(o.xv,{variant:"subheadBig",children:X?"Edit Publish Settings":"Publish ".concat(t?"this":"a"," Repl")}),(0,n.BX)(tr,{onSubmit:function(){var e=(0,u.Z)((function(e){var t,r,n,l,i,a,o;return(0,f.__generator)(this,(function(s){switch(s.label){case 0:if(e.preventDefault(),!j)return[3,13];t=!0,r=!1,n=void 0,s.label=1;case 1:s.trys.push([1,6,7,8]),l=nr[Symbol.iterator](),s.label=2;case 2:return(t=(i=l.next()).done)?[3,5]:(a=i.value,[4,fe[a].isValid()]);case 3:if(!s.sent())return[2];s.label=4;case 4:return t=!0,[3,2];case 5:return[3,8];case 6:return o=s.sent(),r=!0,n=o,[3,8];case 7:try{t||null==l.return||l.return()}finally{if(r)throw n}return[7];case 8:return X?[3,10]:[4,E()];case 9:return s.sent(),Q({show:!0,isUpdate:!1}),[3,12];case 10:return[4,P()];case 11:s.sent(),Q({show:!0,isUpdate:!0}),s.label=12;case 12:return[3,14];case 13:xe(M+1),s.label=14;case 14:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),css:[o.l0.colWithGap(16),o.l0.flex.growAndShrink(1)],children:[(0,n.tZ)(o.G7,{css:[o.l0.rowWithGap(4),o.l0.align.center],children:nr.map((function(e,t){return(0,n.BX)(l.Fragment,{children:[0!==t&&(0,n.tZ)(Yt,{}),(0,n.tZ)(qt,{isActive:M===t,isComplete:te[t],onClick:function(){return xe(t)},disabled:be,children:e})]},e)}))}),(0,n.BX)(o.G7,{css:o.l0.flex.growAndShrink(1),children:["Basics"===$&&(0,n.tZ)(Zt,{}),"Tags"===$&&(0,n.tZ)($e,{}),"Icon"===$&&(0,n.tZ)(Ut,{}),"Cover page"===$&&(0,n.tZ)(Et,{fs:L}),"Publishing"===$&&(0,n.tZ)(Jt,{})]}),(0,n.BX)(o.G7,{children:[j&&me&&me!==$?(0,n.tZ)(o.E_,{colorway:"negative",icon:(0,n.tZ)(g.Z,{}),text:"Please fix error in ".concat(me," section")}):null,_?(0,n.tZ)(o.E_,{colorway:"negative",icon:(0,n.tZ)(g.Z,{}),text:_}):null,W?(0,n.tZ)(o.E_,{colorway:"negative",icon:(0,n.tZ)(g.Z,{}),text:W}):null]}),(0,n.BX)(o.G7,{css:[o.l0.rowWithGap(8),o.l0.justify.spaceBetween,o.l0.align.center],children:[(0,n.tZ)(o.zx,{css:[0===M&&o.l0.visibility.hidden],type:"button",iconLeft:(0,n.tZ)(m.Z,{}),disabled:be,onClick:function(){return xe(M-1)},text:"Back"}),F?(0,n.tZ)(o.G7,{css:[o.l0.rowWithGap(4),o.l0.color.foregroundDimmer],children:(0,n.tZ)(s.Z,{})}):null,(0,n.BX)(o.u,{tooltip:Ze,placement:"bottom",isDisabled:!Ze,children:[!j&&(0,n.tZ)(o.zx,{type:"submit",colorway:"primary",iconLeft:(0,n.tZ)(Z.Z,{}),disabled:be,text:"Next",dataCy:"publish-form-next-button"}),j&&!X?(0,n.tZ)(o.zx,{type:"submit",colorway:"primary",css:[{boxShadow:"0px 0px 16px 0px ".concat(o.TV.accentPrimaryDimmer," !important")}],iconLeft:(0,n.tZ)(v.Z,{}),disabled:Boolean(be||me),text:D?ye:Re,dataCy:"publish-form-publish-button"}):null,j&&X?(0,n.tZ)(o.zx,{type:"submit",colorway:"primary",iconLeft:(0,n.tZ)(v.Z,{}),disabled:Boolean(be||me),text:F?"Saving...":"Save"}):null]})]})]})]}),(0,n.tZ)(rr,{user:r})]})})}function ir(e){var t,r,l=e.replId,u=e.source,c=(0,a.NH)(),d="CurrentUser"===(null===(t=c.data)||void 0===t||null===(r=t.currentUser)||void 0===r?void 0:r.__typename)?c.data.currentUser:null;return c.loading?(0,n.tZ)(i.Z,{css:[o.l0.center,o.l0.p(32)],children:(0,n.tZ)(s.Z,{})}):c.error||!d?(0,n.tZ)(i.Z,{css:[o.l0.center,o.l0.p(32)],children:(0,n.tZ)(o.xv,{children:"Something went wrong, please try again."})}):(0,n.tZ)(lr,{source:u,replId:l,currentUser:d})}},87340:function(e,t,r){r.d(t,{O:function(){return C},Z:function(){return R}});var n=r(26042),l=r(69396),i=r(29815),a=r(35944),o=(r(67294),r(41664)),s=r.n(o),u=r(70917),c=r(1144),d=r(93160),p=r(69346),h=r(81255),f=r(69928),g=r(4924),v=r(53427),m=r(88046),Z=r(27843),b=r(45273),w=p.K.a,y=(0,u.iv)({"::after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}});function R(e){var t=e.post,r=t.repl,i=t.user,o=r.isTemplate?"Template":"Repl";return(0,a.BX)(p.Z,{css:h.l0.colWithGap(8),children:[(0,a.BX)(p.Z,{css:[h.l0.flex.row,h.l0.align.center,h.l0.justify.spaceBetween],children:[(0,a.tZ)(p.Z,{css:[h.l0.flex.row,h.l0.align.center],children:(0,a.BX)(p.Z,{css:[h.l0.rowWithGap(8),h.l0.align.center],children:[(0,a.tZ)(b.Z,{size:24,username:i.username,src:i.image}),(0,a.BX)(p.Z,{css:h.l0.rowWithGap(4),children:[(0,a.tZ)(c.x,{children:i.username}),(0,a.BX)(c.x,{color:"dimmest",children:[" published a ",o]})]})]})}),(0,a.tZ)(Z.Z,{size:12})]}),(0,a.BX)(d.Z,{css:[h.l0.borderRadius(8),h.l0.colWithGap(8),h.l0.p(8),h.l0.position.relative,{border:"1px solid "+h.TV.outlineDimmest}],children:[(0,a.tZ)(p.Z,{css:[h.l0.colWithGap(16)],children:(0,a.tZ)(p.Z,{css:[h.l0.rowWithGap(16),h.l0.justify.spaceBetween],children:(0,a.BX)(p.Z,{css:[h.l0.rowWithGap(8),h.l0.align.start,h.l0.flex.growAndShrink(1)],children:[(0,a.tZ)(v.ZP,{iconUrl:r.iconUrl,alt:r.title,size:84,css:[h.l0.backgroundColor.backgroundHigher]}),(0,a.BX)(p.Z,{css:[h.l0.flex.growAndShrink(1),h.l0.colWithGap(4)],children:[(0,a.BX)(p.Z,{css:[h.l0.flex.row],children:[(0,a.tZ)(s(),(0,l.Z)((0,n.Z)({passHref:!0},(0,m.j3)(r)),{children:(0,a.tZ)(w,{css:[{color:"inherit"},y,h.l0.flex.growAndShrink(1),h.l0.minWidth(0)],onClick:function(e){return e.preventDefault()},children:(0,a.tZ)(c.x,{variant:"subheadBig",children:r.title})})})),r.isTemplate?(0,a.tZ)(x,{}):null]}),r.description?(0,a.tZ)(c.x,{color:"dimmer",maxLines:2,children:r.description}):null]})]})})}),(0,a.BX)(p.Z,{css:[h.l0.rowWithGap(8),h.l0.justify.spaceBetween,h.l0.minHeight(24)],children:[(0,a.tZ)(f.Z,{repl:{id:r.id,runCount:0,likeCount:0,commentCount:0}}),(0,a.tZ)(p.Z,{css:[h.l0.position.relative,{zIndex:1},h.l0.flex.shrink(1)],children:(0,a.tZ)(g.Vs,{tags:r.tags,onTagClick:function(e){return e.preventDefault()}})})]})]})]})}var x=function(){return(0,a.tZ)("span",{css:[h.l0.display.inlineFlex,h.l0.align.center,h.l0.height(24),h.l0.px(8),h.l0.borderRadius(16),h.l0.backgroundColor.yellowDimmest,h.l0.color.yellowStrongest,h.l0.justify.center,h.l0.ml(8),{fontSize:h.TV.fontSizeSmall,lineHeight:h.TV.fontSizeSmall}],children:"Template"})},C=function(){return(0,a.BX)(p.Z,{css:[h.l0.colWithGap(8),{opacity:.5}],children:[(0,a.BX)(p.Z,{css:[h.l0.flex.row,h.l0.align.center,h.l0.flex.grow(1),h.l0.justify.spaceBetween],children:[(0,a.BX)(p.Z,{css:[h.l0.rowWithGap(8),h.l0.align.center],children:[(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(24),h.l0.height(24),h.l0.borderRadius(16)]}),(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(126),h.l0.height(12),h.l0.borderRadius(4)]})]}),(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(12),h.l0.height(12),h.l0.borderRadius(8)]})]}),(0,a.BX)(p.Z,{css:[h.l0.backgroundColor.backgroundDefault,h.l0.width("100%"),h.l0.height(132),h.l0.borderRadius(8),h.l0.colWithGap(8),h.l0.p(8)],children:[(0,a.BX)(p.Z,{css:h.l0.rowWithGap(8),children:[(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.height(84),h.l0.width(84),h.l0.borderRadius(4)]}),(0,a.BX)(p.Z,{css:[h.l0.colWithGap(12),h.l0.pt(4),h.l0.flex.grow(1)],children:[(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(80),h.l0.height(16),h.l0.borderRadius(4)]}),(0,a.BX)(p.Z,{css:h.l0.colWithGap(8),children:[(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width("100%"),h.l0.height(12),h.l0.borderRadius(4)]}),(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width("80%"),h.l0.height(12),h.l0.borderRadius(4)]})]})]})]}),(0,a.BX)(p.Z,{css:[h.l0.flex.row,h.l0.flex.grow(1),h.l0.align.center,h.l0.justify.spaceBetween],children:[(0,a.tZ)(p.Z,{css:h.l0.rowWithGap(16),children:(0,i.Z)(Array(3)).map((function(e,t){return(0,a.BX)(p.Z,{css:[h.l0.rowWithGap(4),h.l0.align.center],children:[(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(12),h.l0.height(12),h.l0.borderRadius(8)]}),(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(16),h.l0.height(8),h.l0.borderRadius(2)]})]},t)}))}),(0,a.tZ)(p.Z,{css:h.l0.rowWithGap(4),children:(0,i.Z)(Array(2)).map((function(e,t){return(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(48),h.l0.height(24),h.l0.borderRadius(16)]},t)}))})]})]})]})}},79064:function(e,t,r){r.d(t,{q:function(){return b}});var n=r(26042),l=r(69396),i=r(10253),a=r(35944),o=r(67294),s=r(15085),u=r(90317),c=r(41664),d=r.n(c),p=r(88046),h=r(79500),f=r(41034),g=r(85565),v=r(9517),m=r(71255),Z=function(e){var t=e.url,r=e.successMessageDurationMs,n=void 0===r?1500:r,l=(0,i.Z)(o.useState(!1),2),u=l[0],c=l[1],d=o.useRef(null);return o.useEffect((function(){return function(){d.current&&clearTimeout(d.current)}}),[]),(0,a.tZ)(s.u,{isOpen:u,placement:"bottom",tooltip:u?"Copied!":"Copy link",delay:0,children:(0,a.tZ)(s.hU,{alt:"Copy link",tooltipHidden:!1,onClick:function(){t&&((0,h.Z)(t),c(!0),d.current=setTimeout((function(){c(!1)}),n))},children:(0,a.tZ)(f.Z,{})})})},b=function(e){var t=e.repl,r=e.isUpdate,i=(0,p.j3)(t),o=t.url?(0,p.QB)(t):"",c=t.publishedAs===u.O2.Template,h=(0,m.Z)({text:"Check out what I just published on Replit: ".concat(t.title),url:o});return(0,a.BX)(s.Tg,{background:"default",css:[s.l0.borderRadius(8),s.l0.p(16),s.l0.overflow("hidden"),s.l0.colWithGap(16),s.l0.flex.growAndShrink(1)],dataCy:"published-repl-share-info-container",children:[(0,a.BX)(s.G7,{css:[s.l0.colWithGap(16)],children:[(0,a.BX)(s.xv,{variant:"subheadBig",children:[c?"Template":"Repl"," ",r?"updated":"published","!"]})," ",(0,a.BX)(s.G7,{css:[s.l0.colWithGap(4)],children:[(0,a.tZ)(s.xv,{variant:"small",css:[s.l0.color.foregroundDimmer],children:"Cover page link"}),(0,a.BX)(s.G7,{css:[s.l0.rowWithGap(4),s.l0.align.center],children:[(0,a.tZ)(d(),(0,l.Z)((0,n.Z)({},i),{css:[s.l0.flex.growAndShrink(1)],children:(0,a.tZ)("a",{css:[{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}],children:o})})),(0,a.tZ)(Z,{url:o})]})]})]}),(0,a.BX)(s.G7,{css:[s.l0.rowWithGap(8),s.l0.justify.end,{alignItems:"flex-end"}],children:[(0,a.tZ)(s.ZP,{prefetch:!1,href:h,iconLeft:(0,a.tZ)(g.Z,{}),text:"Share to twitter",target:"_blank"}),(0,a.tZ)(s.ZP,{iconRight:(0,a.tZ)(v.Z,{}),text:c?"Go to Templates":"Go to Community",href:c?{pathname:"/templates/templates"}:{pathname:"/postsFeed",query:{order:"new"}},as:c?"/templates":"/community/all"})]})]})}},40914:function(e,t,r){r.d(t,{r:function(){return Z}});var n=r(47568),l=r(10253),i=r(70655),a=r(26042),o=r(7297),s=r(31230),u=r(15764),c=r(50319);function d(){var e=(0,o.Z)(["\n  mutation CreateTemplateReleaseCreateDeployment(\n    $input: CreateReplDeployemntInput!\n  ) {\n    createReplDeployment(input: $input) {\n      ... on Repl {\n        id\n        ...PublishReplData\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function p(){var e=(0,o.Z)(["\n  mutation CreateTemplateReleaseCreateRelease($input: CreateReplReleaseInput!) {\n    createReplRelease(input: $input) {\n      ... on Repl {\n        id\n        ...PublishReplData\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return p=function(){return e},e}var h={},f=(0,s.Ps)(d(),u.FW);var g=(0,s.Ps)(p(),u.FW);var v="Something went wrong publishing your Template";function m(e){if(e.error)return e.error.message||v;if(e.data){if("createReplDeployment"in e.data){if("NotFoundError"===e.data.createReplDeployment.__typename||"UnauthorizedError"===e.data.createReplDeployment.__typename||"UserError"===e.data.createReplDeployment.__typename)return e.data.createReplDeployment.message;if("Repl"!==e.data.createReplDeployment.__typename)return v}if("createReplRelease"in e.data){if("NotFoundError"===e.data.createReplRelease.__typename||"UnauthorizedError"===e.data.createReplRelease.__typename||"UserError"===e.data.createReplRelease.__typename)return e.data.createReplRelease.message;if("Repl"!==e.data.createReplRelease.__typename)return v}}}function Z(){var e=(0,l.Z)(function(e){var t=(0,a.Z)({},h,e);return c.D(f,t)}(),2),t=e[0],r=e[1],o=(0,l.Z)(function(e){var t=(0,a.Z)({},h,e);return c.D(g,t)}(),2),s=o[0],u=o[1],d=function(){var e=(0,n.Z)((function(e){var t,n;return(0,i.__generator)(this,(function(l){switch(l.label){case 0:if(t=e.input,r.loading||u.loading)return[2,{data:null,error:null}];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,s({refetchQueries:["ReplEnvironmentHeader"],variables:{input:t}})];case 2:return[2,{data:(n=l.sent()).data,error:m(n)}];case 3:return l.sent(),[2,{data:null,error:v}];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)((function(e){var n,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(n=e.input,r.loading||u.loading)return[2,{data:null,error:null}];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t({variables:{input:n}})];case 2:return[2,{data:(l=i.sent()).data,error:m(l)}];case 3:return i.sent(),[2,{data:null,error:v}];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();return{createRelease:d,createDeployment:p,data:r.data||u.data,loading:r.loading||u.loading,error:m(r||u)}}}}]);
//# sourceMappingURL=3426-a8ad62f02e258cec.js.map